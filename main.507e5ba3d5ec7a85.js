"use strict";var P4e=Object.defineProperty,H4e=Object.defineProperties,B4e=Object.getOwnPropertyDescriptors,xZ=Object.getOwnPropertySymbols,j4e=Object.prototype.hasOwnProperty,U4e=Object.prototype.propertyIsEnumerable,MZ=(Ti,_n,Be)=>_n in Ti?P4e(Ti,_n,{enumerable:!0,configurable:!0,writable:!0,value:Be}):Ti[_n]=Be,Ct=(Ti,_n)=>{for(var Be in _n||(_n={}))j4e.call(_n,Be)&&MZ(Ti,Be,_n[Be]);if(xZ)for(var Be of xZ(_n))U4e.call(_n,Be)&&MZ(Ti,Be,_n[Be]);return Ti},Q3=(Ti,_n)=>H4e(Ti,B4e(_n));(self.webpackChunkasct=self.webpackChunkasct||[]).push([[179],{732:(Ti,_n,Be)=>{function Pe(H,Z,ee){return H.fields=Z||[],H.fname=ee,H}function Uo(H){return null==H?null:H.fname}function zi(H){return null==H?null:H.fields}function vi(H){return 1===H.length?Nt(H[0]):Yr(H)}Be.d(_n,{jj:()=>Q1,ZE:()=>Pe,Oj:()=>zi,el:()=>Uo,IX:()=>M1,j2:()=>r6,l$:()=>o7,qu:()=>sf,a9:()=>qo,Ds:()=>cf,vU:()=>Ar,l7:()=>lf,We:()=>uf,dI:()=>c7,k:()=>J3,Xr:()=>df,EP:()=>Zn,yl:()=>K_,nr:()=>J1,id:()=>kr,yR:()=>tr,XW:()=>K2,u5:()=>jl,kJ:()=>Bn,jn:()=>Ln,J_:()=>Kr,mf:()=>Ns,TW:()=>nr,hj:()=>w1,Kn:()=>zs,Kj:()=>Wo,HD:()=>Q2,Jy:()=>o6,t7:()=>Ul,kg:()=>Pl,$m:()=>Go,TS:()=>Q_,fE:()=>e6,kX:()=>E,vk:()=>Ls,Dw:()=>Bl,mJ:()=>nn,QA:()=>Gt,Zw:()=>an,fj:()=>Na,mS:()=>X_,yP:()=>J2,_k:()=>Zr,m8:()=>hf,sw:()=>l7,ZU:()=>u7,He:()=>Lt,Rg:()=>f7,BB:()=>Fs,$G:()=>$l,yb:()=>_i,N3:()=>i6,FP:()=>xk,bM:()=>x1,ay:()=>La,dH:()=>rf,mK:()=>Z2,bV:()=>af});const Nt=H=>function(Z){return Z[H]},Yr=H=>{const Z=H.length;return function(ee){for(let ne=0;ne<Z;++ne)ee=ee[H[ne]];return ee}};function Ar(H){throw Error(H)}function Zr(H){const Z=[],ee=H.length;let me,ve,Qe,ne=null,oe=0,ae="";function Xt(){Z.push(ae+H.substring(me,ve)),ae="",me=ve+1}for(H+="",me=ve=0;ve<ee;++ve)if(Qe=H[ve],"\\"===Qe)ae+=H.substring(me,ve),ae+=H.substring(++ve,++ve),me=ve;else if(Qe===ne)Xt(),ne=null,oe=-1;else{if(ne)continue;me===oe&&'"'===Qe||me===oe&&"'"===Qe?(me=ve+1,ne=Qe):"."!==Qe||oe?"["===Qe?(ve>me&&Xt(),oe=me=ve+1):"]"===Qe&&(oe||Ar("Access path missing open bracket: "+H),oe>0&&Xt(),oe=0,me=ve+1):ve>me?Xt():me=ve+1}return oe&&Ar("Access path missing closing bracket: "+H),ne&&Ar("Access path missing closing quote: "+H),ve>me&&(ve++,Xt()),Z}function Zn(H,Z,ee){const ne=Zr(H);return H=1===ne.length?ne[0]:H,Pe((ee&&ee.get||vi)(ne),[H],Z||H)}const kr=Zn("id"),tr=Pe(H=>H,[],"identity"),x1=Pe(()=>0,[],"zero"),E=Pe(()=>1,[],"one"),_i=Pe(()=>!0,[],"true"),J3=Pe(()=>!1,[],"false");function X2(H,Z,ee){const ne=[Z].concat([].slice.call(ee));console[H].apply(console,ne)}const Q1=1;function Pl(H,Z,ee=X2){let ne=H||0;return{level(oe){return arguments.length?(ne=+oe,this):ne},error(){return ne>=Q1&&ee(Z||"error","ERROR",arguments),this},warn(){return ne>=2&&ee(Z||"warn","WARN",arguments),this},info(){return ne>=3&&ee(Z||"log","INFO",arguments),this},debug(){return ne>=4&&ee(Z||"log","DEBUG",arguments),this}}}var Bn=Array.isArray;function zs(H){return H===Object(H)}const ef=H=>"__proto__"!==H;function e6(...H){return H.reduce((Z,ee)=>{for(const ne in ee)"signals"===ne?Z.signals=t6(Z.signals,ee.signals):$o(Z,ne,ee[ne],"legend"===ne?{layout:1}:"style"===ne||null);return Z},{})}function $o(H,Z,ee,ne){if(!ef(Z))return;let oe,ae;if(zs(ee)&&!Bn(ee))for(oe in ae=zs(H[Z])?H[Z]:H[Z]={},ee)ne&&(!0===ne||ne[oe])?$o(ae,oe,ee[oe]):ef(oe)&&(ae[oe]=ee[oe]);else H[Z]=ee}function t6(H,Z){if(null==H)return Z;const ee={},ne=[];function oe(ae){ee[ae.name]||(ee[ae.name]=1,ne.push(ae))}return Z.forEach(oe),H.forEach(oe),ne}function Na(H){return H[H.length-1]}function Lt(H){return null==H||""===H?null:+H}const Hl=H=>Z=>H*Math.exp(Z),n6=H=>Z=>Math.log(H*Z),tf=H=>Z=>Math.sign(Z)*Math.log1p(Math.abs(Z/H)),nf=H=>Z=>Math.sign(Z)*Math.expm1(Math.abs(Z))*H,st=H=>Z=>Z<0?-Math.pow(-Z,H):Math.pow(Z,H);function Y2(H,Z,ee,ne){const oe=ee(H[0]),ae=ee(Na(H)),me=(ae-oe)*Z;return[ne(oe-me),ne(ae-me)]}function Bl(H,Z){return Y2(H,Z,Lt,tr)}function nn(H,Z){var ee=Math.sign(H[0]);return Y2(H,Z,n6(ee),Hl(ee))}function Gt(H,Z,ee){return Y2(H,Z,st(ee),st(1/ee))}function an(H,Z,ee){return Y2(H,Z,tf(ee),nf(ee))}function Ia(H,Z,ee,ne,oe){const ae=ne(H[0]),me=ne(Na(H)),ve=null!=Z?ne(Z):(ae+me)/2;return[oe(ve+(ae-ve)*ee),oe(ve+(me-ve)*ee)]}function La(H,Z,ee){return Ia(H,Z,ee,Lt,tr)}function rf(H,Z,ee){const ne=Math.sign(H[0]);return Ia(H,Z,ee,n6(ne),Hl(ne))}function Z2(H,Z,ee,ne){return Ia(H,Z,ee,st(ne),st(1/ne))}function af(H,Z,ee,ne){return Ia(H,Z,ee,tf(ne),nf(ne))}function X_(H){return 1+~~(new Date(H).getMonth()/3)}function i6(H){return 1+~~(new Date(H).getUTCMonth()/3)}function M1(H){return null!=H?Bn(H)?H:[H]:[]}function o7(H,Z,ee){let ae,ne=H[0],oe=H[1];return oe<ne&&(ae=oe,oe=ne,ne=ae),ae=oe-ne,ae>=ee-Z?[Z,ee]:[ne=Math.min(Math.max(ne,Z),ee-ae),ne+ae]}function Ns(H){return"function"==typeof H}function sf(H,Z,ee){ee=ee||{},Z=M1(Z)||[];const ne=[],oe=[],ae={},me=ee.comparator||Y_;return M1(H).forEach((ve,Qe)=>{null!=ve&&(ne.push("descending"===Z[Qe]?-1:1),oe.push(ve=Ns(ve)?ve:Zn(ve,null,ee)),(zi(ve)||[]).forEach(Xt=>ae[Xt]=1))}),0===oe.length?null:Pe(me(oe,ne),Object.keys(ae))}const r6=(H,Z)=>(H<Z||null==H)&&null!=Z?-1:(H>Z||null==Z)&&null!=H?1:(Z=Z instanceof Date?+Z:Z,(H=H instanceof Date?+H:H)!==H&&Z==Z?-1:Z!=Z&&H==H?1:0),Y_=(H,Z)=>1===H.length?s7(H[0],Z[0]):Z_(H,Z,H.length),s7=(H,Z)=>function(ee,ne){return r6(H(ee),H(ne))*Z},Z_=(H,Z,ee)=>(Z.push(0),function(ne,oe){let ae,me=0,ve=-1;for(;0===me&&++ve<ee;)ae=H[ve],me=r6(ae(ne),ae(oe));return me*Z[ve]});function qo(H){return Ns(H)?H:()=>H}function cf(H,Z){let ee;return ne=>{ee&&clearTimeout(ee),ee=setTimeout(()=>(Z(ne),ee=null),H)}}function lf(H){for(let Z,ee,ne=1,oe=arguments.length;ne<oe;++ne)for(ee in Z=arguments[ne],Z)H[ee]=Z[ee];return H}function uf(H,Z){let ne,oe,ae,me,ee=0;if(H&&(ne=H.length))if(null==Z){for(oe=H[ee];ee<ne&&(null==oe||oe!=oe);oe=H[++ee]);for(ae=me=oe;ee<ne;++ee)oe=H[ee],null!=oe&&(oe<ae&&(ae=oe),oe>me&&(me=oe))}else{for(oe=Z(H[ee]);ee<ne&&(null==oe||oe!=oe);oe=Z(H[++ee]));for(ae=me=oe;ee<ne;++ee)oe=Z(H[ee]),null!=oe&&(oe<ae&&(ae=oe),oe>me&&(me=oe))}return[ae,me]}function c7(H,Z){const ee=H.length;let oe,ae,me,ve,Qe,ne=-1;if(null==Z){for(;++ne<ee;)if(ae=H[ne],null!=ae&&ae>=ae){oe=me=ae;break}if(ne===ee)return[-1,-1];for(ve=Qe=ne;++ne<ee;)ae=H[ne],null!=ae&&(oe>ae&&(oe=ae,ve=ne),me<ae&&(me=ae,Qe=ne))}else{for(;++ne<ee;)if(ae=Z(H[ne],ne,H),null!=ae&&ae>=ae){oe=me=ae;break}if(ne===ee)return[-1,-1];for(ve=Qe=ne;++ne<ee;)ae=Z(H[ne],ne,H),null!=ae&&(oe>ae&&(oe=ae,ve=ne),me<ae&&(me=ae,Qe=ne))}return[ve,Qe]}const ff=Object.prototype.hasOwnProperty;function J1(H,Z){return ff.call(H,Z)}const Is={};function df(H){let ee,Z={};function ne(ae){return J1(Z,ae)&&Z[ae]!==Is}const oe={size:0,empty:0,object:Z,has:ne,get:ae=>ne(ae)?Z[ae]:void 0,set(ae,me){return ne(ae)||(++oe.size,Z[ae]===Is&&--oe.empty),Z[ae]=me,this},delete(ae){return ne(ae)&&(--oe.size,++oe.empty,Z[ae]=Is),this},clear(){oe.size=oe.empty=0,oe.object=Z={}},test(ae){return arguments.length?(ee=ae,oe):ee},clean(){const ae={};let me=0;for(const ve in Z){const Qe=Z[ve];Qe!==Is&&(!ee||!ee(Qe))&&(ae[ve]=Qe,++me)}oe.size=me,oe.empty=0,oe.object=Z=ae}};return H&&Object.keys(H).forEach(ae=>{oe.set(ae,H[ae])}),oe}function K_(H,Z,ee,ne,oe,ae){if(!ee&&0!==ee)return ae;const me=+ee;let Xt,ve=H[0],Qe=Na(H);Qe<ve&&(Xt=ve,ve=Qe,Qe=Xt),Xt=Math.abs(Z-ve);const ec=Math.abs(Qe-Z);return Xt<ec&&Xt<=me?ne:ec<=me?oe:ae}function K2(H,Z,ee){const ne=H.prototype=Object.create(Z.prototype);return Object.defineProperty(ne,"constructor",{value:H,writable:!0,enumerable:!0,configurable:!0}),lf(ne,ee)}function jl(H,Z,ee,ne){let me,oe=Z[0],ae=Z[Z.length-1];return oe>ae&&(me=oe,oe=ae,ae=me),ne=void 0===ne||ne,((ee=void 0===ee||ee)?oe<=H:oe<H)&&(ne?H<=ae:H<ae)}function Ln(H){return"boolean"==typeof H}function Kr(H){return"[object Date]"===Object.prototype.toString.call(H)}function nr(H){return H&&Ns(H[Symbol.iterator])}function w1(H){return"number"==typeof H}function Wo(H){return"[object RegExp]"===Object.prototype.toString.call(H)}function Q2(H){return"string"==typeof H}function o6(H,Z,ee){H&&(H=Z?M1(H).map(ve=>ve.replace(/\\(.)/g,"$1")):M1(H));const ne=H&&H.length,oe=ee&&ee.get||vi,ae=ve=>oe(Z?[ve]:Zr(ve));let me;if(ne)if(1===ne){const ve=ae(H[0]);me=function(Qe){return""+ve(Qe)}}else{const ve=H.map(ae);me=function(Qe){let Xt=""+ve[0](Qe),ec=0;for(;++ec<ne;)Xt+="|"+ve[ec](Qe);return Xt}}else me=function(){return""};return Pe(me,H,"key")}function Ul(H,Z){const ee=H[0],ne=Na(H),oe=+Z;return oe?1===oe?ne:ee+oe*(ne-ee):ee}function Go(H){let Z,ee,ne;H=+H||1e4;const oe=()=>{Z={},ee={},ne=0},ae=(me,ve)=>(++ne>H&&(ee=Z,Z={},ne=1),Z[me]=ve);return oe(),{clear:oe,has:me=>J1(Z,me)||J1(ee,me),get:me=>J1(Z,me)?Z[me]:J1(ee,me)?ae(me,ee[me]):void 0,set:(me,ve)=>J1(Z,me)?Z[me]=ve:ae(me,ve)}}function Q_(H,Z,ee,ne){const oe=Z.length,ae=ee.length;if(!ae)return Z;if(!oe)return ee;const me=ne||new Z.constructor(oe+ae);let ve=0,Qe=0,Xt=0;for(;ve<oe&&Qe<ae;++Xt)me[Xt]=H(Z[ve],ee[Qe])>0?ee[Qe++]:Z[ve++];for(;ve<oe;++ve,++Xt)me[Xt]=Z[ve];for(;Qe<ae;++Qe,++Xt)me[Xt]=ee[Qe];return me}function E1(H,Z){let ee="";for(;--Z>=0;)ee+=H;return ee}function Ls(H,Z,ee,ne){const oe=ee||" ",ae=H+"",me=Z-ae.length;return me<=0?ae:"left"===ne?E1(oe,me)+ae:"center"===ne?E1(oe,~~(me/2))+ae+E1(oe,Math.ceil(me/2)):ae+E1(oe,me)}function J2(H){return H&&Na(H)-H[0]||0}function hf(H){return Bn(H)?"["+H.map(hf)+"]":zs(H)||Q2(H)?JSON.stringify(H).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):H}function l7(H){return null==H||""===H?null:!(!H||"false"===H||"0"===H||!H)}const Ni=H=>w1(H)||Kr(H)?H:Date.parse(H);function u7(H,Z){return Z=Z||Ni,null==H||""===H?null:Z(H)}function Fs(H){return null==H||""===H?null:H+""}function f7(H){const Z={},ee=H.length;for(let ne=0;ne<ee;++ne)Z[H[ne]]=!0;return Z}function $l(H,Z,ee,ne){const oe=null!=ne?ne:"\u2026",ae=H+"",me=ae.length,ve=Math.max(0,Z-oe.length);return me<=Z?ae:"left"===ee?oe+ae.slice(me-ve):"center"===ee?ae.slice(0,Math.ceil(ve/2))+oe+ae.slice(me-~~(ve/2)):ae.slice(0,ve)+oe}function xk(H,Z,ee){if(H)if(Z){const ne=H.length;for(let oe=0;oe<ne;++oe){const ae=Z(H[oe]);ae&&ee(ae,oe,H)}}else H.forEach(ee)}},951:(Ti,_n,Be)=>{Be.d(_n,{G7x:()=>pS,_K7:()=>Jl,Qc3:()=>ZB});var Pe={};Be.r(Pe),Be.d(Pe,{aggregate:()=>Qs,bin:()=>W7,collect:()=>mb,compare:()=>pb,countpattern:()=>Uf,cross:()=>wc,density:()=>N6,dotbin:()=>Y7,expression:()=>yb,extent:()=>d0,facet:()=>h0,field:()=>Cb,filter:()=>Gf,flatten:()=>Z7,fold:()=>m0,formula:()=>Xf,generate:()=>xb,impute:()=>K7,joinaggregate:()=>Ec,kde:()=>Mi,key:()=>Zf,load:()=>Q7,lookup:()=>I6,multiextent:()=>wb,multivalues:()=>J7,params:()=>e9,pivot:()=>t9,prefacet:()=>Db,project:()=>Kf,proxy:()=>i9,quantile:()=>r9,relay:()=>o9,sample:()=>p0,sequence:()=>a9,sieve:()=>Sb,subflow:()=>Wf,timeunit:()=>lo,tupleindex:()=>kb,values:()=>Tb,window:()=>Jf});var Uo={};Be.r(Uo),Be.d(Uo,{interpolate:()=>aa,interpolateArray:()=>rz,interpolateBasis:()=>iC,interpolateBasisClosed:()=>R9,interpolateCubehelix:()=>Mz,interpolateCubehelixLong:()=>wz,interpolateDate:()=>Or,interpolateDiscrete:()=>S0,interpolateHcl:()=>j$,interpolateHclLong:()=>U$,interpolateHsl:()=>zC,interpolateHslLong:()=>NC,interpolateHue:()=>vz,interpolateLab:()=>B$,interpolateNumber:()=>mo,interpolateNumberArray:()=>O9,interpolateObject:()=>sC,interpolateRgb:()=>x8,interpolateRgbBasis:()=>rC,interpolateRgbBasisClosed:()=>oC,interpolateRound:()=>M0,interpolateString:()=>fC,interpolateTransformCss:()=>em,interpolateTransformSvg:()=>Ka,interpolateZoom:()=>TC,piecewise:()=>T8,quantize:()=>Ez});var zi={};Be.r(zi),Be.d(zi,{bound:()=>IM,identifier:()=>Cp,mark:()=>xp,overlap:()=>Mp,render:()=>Sp,viewlayout:()=>Eu});var vi={};Be.r(vi),Be.d(vi,{axisticks:()=>jd,datajoin:()=>Tp,encode:()=>bI,legendentries:()=>Ud,linkpath:()=>HM,pie:()=>Lp,scale:()=>$M,sortitems:()=>WM,stack:()=>Au});var Nt={};Be.r(Nt),Be.d(Nt,{contour:()=>_h,geojson:()=>Wu,geopath:()=>mg,geopoint:()=>ol,geoshape:()=>a4,graticule:()=>s4,heatmap:()=>Gu,isocontour:()=>ug,kde2d:()=>vh,projection:()=>Jw});var Yr={};Be.r(Yr),Be.d(Yr,{force:()=>Mn});var Ar={};Be.r(Ar),Be.d(Ar,{nest:()=>Vh,pack:()=>Oh,partition:()=>Ph,stratify:()=>Tg,tree:()=>EE,treelinks:()=>f1,treemap:()=>Lg});var Zr={};Be.r(Zr),Be.d(Zr,{label:()=>jh});var Zn={};Be.r(Zn),Be.d(Zn,{loess:()=>Og,regression:()=>Pg});var kr={};Be.r(kr),Be.d(kr,{voronoi:()=>y4});var tr={};Be.r(tr),Be.d(tr,{wordcloud:()=>WE});var x1={};Be.r(x1),Be.d(x1,{crossfilter:()=>Gg,resolvefilter:()=>Xg});var E=Be(732),_i=Be(239),J3={},X2={};function Ol(e){return new Function("d","return {"+e.map(function(r,a){return JSON.stringify(r)+": d["+a+'] || ""'}).join(",")+"}")}function Pl(e){var r=Object.create(null),a=[];return e.forEach(function(s){for(var l in s)l in r||a.push(r[l]=l)}),a}function Bn(e,r){var a=e+"",s=a.length;return s<r?new Array(r-s+1).join(0)+a:a}function e6(e){var r=new RegExp('["'+e+"\n\r]"),a=e.charCodeAt(0);function l(y,C){var T,M=[],w=y.length,S=0,A=0,N=w<=0,I=!1;function F(){if(N)return X2;if(I)return I=!1,J3;var P,W,V=S;if(34===y.charCodeAt(V)){for(;S++<w&&34!==y.charCodeAt(S)||34===y.charCodeAt(++S););return(P=S)>=w?N=!0:10===(W=y.charCodeAt(S++))?I=!0:13===W&&(I=!0,10===y.charCodeAt(S)&&++S),y.slice(V+1,P-1).replace(/""/g,'"')}for(;S<w;){if(10===(W=y.charCodeAt(P=S++)))I=!0;else if(13===W)I=!0,10===y.charCodeAt(S)&&++S;else if(W!==a)continue;return y.slice(V,P)}return N=!0,y.slice(V,w)}for(10===y.charCodeAt(w-1)&&--w,13===y.charCodeAt(w-1)&&--w;(T=F())!==X2;){for(var O=[];T!==J3&&T!==X2;)O.push(T),T=F();C&&null==(O=C(O,A++))||M.push(O)}return M}function f(y,C){return y.map(function(M){return C.map(function(w){return _(M[w])}).join(e)})}function v(y){return y.map(_).join(e)}function _(y){return null==y?"":y instanceof Date?function(e){var r=e.getUTCHours(),a=e.getUTCMinutes(),s=e.getUTCSeconds(),l=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":function(e){return e<0?"-"+Bn(-e,6):e>9999?"+"+Bn(e,6):Bn(e,4)}(e.getUTCFullYear())+"-"+Bn(e.getUTCMonth()+1,2)+"-"+Bn(e.getUTCDate(),2)+(l?"T"+Bn(r,2)+":"+Bn(a,2)+":"+Bn(s,2)+"."+Bn(l,3)+"Z":s?"T"+Bn(r,2)+":"+Bn(a,2)+":"+Bn(s,2)+"Z":a||r?"T"+Bn(r,2)+":"+Bn(a,2)+"Z":"")}(y):r.test(y+="")?'"'+y.replace(/"/g,'""')+'"':y}return{parse:function(y,C){var M,w,S=l(y,function(A,T){if(M)return M(A,T-1);w=A,M=C?function(e,r){var a=Ol(e);return function(s,l){return r(a(s),l,e)}}(A,C):Ol(A)});return S.columns=w||[],S},parseRows:l,format:function(y,C){return null==C&&(C=Pl(y)),[C.map(_).join(e)].concat(f(y,C)).join("\n")},formatBody:function(y,C){return null==C&&(C=Pl(y)),f(y,C).join("\n")},formatRows:function(y){return y.map(v).join("\n")},formatRow:v,formatValue:_}}function t6(e){return e}function Lt(e,r){return"string"==typeof r&&(r=e.objects[r]),"GeometryCollection"===r.type?{type:"FeatureCollection",features:r.geometries.map(function(a){return Hl(e,a)})}:Hl(e,r)}function Hl(e,r){var a=r.id,s=r.bbox,l=null==r.properties?{}:r.properties,f=n6(e,r);return null==a&&null==s?{type:"Feature",properties:l,geometry:f}:null==s?{type:"Feature",id:a,properties:l,geometry:f}:{type:"Feature",id:a,bbox:s,properties:l,geometry:f}}function n6(e,r){var a=function(e){if(null==e)return t6;var r,a,s=e.scale[0],l=e.scale[1],f=e.translate[0],d=e.translate[1];return function(h,p){p||(r=a=0);var v=2,_=h.length,y=new Array(_);for(y[0]=(r+=h[0])*s+f,y[1]=(a+=h[1])*l+d;v<_;)y[v]=h[v],++v;return y}}(e.transform),s=e.arcs;function l(_,y){y.length&&y.pop();for(var C=s[_<0?~_:_],M=0,w=C.length;M<w;++M)y.push(a(C[M],M));_<0&&function(e,r){for(var a,s=e.length,l=s-r;l<--s;)a=e[l],e[l++]=e[s],e[s]=a}(y,w)}function f(_){return a(_)}function d(_){for(var y=[],C=0,M=_.length;C<M;++C)l(_[C],y);return y.length<2&&y.push(y[0]),y}function h(_){for(var y=d(_);y.length<4;)y.push(y[0]);return y}function p(_){return _.map(h)}return function v(_){var C,y=_.type;switch(y){case"GeometryCollection":return{type:y,geometries:_.geometries.map(v)};case"Point":C=f(_.coordinates);break;case"MultiPoint":C=_.coordinates.map(f);break;case"LineString":C=d(_.arcs);break;case"MultiLineString":C=_.arcs.map(d);break;case"Polygon":C=p(_.arcs);break;case"MultiPolygon":C=_.arcs.map(p);break;default:return null}return{type:y,coordinates:C}}(r)}function tf(e,r){var a={},s={},l={},f=[],d=-1;function p(v,_){for(var y in v){var C=v[y];delete _[C.start],delete C.start,delete C.end,C.forEach(function(M){a[M<0?~M:M]=1}),f.push(C)}}return r.forEach(function(v,_){var C,y=e.arcs[v<0?~v:v];y.length<3&&!y[1][0]&&!y[1][1]&&(C=r[++d],r[d]=v,r[_]=C)}),r.forEach(function(v){var M,w,_=function(v){var C,_=e.arcs[v<0?~v:v],y=_[0];return e.transform?(C=[0,0],_.forEach(function(M){C[0]+=M[0],C[1]+=M[1]})):C=_[_.length-1],v<0?[C,y]:[y,C]}(v),y=_[0],C=_[1];if(M=l[y])if(delete l[M.end],M.push(v),M.end=C,w=s[C]){delete s[w.start];var S=w===M?M:M.concat(w);s[S.start=M.start]=l[S.end=w.end]=S}else s[M.start]=l[M.end]=M;else if(M=s[C])if(delete s[M.start],M.unshift(v),M.start=y,w=l[y]){delete l[w.end];var A=w===M?M:w.concat(M);s[A.start=w.start]=l[A.end=M.end]=A}else s[M.start]=l[M.end]=M;else s[(M=[v]).start=y]=l[M.end=C]=M}),p(l,s),p(s,l),r.forEach(function(v){a[v<0?~v:v]||f.push([v])}),f}function nf(e){return n6(e,st.apply(this,arguments))}function st(e,r,a){var s,l,f;if(arguments.length>1)s=Y2(0,r,a);else for(l=0,s=new Array(f=e.arcs.length);l<f;++l)s[l]=l;return{type:"MultiLineString",arcs:tf(e,s)}}function Y2(e,r,a){var f,s=[],l=[];function d(y){var C=y<0?~y:y;(l[C]||(l[C]=[])).push({i:y,g:f})}function h(y){y.forEach(d)}function p(y){y.forEach(h)}return function _(y){switch(f=y,y.type){case"GeometryCollection":y.geometries.forEach(_);break;case"LineString":h(y.arcs);break;case"MultiLineString":case"Polygon":p(y.arcs);break;case"MultiPolygon":!function(y){y.forEach(p)}(y.arcs)}}(r),l.forEach(null==a?function(y){s.push(y[0].i)}:function(y){a(y[0].g,y[y.length-1].g)&&s.push(y[0].i)}),s}var Bl=Math.sqrt(50),nn=Math.sqrt(10),Gt=Math.sqrt(2);function an(e,r,a){var s,f,d,h,l=-1;if(a=+a,(e=+e)==(r=+r)&&a>0)return[e];if((s=r<e)&&(f=e,e=r,r=f),0===(h=Ia(e,r,a))||!isFinite(h))return[];if(h>0){let p=Math.round(e/h),v=Math.round(r/h);for(p*h<e&&++p,v*h>r&&--v,d=new Array(f=v-p+1);++l<f;)d[l]=(p+l)*h}else{h=-h;let p=Math.round(e*h),v=Math.round(r*h);for(p/h<e&&++p,v/h>r&&--v,d=new Array(f=v-p+1);++l<f;)d[l]=(p+l)/h}return s&&d.reverse(),d}function Ia(e,r,a){var s=(r-e)/Math.max(0,a),l=Math.floor(Math.log(s)/Math.LN10),f=s/Math.pow(10,l);return l>=0?(f>=Bl?10:f>=nn?5:f>=Gt?2:1)*Math.pow(10,l):-Math.pow(10,-l)/(f>=Bl?10:f>=nn?5:f>=Gt?2:1)}function La(e,r,a){var s=Math.abs(r-e)/Math.max(0,a),l=Math.pow(10,Math.floor(Math.log(s)/Math.LN10)),f=s/l;return f>=Bl?l*=10:f>=nn?l*=5:f>=Gt&&(l*=2),r<e?-l:l}var s7,rf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Z2(e){if(!(r=rf.exec(e)))throw new Error("invalid format: "+e);var r;return new af({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}function af(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function i6(e,r){if((a=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var a,s=e.slice(0,a);return[s.length>1?s[0]+s.slice(2):s,+e.slice(a+1)]}function M1(e){return(e=i6(Math.abs(e)))?e[1]:NaN}function o7(e,r){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(M1(r)/3)))-M1(Math.abs(e)))}function Ns(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,M1(r)-M1(e))+1}function a7(e){return Math.max(0,-M1(Math.abs(e)))}function qo(e,r){var a=i6(e,r);if(!a)return e+"";var s=a[0],l=a[1];return l<0?"0."+new Array(-l).join("0")+s:s.length>l+1?s.slice(0,l+1)+"."+s.slice(l+1):s+new Array(l-s.length+2).join("0")}Z2.prototype=af.prototype,af.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const cf={"%":(e,r)=>(100*e).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>qo(100*e,r),r:qo,s:function(e,r){var a=i6(e,r);if(!a)return e+"";var s=a[0],l=a[1],f=l-(s7=3*Math.max(-8,Math.min(8,Math.floor(l/3))))+1,d=s.length;return f===d?s:f>d?s+new Array(f-d+1).join("0"):f>0?s.slice(0,f)+"."+s.slice(f):"0."+new Array(1-f).join("0")+i6(e,Math.max(0,r+f-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function lf(e){return e}var J1,Is,df,uf=Array.prototype.map,c7=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function ff(e){var r=void 0===e.grouping||void 0===e.thousands?lf:function(e,r){return function(a,s){for(var l=a.length,f=[],d=0,h=e[0],p=0;l>0&&h>0&&(p+h+1>s&&(h=Math.max(1,s-p)),f.push(a.substring(l-=h,l+h)),!((p+=h+1)>s));)h=e[d=(d+1)%e.length];return f.reverse().join(r)}}(uf.call(e.grouping,Number),e.thousands+""),a=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",l=void 0===e.decimal?".":e.decimal+"",f=void 0===e.numerals?lf:function(e){return function(r){return r.replace(/[0-9]/g,function(a){return e[+a]})}}(uf.call(e.numerals,String)),d=void 0===e.percent?"%":e.percent+"",h=void 0===e.minus?"\u2212":e.minus+"",p=void 0===e.nan?"NaN":e.nan+"";function v(y){var C=(y=Z2(y)).fill,M=y.align,w=y.sign,S=y.symbol,A=y.zero,T=y.width,N=y.comma,I=y.precision,F=y.trim,O=y.type;"n"===O?(N=!0,O="g"):cf[O]||(void 0===I&&(I=12),F=!0,O="g"),(A||"0"===C&&"="===M)&&(A=!0,C="0",M="=");var P="$"===S?a:"#"===S&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",V="$"===S?s:/[%p]/.test(O)?d:"",W=cf[O],Y=/[defgprs%]/.test(O);function q(G){var fe,J,ue,re=P,ie=V;if("c"===O)ie=W(G)+ie,G="";else{var ye=(G=+G)<0||1/G<0;if(G=isNaN(G)?p:W(Math.abs(G),I),F&&(G=function(e){e:for(var l,r=e.length,a=1,s=-1;a<r;++a)switch(e[a]){case".":s=l=a;break;case"0":0===s&&(s=a),l=a;break;default:if(!+e[a])break e;s>0&&(s=0)}return s>0?e.slice(0,s)+e.slice(l+1):e}(G)),ye&&0==+G&&"+"!==w&&(ye=!1),re=(ye?"("===w?w:h:"-"===w||"("===w?"":w)+re,ie=("s"===O?c7[8+s7/3]:"")+ie+(ye&&"("===w?")":""),Y)for(fe=-1,J=G.length;++fe<J;)if(48>(ue=G.charCodeAt(fe))||ue>57){ie=(46===ue?l+G.slice(fe+1):G.slice(fe))+ie,G=G.slice(0,fe);break}}N&&!A&&(G=r(G,1/0));var De=re.length+G.length+ie.length,$e=De<T?new Array(T-De+1).join(C):"";switch(N&&A&&(G=r($e+G,$e.length?T-ie.length:1/0),$e=""),M){case"<":G=re+G+ie+$e;break;case"=":G=re+$e+G+ie;break;case"^":G=$e.slice(0,De=$e.length>>1)+re+G+ie+$e.slice(De);break;default:G=$e+re+G+ie}return f(G)}return I=void 0===I?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I)),q.toString=function(){return y+""},q}return{format:v,formatPrefix:function(y,C){var M=v(((y=Z2(y)).type="f",y)),w=3*Math.max(-8,Math.min(8,Math.floor(M1(C)/3))),S=Math.pow(10,-w),A=c7[8+w/3];return function(T){return M(S*T)+A}}}}J1=ff({thousands:",",grouping:[3],currency:["$",""]}),Is=J1.format,df=J1.formatPrefix;var K2=new Date,jl=new Date;function Ln(e,r,a,s){function l(f){return e(f=0===arguments.length?new Date:new Date(+f)),f}return l.floor=function(f){return e(f=new Date(+f)),f},l.ceil=function(f){return e(f=new Date(f-1)),r(f,1),e(f),f},l.round=function(f){var d=l(f),h=l.ceil(f);return f-d<h-f?d:h},l.offset=function(f,d){return r(f=new Date(+f),null==d?1:Math.floor(d)),f},l.range=function(f,d,h){var v,p=[];if(f=l.ceil(f),h=null==h?1:Math.floor(h),!(f<d&&h>0))return p;do{p.push(v=new Date(+f)),r(f,h),e(f)}while(v<f&&f<d);return p},l.filter=function(f){return Ln(function(d){if(d>=d)for(;e(d),!f(d);)d.setTime(d-1)},function(d,h){if(d>=d)if(h<0)for(;++h<=0;)for(;r(d,-1),!f(d););else for(;--h>=0;)for(;r(d,1),!f(d););})},a&&(l.count=function(f,d){return K2.setTime(+f),jl.setTime(+d),e(K2),e(jl),Math.floor(a(K2,jl))},l.every=function(f){return f=Math.floor(f),isFinite(f)&&f>0?f>1?l.filter(s?function(d){return s(d)%f==0}:function(d){return l.count(0,d)%f==0}):l:null}),l}const Kr=1e3,nr=6e4,w1=60*nr,Wo=24*w1,Q2=7*Wo,o6=30*Wo,Ul=365*Wo;var yi=Ln(e=>e.setHours(0,0,0,0),(e,r)=>e.setDate(e.getDate()+r),(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*nr)/Wo,e=>e.getDate()-1);const Go=yi;function E1(e){return Ln(function(r){r.setDate(r.getDate()-(r.getDay()+7-e)%7),r.setHours(0,0,0,0)},function(r,a){r.setDate(r.getDate()+7*a)},function(r,a){return(a-r-(a.getTimezoneOffset()-r.getTimezoneOffset())*nr)/Q2})}var Ls=E1(0),J2=E1(1),Ni=(E1(2),E1(3),E1(4)),oe=(E1(5),E1(6),Ln(function(e){e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCDate(e.getUTCDate()+r)},function(e,r){return(r-e)/Wo},function(e){return e.getUTCDate()-1}));const ae=oe;function ve(e){return Ln(function(r){r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-e)%7),r.setUTCHours(0,0,0,0)},function(r,a){r.setUTCDate(r.getUTCDate()+7*a)},function(r,a){return(a-r)/Q2})}var Qe=ve(0),Xt=ve(1),tc=(ve(2),ve(3),ve(4)),ct=(ve(5),ve(6),Ln(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,r){e.setFullYear(e.getFullYear()+r)},function(e,r){return r.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()}));ct.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Ln(function(r){r.setFullYear(Math.floor(r.getFullYear()/e)*e),r.setMonth(0,1),r.setHours(0,0,0,0)},function(r,a){r.setFullYear(r.getFullYear()+a*e)}):null};const Yo=ct;var kt=Ln(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,r){e.setMonth(e.getMonth()+r)},function(e,r){return r.getMonth()-e.getMonth()+12*(r.getFullYear()-e.getFullYear())},function(e){return e.getMonth()});const Ie=kt;var Ak=Ln(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Kr-e.getMinutes()*nr)},function(e,r){e.setTime(+e+r*w1)},function(e,r){return(r-e)/w1},function(e){return e.getHours()});const Fa=Ak;var mf=Ln(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Kr)},function(e,r){e.setTime(+e+r*nr)},function(e,r){return(r-e)/nr},function(e){return e.getMinutes()});const Je=mf;var ty=Ln(function(e){e.setTime(e-e.getMilliseconds())},function(e,r){e.setTime(+e+r*Kr)},function(e,r){return(r-e)/Kr},function(e){return e.getUTCSeconds()});const rc=ty;var oc=Ln(function(){},function(e,r){e.setTime(+e+r)},function(e,r){return r-e});oc.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Ln(function(r){r.setTime(Math.floor(r/e)*e)},function(r,a){r.setTime(+r+a*e)},function(r,a){return(a-r)/e}):oc:null};const ir=oc;var d7=Ln(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCFullYear(e.getUTCFullYear()+r)},function(e,r){return r.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});d7.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Ln(function(r){r.setUTCFullYear(Math.floor(r.getUTCFullYear()/e)*e),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},function(r,a){r.setUTCFullYear(r.getUTCFullYear()+a*e)}):null};const ac=d7;var kk=Ln(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCMonth(e.getUTCMonth()+r)},function(e,r){return r.getUTCMonth()-e.getUTCMonth()+12*(r.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()});const h7=kk;var Tk=Ln(function(e){e.setUTCMinutes(0,0,0)},function(e,r){e.setTime(+e+r*w1)},function(e,r){return(r-e)/w1},function(e){return e.getUTCHours()});const m7=Tk;var ny=Ln(function(e){e.setUTCSeconds(0,0)},function(e,r){e.setTime(+e+r*nr)},function(e,r){return(r-e)/nr},function(e){return e.getUTCMinutes()});const iy=ny;function Ut(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}function pf(e){let r=e,a=e;function s(d,h,p,v){for(null==p&&(p=0),null==v&&(v=d.length);p<v;){const _=p+v>>>1;a(d[_],h)<0?p=_+1:v=_}return p}return 1===e.length&&(r=(d,h)=>e(d)-h,a=function(e){return(r,a)=>Ut(e(r),a)}(e)),{left:s,center:function(d,h,p,v){null==p&&(p=0),null==v&&(v=d.length);const _=s(d,h,p,v-1);return _>p&&r(d[_-1],h)>-r(d[_],h)?_-1:_},right:function(d,h,p,v){for(null==p&&(p=0),null==v&&(v=d.length);p<v;){const _=p+v>>>1;a(d[_],h)>0?v=_:p=_+1}return p}}}const rr="year",Ce="quarter",zr="month",Te="week",Fn="date",Ii="day",Ra="dayofyear",S1="hours",Qr="minutes",Nr="seconds",A1="milliseconds",p7=[rr,Ce,zr,Te,Fn,Ii,Ra,S1,Qr,Nr,A1],g7=p7.reduce((e,r,a)=>(e[r]=1+a,e),{});function qe(e){const r=(0,E.IX)(e).slice(),a={};return r.length||(0,E.vU)("Missing time unit."),r.forEach(l=>{(0,E.nr)(g7,l)?a[l]=1:(0,E.vU)("Invalid time unit: ".concat(l,"."))}),(a[Te]||a.day?1:0)+(a[Ce]||a[zr]||a[Fn]?1:0)+(a[Ra]?1:0)>1&&(0,E.vU)("Incompatible time units: ".concat(e)),r.sort((l,f)=>g7[l]-g7[f]),r}const v7={[rr]:"%Y ",[Ce]:"Q%q ",[zr]:"%b ",[Fn]:"%d ",[Te]:"W%U ",[Ii]:"%a ",[Ra]:"%j ",[S1]:"%H:00",[Qr]:"00:%M",[Nr]:":%S",[A1]:".%L",["".concat(rr,"-").concat(zr)]:"%Y-%m ",["".concat(rr,"-").concat(zr,"-").concat(Fn)]:"%Y-%m-%d ",["".concat(S1,"-").concat(Qr)]:"%H:%M"},Ir=new Date;function gf(e){return Ir.setFullYear(e),Ir.setMonth(0),Ir.setDate(1),Ir.setHours(0,0,0,0),Ir}function Jr(e){return Go.count(gf(e.getFullYear())-1,e)}function ry(e){return Ls.count(gf(e.getFullYear())-1,e)}function oy(e){return gf(e).getDay()}function Lr(e,r,a,s,l,f,d){if(0<=e&&e<100){const h=new Date(-1,r,a,s,l,f,d);return h.setFullYear(e),h}return new Date(e,r,a,s,l,f,d)}function ay(e){const r=Date.UTC(e.getUTCFullYear(),0,1);return ae.count(r-1,e)}function sy(e){const r=Date.UTC(e.getUTCFullYear(),0,1);return Qe.count(r-1,e)}function Ft(e){return Ir.setTime(Date.UTC(e,0,1)),Ir.getUTCDay()}function WU(e,r,a,s,l,f,d){if(0<=e&&e<100){const h=new Date(Date.UTC(-1,r,a,s,l,f,d));return h.setUTCFullYear(a.y),h}return new Date(Date.UTC(e,r,a,s,l,f,d))}function Lk(e,r,a,s,l){const f=r||1,d=(0,E.fj)(e),h=(T,N,I)=>function(e,r,a,s){const l=a<=1?e:s?(f,d)=>s+a*Math.floor((e(f,d)-s)/a):(f,d)=>a*Math.floor(e(f,d)/a);return r?(f,d)=>r(l(f,d),d):l}(a[I=I||T],s[I],T===d&&f,N),p=new Date,v=(0,E.Rg)(e),_=v[rr]?h(rr):(0,E.a9)(2012),y=v[zr]?h(zr):v[Ce]?h(Ce):E.bM,C=v[Te]&&v.day?h(Ii,1,Te+Ii):v[Te]?h(Te,1):v.day?h(Ii,1):v[Fn]?h(Fn,1):v[Ra]?h(Ra,1):E.kX,M=v[S1]?h(S1):E.bM,w=v[Qr]?h(Qr):E.bM,S=v[Nr]?h(Nr):E.bM,A=v[A1]?h(A1):E.bM;return function(T){p.setTime(+T);const N=_(p);return l(N,y(p),C(p,N),M(p),w(p),S(p),A(p))}}function It(e,r,a){return r+7*e-(a+6)%7}const vf={[rr]:e=>e.getFullYear(),[Ce]:e=>Math.floor(e.getMonth()/3),[zr]:e=>e.getMonth(),[Fn]:e=>e.getDate(),[S1]:e=>e.getHours(),[Qr]:e=>e.getMinutes(),[Nr]:e=>e.getSeconds(),[A1]:e=>e.getMilliseconds(),[Ra]:e=>Jr(e),[Te]:e=>ry(e),[Te+Ii]:(e,r)=>It(ry(e),e.getDay(),oy(r)),[Ii]:(e,r)=>It(1,e.getDay(),oy(r))},_7={[Ce]:e=>3*e,[Te]:(e,r)=>It(e,0,oy(r))};function y7(e,r){return Lk(e,r||1,vf,_7,Lr)}const cy={[rr]:e=>e.getUTCFullYear(),[Ce]:e=>Math.floor(e.getUTCMonth()/3),[zr]:e=>e.getUTCMonth(),[Fn]:e=>e.getUTCDate(),[S1]:e=>e.getUTCHours(),[Qr]:e=>e.getUTCMinutes(),[Nr]:e=>e.getUTCSeconds(),[A1]:e=>e.getUTCMilliseconds(),[Ra]:e=>ay(e),[Te]:e=>sy(e),[Ii]:(e,r)=>It(1,e.getUTCDay(),Ft(r)),[Te+Ii]:(e,r)=>It(sy(e),e.getUTCDay(),Ft(r))},Va={[Ce]:e=>3*e,[Te]:(e,r)=>It(e,0,Ft(r))};function a6(e,r){return Lk(e,r||1,cy,Va,WU)}const Fk={[rr]:Yo,[Ce]:Ie.every(3),[zr]:Ie,[Te]:Ls,[Fn]:Go,[Ii]:Go,[Ra]:Go,[S1]:Fa,[Qr]:Je,[Nr]:rc,[A1]:ir},sn={[rr]:ac,[Ce]:h7.every(3),[zr]:h7,[Te]:Qe,[Fn]:ae,[Ii]:ae,[Ra]:ae,[S1]:m7,[Qr]:iy,[Nr]:rc,[A1]:ir};function sc(e){return Fk[e]}function Wl(e){return sn[e]}function b7(e,r,a){return e?e.offset(r,a):void 0}function uy(e,r,a,s){return e?e.range(r,a,s):void 0}const jn=6e4,k1=60*jn,Zo=24*k1,e1=30*Zo,xe=365*Zo,gt=[rr,zr,Fn,S1,Qr,Nr,A1],Zt=gt.slice(0,-1),bi=Zt.slice(0,-1),eo=bi.slice(0,-1),ri=eo.slice(0,-1),Dn=[rr,zr],Gl=[rr],Ko=[[Zt,1,1e3],[Zt,5,5e3],[Zt,15,15e3],[Zt,30,3e4],[bi,1,jn],[bi,5,5*jn],[bi,15,15*jn],[bi,30,30*jn],[eo,1,k1],[eo,3,3*k1],[eo,6,6*k1],[eo,12,12*k1],[ri,1,Zo],[[rr,Te],1,6048e5],[Dn,1,e1],[Dn,3,3*e1],[Gl,1,xe]];function Xl(e){if(0<=e.y&&e.y<100){var r=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return r.setFullYear(e.y),r}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Os(e){if(0<=e.y&&e.y<100){var r=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return r.setUTCFullYear(e.y),r}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function lc(e,r,a){return{y:e,m:r,d:a,H:0,M:0,S:0,L:0}}function uc(e){var r=e.dateTime,a=e.date,s=e.time,l=e.periods,f=e.days,d=e.shortDays,h=e.months,p=e.shortMonths,v=s6(l),_=Ps(l),y=s6(f),C=Ps(f),M=s6(d),w=Ps(d),S=s6(h),A=Ps(h),T=s6(p),N=Ps(p),I={a:function(Se){return d[Se.getDay()]},A:function(Se){return f[Se.getDay()]},b:function(Se){return p[Se.getMonth()]},B:function(Se){return h[Se.getMonth()]},c:null,d:Pk,e:Pk,f:t$,g:py,G:gy,H:QU,I:JU,j:e$,L:Hk,m:n$,M:i$,p:function(Se){return l[+(Se.getHours()>=12)]},q:function(Se){return 1+~~(Se.getMonth()/3)},Q:My,s:wf,S:r$,u:o$,U:my,V:a$,w:s$,W:c$,x:null,X:null,y:dc,Y:Rn,Z:Bk,"%":t1},F={a:function(Se){return d[Se.getUTCDay()]},A:function(Se){return f[Se.getUTCDay()]},b:function(Se){return p[Se.getUTCMonth()]},B:function(Se){return h[Se.getUTCMonth()]},c:null,d:vy,e:vy,f:Uk,g:Un,G:u$,H:_y,I:yy,j:jk,L:Cf,m:z1,M:by,p:function(Se){return l[+(Se.getUTCHours()>=12)]},q:function(Se){return 1+~~(Se.getUTCMonth()/3)},Q:My,s:wf,S:Cy,u:M7,U:$k,V:l$,w:An,W:xy,x:null,X:null,y:qk,Y:Wk,Z:Mf,"%":t1},O={a:function(Se,bt,Ot){var ge=M.exec(bt.slice(Ot));return ge?(Se.w=w.get(ge[0].toLowerCase()),Ot+ge[0].length):-1},A:function(Se,bt,Ot){var ge=y.exec(bt.slice(Ot));return ge?(Se.w=C.get(ge[0].toLowerCase()),Ot+ge[0].length):-1},b:function(Se,bt,Ot){var ge=T.exec(bt.slice(Ot));return ge?(Se.m=N.get(ge[0].toLowerCase()),Ot+ge[0].length):-1},B:function(Se,bt,Ot){var ge=S.exec(bt.slice(Ot));return ge?(Se.m=A.get(ge[0].toLowerCase()),Ot+ge[0].length):-1},c:function(Se,bt,Ot){return W(Se,r,bt,Ot)},d:l6,e:l6,f:XU,g:no,G:dy,H:hy,I:hy,j:ro,L:Ok,m:yf,M:GU,p:function(Se,bt,Ot){var ge=v.exec(bt.slice(Ot));return ge?(Se.p=_.get(ge[0].toLowerCase()),Ot+ge[0].length):-1},q:x7,Q:ZU,s:KU,S:Vk,u:c6,U:_f,V:fc,w:C7,W:Li,x:function(Se,bt,Ot){return W(Se,a,bt,Ot)},X:function(Se,bt,Ot){return W(Se,s,bt,Ot)},y:no,Y:dy,Z:io,"%":YU};function P(Se,bt){return function(Ot){var b1,zl,bA,ge=[],Gr=-1,un=0,y1=Se.length;for(Ot instanceof Date||(Ot=new Date(+Ot));++Gr<y1;)37===Se.charCodeAt(Gr)&&(ge.push(Se.slice(un,Gr)),null!=(zl=or[b1=Se.charAt(++Gr)])?b1=Se.charAt(++Gr):zl="e"===b1?" ":"0",(bA=bt[b1])&&(b1=bA(Ot,zl)),ge.push(b1),un=Gr+1);return ge.push(Se.slice(un,Gr)),ge.join("")}}function V(Se,bt){return function(Ot){var un,y1,ge=lc(1900,void 0,1);if(W(ge,Se,Ot+="",0)!=Ot.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(1e3*ge.s+("L"in ge?ge.L:0));if(bt&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+12*ge.p),void 0===ge.m&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(y1=(un=Os(lc(ge.y,0,1))).getUTCDay(),un=y1>4||0===y1?Xt.ceil(un):Xt(un),un=ae.offset(un,7*(ge.V-1)),ge.y=un.getUTCFullYear(),ge.m=un.getUTCMonth(),ge.d=un.getUTCDate()+(ge.w+6)%7):(y1=(un=Xl(lc(ge.y,0,1))).getDay(),un=y1>4||0===y1?J2.ceil(un):J2(un),un=Go.offset(un,7*(ge.V-1)),ge.y=un.getFullYear(),ge.m=un.getMonth(),ge.d=un.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),y1="Z"in ge?Os(lc(ge.y,0,1)).getUTCDay():Xl(lc(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+7*ge.W-(y1+5)%7:ge.w+7*ge.U-(y1+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,Os(ge)):Xl(ge)}}function W(Se,bt,Ot,ge){for(var b1,zl,Gr=0,un=bt.length,y1=Ot.length;Gr<un;){if(ge>=y1)return-1;if(37===(b1=bt.charCodeAt(Gr++))){if(b1=bt.charAt(Gr++),!(zl=O[b1 in or?bt.charAt(Gr++):b1])||(ge=zl(Se,Ot,ge))<0)return-1}else if(b1!=Ot.charCodeAt(ge++))return-1}return ge}return I.x=P(a,I),I.X=P(s,I),I.c=P(r,I),F.x=P(a,F),F.X=P(s,F),F.c=P(r,F),{format:function(Se){var bt=P(Se+="",I);return bt.toString=function(){return Se},bt},parse:function(Se){var bt=V(Se+="",!1);return bt.toString=function(){return Se},bt},utcFormat:function(Se){var bt=P(Se+="",F);return bt.toString=function(){return Se},bt},utcParse:function(Se){var bt=V(Se+="",!0);return bt.toString=function(){return Se},bt}}}var oo,ar,w7,u6,wy,or={"-":"",_:" ",0:"0"},Sn=/^\s*\d+/,Yl=/^%/,to=/[\\^$*+?|[\]().{}]/g;function Fe(e,r,a){var s=e<0?"-":"",l=(s?-e:e)+"",f=l.length;return s+(f<a?new Array(a-f+1).join(r)+l:l)}function Rk(e){return e.replace(to,"\\$&")}function s6(e){return new RegExp("^(?:"+e.map(Rk).join("|")+")","i")}function Ps(e){return new Map(e.map((r,a)=>[r.toLowerCase(),a]))}function C7(e,r,a){var s=Sn.exec(r.slice(a,a+1));return s?(e.w=+s[0],a+s[0].length):-1}function c6(e,r,a){var s=Sn.exec(r.slice(a,a+1));return s?(e.u=+s[0],a+s[0].length):-1}function _f(e,r,a){var s=Sn.exec(r.slice(a,a+2));return s?(e.U=+s[0],a+s[0].length):-1}function fc(e,r,a){var s=Sn.exec(r.slice(a,a+2));return s?(e.V=+s[0],a+s[0].length):-1}function Li(e,r,a){var s=Sn.exec(r.slice(a,a+2));return s?(e.W=+s[0],a+s[0].length):-1}function dy(e,r,a){var s=Sn.exec(r.slice(a,a+4));return s?(e.y=+s[0],a+s[0].length):-1}function no(e,r,a){var s=Sn.exec(r.slice(a,a+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),a+s[0].length):-1}function io(e,r,a){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(a,a+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),a+s[0].length):-1}function x7(e,r,a){var s=Sn.exec(r.slice(a,a+1));return s?(e.q=3*s[0]-3,a+s[0].length):-1}function yf(e,r,a){var s=Sn.exec(r.slice(a,a+2));return s?(e.m=s[0]-1,a+s[0].length):-1}function l6(e,r,a){var s=Sn.exec(r.slice(a,a+2));return s?(e.d=+s[0],a+s[0].length):-1}function ro(e,r,a){var s=Sn.exec(r.slice(a,a+3));return s?(e.m=0,e.d=+s[0],a+s[0].length):-1}function hy(e,r,a){var s=Sn.exec(r.slice(a,a+2));return s?(e.H=+s[0],a+s[0].length):-1}function GU(e,r,a){var s=Sn.exec(r.slice(a,a+2));return s?(e.M=+s[0],a+s[0].length):-1}function Vk(e,r,a){var s=Sn.exec(r.slice(a,a+2));return s?(e.S=+s[0],a+s[0].length):-1}function Ok(e,r,a){var s=Sn.exec(r.slice(a,a+3));return s?(e.L=+s[0],a+s[0].length):-1}function XU(e,r,a){var s=Sn.exec(r.slice(a,a+6));return s?(e.L=Math.floor(s[0]/1e3),a+s[0].length):-1}function YU(e,r,a){var s=Yl.exec(r.slice(a,a+1));return s?a+s[0].length:-1}function ZU(e,r,a){var s=Sn.exec(r.slice(a));return s?(e.Q=+s[0],a+s[0].length):-1}function KU(e,r,a){var s=Sn.exec(r.slice(a));return s?(e.s=+s[0],a+s[0].length):-1}function Pk(e,r){return Fe(e.getDate(),r,2)}function QU(e,r){return Fe(e.getHours(),r,2)}function JU(e,r){return Fe(e.getHours()%12||12,r,2)}function e$(e,r){return Fe(1+Go.count(Yo(e),e),r,3)}function Hk(e,r){return Fe(e.getMilliseconds(),r,3)}function t$(e,r){return Hk(e,r)+"000"}function n$(e,r){return Fe(e.getMonth()+1,r,2)}function i$(e,r){return Fe(e.getMinutes(),r,2)}function r$(e,r){return Fe(e.getSeconds(),r,2)}function o$(e){var r=e.getDay();return 0===r?7:r}function my(e,r){return Fe(Ls.count(Yo(e)-1,e),r,2)}function bf(e){var r=e.getDay();return r>=4||0===r?Ni(e):Ni.ceil(e)}function a$(e,r){return e=bf(e),Fe(Ni.count(Yo(e),e)+(4===Yo(e).getDay()),r,2)}function s$(e){return e.getDay()}function c$(e,r){return Fe(J2.count(Yo(e)-1,e),r,2)}function dc(e,r){return Fe(e.getFullYear()%100,r,2)}function py(e,r){return Fe((e=bf(e)).getFullYear()%100,r,2)}function Rn(e,r){return Fe(e.getFullYear()%1e4,r,4)}function gy(e,r){var a=e.getDay();return Fe((e=a>=4||0===a?Ni(e):Ni.ceil(e)).getFullYear()%1e4,r,4)}function Bk(e){var r=e.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+Fe(r/60|0,"0",2)+Fe(r%60,"0",2)}function vy(e,r){return Fe(e.getUTCDate(),r,2)}function _y(e,r){return Fe(e.getUTCHours(),r,2)}function yy(e,r){return Fe(e.getUTCHours()%12||12,r,2)}function jk(e,r){return Fe(1+ae.count(ac(e),e),r,3)}function Cf(e,r){return Fe(e.getUTCMilliseconds(),r,3)}function Uk(e,r){return Cf(e,r)+"000"}function z1(e,r){return Fe(e.getUTCMonth()+1,r,2)}function by(e,r){return Fe(e.getUTCMinutes(),r,2)}function Cy(e,r){return Fe(e.getUTCSeconds(),r,2)}function M7(e){var r=e.getUTCDay();return 0===r?7:r}function $k(e,r){return Fe(Qe.count(ac(e)-1,e),r,2)}function xf(e){var r=e.getUTCDay();return r>=4||0===r?tc(e):tc.ceil(e)}function l$(e,r){return e=xf(e),Fe(tc.count(ac(e),e)+(4===ac(e).getUTCDay()),r,2)}function An(e){return e.getUTCDay()}function xy(e,r){return Fe(Xt.count(ac(e)-1,e),r,2)}function qk(e,r){return Fe(e.getUTCFullYear()%100,r,2)}function Un(e,r){return Fe((e=xf(e)).getUTCFullYear()%100,r,2)}function Wk(e,r){return Fe(e.getUTCFullYear()%1e4,r,4)}function u$(e,r){var a=e.getUTCDay();return Fe((e=a>=4||0===a?tc(e):tc.ceil(e)).getUTCFullYear()%1e4,r,4)}function Mf(){return"+0000"}function t1(){return"%"}function My(e){return+e}function wf(e){return Math.floor(+e/1e3)}function Zl(e){const r={};return a=>r[a]||(r[a]=e(a))}function Gk(e){const r=Zl(e.format),a=e.formatPrefix;return{format:r,formatPrefix:a,formatFloat(s){const l=Z2(s||",");if(null==l.precision){switch(l.precision=12,l.type){case"%":l.precision-=2;break;case"e":l.precision-=1}return function(e,r){return a=>{const s=e(a),l=s.indexOf(r);if(l<0)return s;let f=function(e,r){let s,a=e.lastIndexOf("e");if(a>0)return a;for(a=e.length;--a>r;)if(s=e.charCodeAt(a),s>=48&&s<=57)return a+1}(s,l);const d=f<s.length?s.slice(f):"";for(;--f>l;)if("0"!==s[f]){++f;break}return s.slice(0,f)+d}}(r(l),r(".1f")(1)[1])}return r(l)},formatSpan(s,l,f,d){d=Z2(null==d?",f":d);const h=La(s,l,f),p=Math.max(Math.abs(s),Math.abs(l));let v;if(null==d.precision)switch(d.type){case"s":return isNaN(v=o7(h,p))||(d.precision=v),a(d,p);case"":case"e":case"g":case"p":case"r":isNaN(v=Ns(h,p))||(d.precision=v-("e"===d.type));break;case"f":case"%":isNaN(v=a7(h))||(d.precision=v-2*("%"===d.type))}return r(d)}}}let D7,le;function Dy(e){return Gk(ff(e))}function Ef(e){return arguments.length?D7=Dy(e):D7}function Sy(e,r,a){(0,E.Kn)(a=a||{})||(0,E.vU)("Invalid time multi-format specifier: ".concat(a));const s=r(Nr),l=r(Qr),f=r(S1),d=r(Fn),h=r(Te),p=r(zr),v=r(Ce),_=r(rr),y=e(a[A1]||".%L"),C=e(a[Nr]||":%S"),M=e(a[Qr]||"%I:%M"),w=e(a[S1]||"%I %p"),S=e(a[Fn]||a.day||"%a %d"),A=e(a[Te]||"%b %d"),T=e(a[zr]||"%B"),N=e(a[Ce]||"%B"),I=e(a[rr]||"%Y");return F=>(s(F)<F?y:l(F)<F?C:f(F)<F?M:d(F)<F?w:p(F)<F?h(F)<F?S:A:_(F)<F?v(F)<F?T:N:I)(F)}function Ay(e){const r=Zl(e.format),a=Zl(e.utcFormat);return{timeFormat:s=>(0,E.HD)(s)?r(s):Sy(r,sc,s),utcFormat:s=>(0,E.HD)(s)?a(s):Sy(a,Wl,s),timeParse:Zl(e.parse),utcParse:Zl(e.utcParse)}}function yn(e){return Ay(uc(e))}function kn(e){return arguments.length?le=yn(e):le}oo=uc({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),ar=oo.format,w7=oo.parse,u6=oo.utcFormat,wy=oo.utcParse,D7=Gk({format:Is,formatPrefix:df}),le=Ay({format:ar,parse:w7,utcFormat:u6,utcParse:wy});const Df=(e,r)=>(0,E.l7)({},e,r);const S7=/^(data:|([A-Za-z]+:)?\/\/)/,f$=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,Xk=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,d6="file://";function sr(e,r){return so.apply(this,arguments)}function so(){return(so=(0,_i.Z)(function*(e,r){const a=yield this.sanitize(e,r),s=a.href;return a.localFile?this.file(s):this.http(s,r)})).apply(this,arguments)}function Ty(e,r){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,_i.Z)(function*(e,r){r=(0,E.l7)({},this.options,r);const a=this.fileAccess,s={href:null};let l,f,d;const h=f$.test(e.replace(Xk,""));(null==e||"string"!=typeof e||!h)&&(0,E.vU)("Sanitize failure, invalid URI: "+(0,E.m8)(e));const p=S7.test(e);return(d=r.baseURL)&&!p&&(!e.startsWith("/")&&!d.endsWith("/")&&(e="/"+e),e=d+e),f=(l=e.startsWith(d6))||"file"===r.mode||"http"!==r.mode&&!p&&a,l?e=e.slice(d6.length):e.startsWith("//")&&("file"===r.defaultProtocol?(e=e.slice(2),f=!0):e=(r.defaultProtocol||"http")+":"+e),Object.defineProperty(s,"localFile",{value:!!f}),s.href=e,r.target&&(s.target=r.target+""),r.rel&&(s.rel=r.rel+""),"image"===r.context&&r.crossOrigin&&(s.crossOrigin=r.crossOrigin+""),s})).apply(this,arguments)}function Oa(e){return e?r=>new Promise((a,s)=>{e.readFile(r,(l,f)=>{l?s(l):a(f)})}):Yk}function Yk(){return Af.apply(this,arguments)}function Af(){return(Af=(0,_i.Z)(function*(){(0,E.vU)("No file system access.")})).apply(this,arguments)}function Zk(e){return e?function(){var r=(0,_i.Z)(function*(a,s){const l=(0,E.l7)({},this.options.http,s),f=s&&s.response,d=yield e(a,l);return d.ok?(0,E.mf)(d[f])?d[f]():d.text():(0,E.vU)(d.status+""+d.statusText)});return function(a,s){return r.apply(this,arguments)}}():Kk}function Kk(){return h6.apply(this,arguments)}function h6(){return(h6=(0,_i.Z)(function*(){(0,E.vU)("No HTTP fetch method available.")})).apply(this,arguments)}const A7=e=>null!=e&&e==e,Ny=e=>!(Number.isNaN(+e)||e instanceof Date),m6={boolean:E.sw,integer:E.He,number:E.He,date:E.ZU,string:E.BB,unknown:E.yR},p6=[e=>"true"===e||"false"===e||!0===e||!1===e,e=>Ny(e)&&Number.isInteger(+e),Ny,e=>!Number.isNaN(Date.parse(e))],Ly=["boolean","integer","number","date"];function g6(e){const r=function(a,s){const l={delimiter:e};return T7(a,s?(0,E.l7)(s,l):l)};return r.responseType="text",r}function T7(e,r){return r.header&&(e=r.header.map(E.m8).join(r.delimiter)+"\n"+e),e6(r.delimiter).parse(e+"")}function Ci(e,r){const a=r&&r.property?(0,E.EP)(r.property):E.yR;return(0,E.Kn)(e)&&!function(e){return!("function"!=typeof Buffer||!(0,E.mf)(Buffer.isBuffer))&&Buffer.isBuffer(e)}(e)?function(e,r){return!(0,E.kJ)(e)&&(0,E.TW)(e)&&(e=[...e]),r&&r.copy?JSON.parse(JSON.stringify(e)):e}(a(e),r):a(JSON.parse(e))}T7.responseType="text",Ci.responseType="json";const Tn={interior:(e,r)=>e!==r,exterior:(e,r)=>e===r};function Pa(e,r){let a,s,l,f;return e=Ci(e,r),r&&r.feature?(a=Lt,l=r.feature):r&&r.mesh?(a=nf,l=r.mesh,f=Tn[r.filter]):(0,E.vU)("Missing TopoJSON feature or mesh parameter."),s=(s=e.objects[l])?a(e,s,f):(0,E.vU)("Invalid TopoJSON object: "+l),s&&s.features||[s]}Pa.responseType="json";const z7={dsv:T7,csv:g6(","),tsv:g6("\t"),json:Ci,topojson:Pa};function N7(e,r){return arguments.length>1?(z7[e]=r,this):(0,E.nr)(z7,e)?z7[e]:null}function Jk(e){const r=N7(e);return r&&r.responseType||"text"}function eT(e,r,a,s){const l=N7((r=r||{}).type||"json");return l||(0,E.vU)("Unknown data format type: "+r.type),e=l(e,r),r.parse&&function(e,r,a,s){if(!e.length)return;const l=kn();a=a||l.timeParse,s=s||l.utcParse;let d,h,p,v,_,y,f=e.columns||Object.keys(e[0]);"auto"===r&&(r=function(e,r){return r.reduce((a,s)=>(a[s]=function(e,r){if(!e||!e.length)return"unknown";const a=e.length,s=p6.length,l=p6.map((f,d)=>d+1);for(let h,p,f=0,d=0;f<a;++f)for(p=r?e[f][r]:e[f],h=0;h<s;++h)if(l[h]&&A7(p)&&!p6[h](p)&&(l[h]=0,++d,d===p6.length))return"string";return Ly[l.reduce((f,d)=>0===f?d:f,0)-1]}(e,s),a),{})}(e,f)),f=Object.keys(r);const C=f.map(M=>{const w=r[M];let S,A;if(w&&(w.startsWith("date:")||w.startsWith("utc:")))return S=w.split(/:(.+)?/,2),A=S[1],("'"===A[0]&&"'"===A[A.length-1]||'"'===A[0]&&'"'===A[A.length-1])&&(A=A.slice(1,-1)),("utc"===S[0]?s:a)(A);if(!m6[w])throw Error("Illegal format pattern: "+M+":"+w);return m6[w]});for(p=0,_=e.length,y=f.length;p<_;++p)for(d=e[p],v=0;v<y;++v)h=f[v],d[h]=C[v](d[h])}(e,r.parse,a,s),(0,E.nr)(e,"columns")&&delete e.columns,e}const Kl=(e="undefined"!=typeof fetch&&fetch,a=>({options:a||{},sanitize:Ty,load:sr,fileAccess:!1,file:Oa(null),http:Zk(e)}));var e;function hc(e){const r=e||E.yR,a=[],s={};return a.add=l=>{const f=r(l);return s[f]||(s[f]=1,a.push(l)),a},a.remove=l=>{const f=r(l);if(s[f]){s[f]=0;const d=a.indexOf(l);d>=0&&a.splice(d,1)}return a},a}function mc(e,r){return v6.apply(this,arguments)}function v6(){return v6=(0,_i.Z)(function*(e,r){try{yield r(e)}catch(a){e.error(a)}}),v6.apply(this,arguments)}const I7=Symbol("vega_id");let nT=1;function Qo(e){return!(!e||!Ne(e))}function Ne(e){return e[I7]}function Vy(e,r){return e[I7]=r,e}function $t(e){const r=e===Object(e)?e:{data:e};return Ne(r)?r:Vy(r,nT++)}function pc(e){return Ql(e,$t({}))}function Ql(e,r){for(const a in e)r[a]=e[a];return r}function Oy(e,r){return Vy(r,Ne(e))}function gc(e,r){return e?r?(a,s)=>e(a,s)||Ne(r(a))-Ne(r(s)):(a,s)=>e(a,s)||Ne(a)-Ne(s):null}function iT(e){return e&&e.constructor===Jl}function Jl(){const e=[],r=[],a=[],s=[],l=[];let f=null,d=!1;return{constructor:Jl,insert(h){const p=(0,E.IX)(h),v=p.length;for(let _=0;_<v;++_)e.push(p[_]);return this},remove(h){const p=(0,E.mf)(h)?s:r,v=(0,E.IX)(h),_=v.length;for(let y=0;y<_;++y)p.push(v[y]);return this},modify(h,p,v){const _={field:p,value:(0,E.a9)(v)};return(0,E.mf)(h)?(_.filter=h,l.push(_)):(_.tuple=h,a.push(_)),this},encode(h,p){return(0,E.mf)(h)?l.push({filter:h,field:p}):a.push({tuple:h,field:p}),this},clean(h){return f=h,this},reflow(){return d=!0,this},pulse(h,p){const v={},_={};let y,C,M,w,S,A;for(y=0,C=p.length;y<C;++y)v[Ne(p[y])]=1;for(y=0,C=r.length;y<C;++y)S=r[y],v[Ne(S)]=-1;for(y=0,C=s.length;y<C;++y)w=s[y],p.forEach(N=>{w(N)&&(v[Ne(N)]=-1)});for(y=0,C=e.length;y<C;++y)S=e[y],A=Ne(S),v[A]?v[A]=1:h.add.push($t(e[y]));for(y=0,C=p.length;y<C;++y)S=p[y],v[Ne(S)]<0&&h.rem.push(S);function T(N,I,F){F?N[I]=F(N):h.encode=I,d||(_[Ne(N)]=N)}for(y=0,C=a.length;y<C;++y)M=a[y],S=M.tuple,w=M.field,A=v[Ne(S)],A>0&&(T(S,w,M.value),h.modifies(w));for(y=0,C=l.length;y<C;++y)M=l[y],w=M.filter,p.forEach(N=>{w(N)&&v[Ne(N)]>0&&T(N,M.field,M.value)}),h.modifies(M.field);if(d)h.mod=r.length||s.length?p.filter(N=>v[Ne(N)]>0):p.slice();else for(A in _)h.mod.push(_[A]);return(f||null==f&&(r.length||s.length))&&h.clean(!0),h}}}const vc="_:mod:_";function kf(){Object.defineProperty(this,vc,{writable:!0,value:{}})}kf.prototype={set(e,r,a,s){const l=this,f=l[e],d=l[vc];return null!=r&&r>=0?(f[r]!==a||s)&&(f[r]=a,d[r+":"+e]=-1,d[e]=-1):(f!==a||s)&&(l[e]=a,d[e]=(0,E.kJ)(a)?1+a.length:-1),l},modified(e,r){const a=this[vc];if(!arguments.length){for(const s in a)if(a[s])return!0;return!1}if((0,E.kJ)(e)){for(let s=0;s<e.length;++s)if(a[e[s]])return!0;return!1}return null!=r&&r>=0?r+1<a[e]||!!a[r+":"+e]:!!a[e]},clear(){return this[vc]={},this}};let L7=0;const Py=new kf;function cn(e,r,a,s){this.id=++L7,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,r&&(this._update=r),a&&this.parameters(a,s)}function _c(e){return function(r){const a=this.flags;return 0===arguments.length?!!(a&e):(this.flags=r?a|e:a&~e,this)}}cn.prototype={targets(){return this._targets||(this._targets=hc(E.id))},set(e){return this.value!==e?(this.value=e,1):0},skip:_c(1),modified:_c(2),parameters(e,r,a){r=!1!==r;const s=this._argval=this._argval||new kf,l=this._argops=this._argops||[],f=[];let d,h,p,v;const _=(y,C,M)=>{M instanceof cn?(M!==this&&(r&&M.targets().add(this),f.push(M)),l.push({op:M,name:y,index:C})):s.set(y,C,M)};for(d in e)if(h=e[d],"pulse"===d)(0,E.IX)(h).forEach(y=>{y instanceof cn?y!==this&&(y.targets().add(this),f.push(y)):(0,E.vU)("Pulse parameters must be operator instances.")}),this.source=h;else if((0,E.kJ)(h))for(s.set(d,-1,Array(p=h.length)),v=0;v<p;++v)_(d,v,h[v]);else _(d,-1,h);return this.marshall().clear(),a&&(l.initonly=!0),f},marshall(e){const r=this._argval||Py,a=this._argops;let s,l,f,d;if(a){const h=a.length;for(l=0;l<h;++l)s=a[l],f=s.op,d=f.modified()&&f.stamp===e,r.set(s.name,s.index,f.value,d);if(a.initonly){for(l=0;l<h;++l)s=a[l],s.op.targets().remove(this);this._argops=null,this._update=null}}return r},detach(){const e=this._argops;let r,a,s,l;if(e)for(r=0,a=e.length;r<a;++r)s=e[r],l=s.op,l._targets&&l._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const r=this._update;if(r){const a=this.marshall(e.stamp),s=r.call(this,a,e);if(a.clear(),s!==this.value)this.value=s;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let r;return this.skip()?(this.skip(!1),r=0):r=this.evaluate(e),this.pulse=r||e}};let d$=0;function Nf(e,r,a){this.id=++d$,this.value=null,a&&(this.receive=a),e&&(this._filter=e),r&&(this._apply=r)}function Ha(e,r,a){return new Nf(e,r,a)}function y6(){return y6=(0,_i.Z)(function*(e,r){const a=this;let l,s=0;try{l=yield a.loader().load(e,{context:"dataflow",response:Jk(r&&r.type)});try{l=a.parse(l,r)}catch(f){s=-2,a.warn("Data ingestion failed",e,f)}}catch(f){s=-1,a.warn("Loading failed",e,f)}return{data:l,status:s}}),y6.apply(this,arguments)}function t0(){return t0=(0,_i.Z)(function*(e,r,a){const s=this,l=s._pending||aT(s);l.requests+=1;const f=yield s.request(r,a);return s.pulse(e,s.changeset().remove(E.yb).insert(f.data||[])),l.done(),f}),t0.apply(this,arguments)}function aT(e){let r;const a=new Promise(s=>r=s);return a.requests=0,a.done=()=>{0==--a.requests&&(e._pending=null,r(e))},e._pending=a}Nf.prototype={_filter:E.yb,_apply:E.yR,targets(){return this._targets||(this._targets=hc(E.id))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const r=this.value=this._apply(e),a=this._targets,s=a?a.length:0;for(let l=0;l<s;++l)a[l].receive(r);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const r=Ha(e);return this.targets().add(r),r},apply(e){const r=Ha(null,e);return this.targets().add(r),r},merge(){const e=Ha();this.targets().add(e);for(let r=0,a=arguments.length;r<a;++r)arguments[r].targets().add(e);return e},throttle(e){let r=-1;return this.filter(()=>{const a=Date.now();return a-r>e?(r=a,1):0})},debounce(e){const r=Ha();return this.targets().add(Ha(null,null,(0,E.Ds)(e,a=>{const s=a.dataflow;r.receive(a),s&&s.run&&s.run()}))),r},between(e,r){let a=!1;return e.targets().add(Ha(null,null,()=>a=!0)),r.targets().add(Ha(null,null,()=>a=!1)),this.filter(()=>a)},detach(){this._filter=E.yb,this._targets=null}};const By={skip:!0};function Uy(e,r,a,s,l,f){const d=(0,E.l7)({},f,By);let h,p;(0,E.mf)(a)||(a=(0,E.a9)(a)),void 0===s?h=v=>e.touch(a(v)):(0,E.mf)(s)?(p=new cn(null,s,l,!1),h=v=>{p.evaluate(v);const _=a(v),y=p.value;iT(y)?e.pulse(_,y,f):e.update(_,y,d)}):h=v=>e.update(a(v),s,d),r.apply(h)}function $y(e,r,a,s,l,f){if(void 0===s)r.targets().add(a);else{const d=f||{},h=new cn(null,function(e,r){return r=(0,E.mf)(r)?r:(0,E.a9)(r),e?function(a,s){const l=r(a,s);return e.skip()||(e.skip(l!==this.value).value=l),l}:r}(a,s),l,!1);h.modified(d.force),h.rank=r.rank,r.targets().add(h),a&&(h.skip(!0),h.value=a.value,h.targets().add(a),e.connect(a,[h]))}}const Us={};function co(e,r,a){this.dataflow=e,this.stamp=null==r?-1:r,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=a||null}function b6(e,r){const a=[];return(0,E.FP)(e,r,s=>a.push(s)),a}function qs(e,r){const a={};return e.visit(r,s=>{a[Ne(s)]=1}),s=>a[Ne(s)]?null:s}function V7(e,r){return e?(a,s)=>e(a,s)&&r(a,s):r}function lT(e,r,a,s){const l=this,f=a.length;let d=0;this.dataflow=e,this.stamp=r,this.fields=null,this.encode=s||null,this.pulses=a;for(let h=0;h<f;++h){const p=a[h];if(p.stamp===r){if(p.fields){const v=l.fields||(l.fields={});for(const _ in p.fields)v[_]=1}p.changed(l.ADD)&&(d|=l.ADD),p.changed(l.REM)&&(d|=l.REM),p.changed(l.MOD)&&(d|=l.MOD)}}this.changes=d}function qy(){return qy=(0,_i.Z)(function*(e,r,a){const s=this,l=[];if(s._pulse)return dT(s);if(s._pending&&(yield s._pending),r&&(yield mc(s,r)),!s._touched.length)return s.debug("Dataflow invoked, but nothing to do."),s;const f=++s._clock;s._pulse=new co(s,f,e),s._touched.forEach(_=>s._enqueue(_,!0)),s._touched=hc(E.id);let h,p,v,d=0;try{for(;s._heap.size()>0;)h=s._heap.pop(),h.rank===h.qrank?(p=h.run(s._getPulse(h,e)),p.then?p=yield p:p.async&&(l.push(p.async),p=Us),p!==Us&&h._targets&&h._targets.forEach(_=>s._enqueue(_)),++d):s._enqueue(h,!0)}catch(_){s._heap.clear(),v=_}if(s._input={},s._pulse=null,s.debug(`Pulse ${f}: ${d} operators`),v&&(s._postrun=[],s.error(v)),s._postrun.length){const _=s._postrun.sort((y,C)=>C.priority-y.priority);s._postrun=[];for(let y=0;y<_.length;++y)yield mc(s,_[y].callback)}return a&&(yield mc(s,a)),l.length&&Promise.all(l).then(_=>s.runAsync(null,()=>{_.forEach(y=>{try{y(s)}catch(C){s.error(C)}})})),s}),qy.apply(this,arguments)}function be(){return be=(0,_i.Z)(function*(e,r,a){for(;this._running;)yield this._running;const s=()=>this._running=null;return(this._running=this.evaluate(e,r,a)).then(s,s),this._running}),be.apply(this,arguments)}function dT(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}co.prototype={StopPropagation:Us,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(e){return new co(this.dataflow).init(this,e)},clone(){const e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new co(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,r){const a=this;return a.stamp=e.stamp,a.encode=e.encode,e.fields&&!(64&r)&&(a.fields=e.fields),1&r?(a.addF=e.addF,a.add=e.add):(a.addF=null,a.add=[]),2&r?(a.remF=e.remF,a.rem=e.rem):(a.remF=null,a.rem=[]),4&r?(a.modF=e.modF,a.mod=e.mod):(a.modF=null,a.mod=[]),32&r?(a.srcF=null,a.source=null):(a.srcF=e.srcF,a.source=e.source,e.cleans&&(a.cleans=e.cleans)),a},runAfter(e){this.dataflow.runAfter(e)},changed(e){const r=e||7;return 1&r&&this.add.length||2&r&&this.rem.length||4&r&&this.mod.length},reflow(e){if(e)return this.fork(7).reflow();const r=this.add.length,a=this.source&&this.source.length;return a&&a!==r&&(this.mod=this.source,r&&this.filter(4,qs(this,1))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const r=this.fields||(this.fields={});return(0,E.kJ)(e)?e.forEach(a=>r[a]=!0):r[e]=!0,this},modified(e,r){const a=this.fields;return!(!r&&!this.mod.length||!a)&&(arguments.length?(0,E.kJ)(e)?e.some(s=>a[s]):a[e]:!!a)},filter(e,r){const a=this;return 1&e&&(a.addF=V7(a.addF,r)),2&e&&(a.remF=V7(a.remF,r)),4&e&&(a.modF=V7(a.modF,r)),16&e&&(a.srcF=V7(a.srcF,r)),a},materialize(e){const r=this;return 1&(e=e||7)&&r.addF&&(r.add=b6(r.add,r.addF),r.addF=null),2&e&&r.remF&&(r.rem=b6(r.rem,r.remF),r.remF=null),4&e&&r.modF&&(r.mod=b6(r.mod,r.modF),r.modF=null),16&e&&r.srcF&&(r.source=r.source.filter(r.srcF),r.srcF=null),r},visit(e,r){const a=this,s=r;if(16&e)return(0,E.FP)(a.source,a.srcF,s),a;1&e&&(0,E.FP)(a.add,a.addF,s),2&e&&(0,E.FP)(a.rem,a.remF,s),4&e&&(0,E.FP)(a.mod,a.modF,s);const l=a.source;if(8&e&&l){const f=a.add.length+a.mod.length;f===l.length||(0,E.FP)(l,f?qs(a,5):a.srcF,s)}return a}},(0,E.XW)(lT,co,{fork(e){const r=new co(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&r.ADD&&this.visit(r.ADD,a=>r.add.push(a)),e&r.REM&&this.visit(r.REM,a=>r.rem.push(a)),e&r.MOD&&this.visit(r.MOD,a=>r.mod.push(a))),r},changed(e){return this.changes&e},modified(e){const r=this,a=r.fields;return a&&r.changes&r.MOD?(0,E.kJ)(e)?e.some(s=>a[s]):a[e]:0},filter(){(0,E.vU)("MultiPulse does not support filtering.")},materialize(){(0,E.vU)("MultiPulse does not support materialization.")},visit(e,r){const a=this,s=a.pulses,l=s.length;let f=0;if(e&a.SOURCE)for(;f<l;++f)s[f].visit(e,r);else for(;f<l;++f)s[f].stamp===a.stamp&&s[f].visit(e,r);return a}});const Wy={skip:!1,force:!1};function r0(e,r,a,s){let l,f;const d=e[a];for(;a>r&&(f=a-1>>1,l=e[f],s(d,l)<0);)e[a]=l,a=f;return e[a]=d}function x6(){this.logger((0,E.kg)()),this.logLevel(E.jj),this._clock=0,this._rank=0,this._locale=function(e,r){const a=arguments.length;return a&&2!==a&&(0,E.vU)("defaultLocale expects either zero or two arguments."),a?Df(Ef(e),kn(r)):Df(Ef(),kn())}();try{this._loader=Kl()}catch(e){}this._touched=hc(E.id),this._input={},this._pulse=null,this._heap=function(e){let r=[];return{clear:()=>r=[],size:()=>r.length,peek:()=>r[0],push:a=>(r.push(a),r0(r,0,r.length-1,e)),pop:()=>{const a=r.pop();let s;return r.length?(s=r[0],r[0]=a,function(e,r,a){const s=r,l=e.length,f=e[r];let h,d=1+(r<<1);for(;d<l;)h=d+1,h<l&&a(e[d],e[h])>=0&&(d=h),e[r]=e[d],d=1+((r=d)<<1);e[r]=f,r0(e,s,r,a)}(r,0,e)):s=a,s}}}((e,r)=>e.qrank-r.qrank),this._postrun=[]}function Fi(e){return function(){return this._log[e].apply(this,arguments)}}function te(e,r){cn.call(this,e,null,r)}x6.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:Fi("error"),warn:Fi("warn"),info:Fi("info"),debug:Fi("debug"),logLevel:Fi("level"),cleanThreshold:1e4,add:function(e,r,a,s){let f,l=1;return e instanceof cn?f=e:e&&e.prototype instanceof cn?f=new e:(0,E.mf)(e)?f=new cn(null,e):(l=0,f=new cn(e,r)),this.rank(f),l&&(s=a,a=r),a&&this.connect(f,f.parameters(a,s)),this.touch(f),f},connect:function(e,r){const a=e.rank,s=r.length;for(let l=0;l<s;++l)if(a<r[l].rank)return void this.rerank(e)},rank:function(e){e.rank=++this._rank},rerank:function(e){const r=[e];let a,s,l;for(;r.length;)if(this.rank(a=r.pop()),s=a._targets)for(l=s.length;--l>=0;)r.push(a=s[l]),a===e&&(0,E.vU)("Cycle detected in dataflow graph.")},pulse:function(e,r,a){this.touch(e,a||Wy);const s=new co(this,this._clock+(this._pulse?0:1)),l=e.pulse&&e.pulse.source||[];return s.target=e,this._input[e.id]=r.pulse(s,l),this},touch:function(e,r){const a=r||Wy;return this._pulse?this._enqueue(e):this._touched.add(e),a.skip&&e.skip(!0),this},update:function(e,r,a){const s=a||Wy;return(e.set(r)||s.force)&&this.touch(e,s),this},changeset:Jl,ingest:function(e,r,a){return r=this.parse(r,a),this.pulse(e,this.changeset().insert(r))},parse:function(e,r){const a=this.locale();return eT(e,r,a.timeParse,a.utcParse)},preload:function(e,r,a){return t0.apply(this,arguments)},request:function(e,r){return y6.apply(this,arguments)},events:function(e,r,a,s){const l=this,f=Ha(a,s),d=function(v){v.dataflow=l;try{f.receive(v)}catch(_){l.error(_)}finally{l.run()}};let h;h="string"==typeof e&&"undefined"!=typeof document?document.querySelectorAll(e):(0,E.IX)(e);const p=h.length;for(let v=0;v<p;++v)h[v].addEventListener(r,d);return f},on:function(e,r,a,s,l){return(e instanceof cn?$y:Uy)(this,e,r,a,s,l),this},evaluate:function(e,r,a){return qy.apply(this,arguments)},run:function(e,r,a){return this._pulse?dT(this):(this.evaluate(e,r,a),this)},runAsync:function(e,r,a){return be.apply(this,arguments)},runAfter:function(e,r,a){if(this._pulse||r)this._postrun.push({priority:a||0,callback:e});else try{e(this)}catch(s){this.error(s)}},_enqueue:function(e,r){const a=e.stamp<this._clock;a&&(e.stamp=this._clock),(a||r)&&(e.qrank=e.rank,this._heap.push(e))},_getPulse:function(e,r){const a=e.source,s=this._clock;return a&&(0,E.kJ)(a)?new lT(this,s,a.map(l=>l.pulse),r):this._input[e.id]||function(e,r){return r&&r.stamp===e.stamp?r:(e=e.fork(),r&&r!==Us&&(e.source=r.source),e)}(this._pulse,a&&a.pulse)}},(0,E.XW)(te,cn,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let r;return this.skip()?this.skip(!1):r=this.evaluate(e),r=r||e,r.then?r=r.then(a=>this.pulse=a):r!==e.StopPropagation&&(this.pulse=r),r},evaluate(e){const r=this.marshall(e.stamp),a=this.transform(r,e);return r.clear(),a},transform(){}});const Ws={};function Xs(e,r){let a;if(void 0===r)for(const s of e)null!=s&&(a<s||void 0===a&&s>=s)&&(a=s);else{let s=-1;for(let l of e)null!=(l=r(l,++s,e))&&(a<l||void 0===a&&l>=l)&&(a=l)}return a}function P7(e,r){let a;if(void 0===r)for(const s of e)null!=s&&(a>s||void 0===a&&s>=s)&&(a=s);else{let s=-1;for(let l of e)null!=(l=r(l,++s,e))&&(a>l||void 0===a&&l>=l)&&(a=l)}return a}function Gy(e,r,a=0,s=e.length-1,l=Ut){for(;s>a;){if(s-a>600){const p=s-a+1,v=r-a+1,_=Math.log(p),y=.5*Math.exp(2*_/3),C=.5*Math.sqrt(_*y*(p-y)/p)*(v-p/2<0?-1:1);Gy(e,r,Math.max(a,Math.floor(r-v*y/p+C)),Math.min(s,Math.floor(r+(p-v)*y/p+C)),l)}const f=e[r];let d=a,h=s;for(Ff(e,a,r),l(e[s],f)>0&&Ff(e,a,s);d<h;){for(Ff(e,d,h),++d,--h;l(e[d],f)<0;)++d;for(;l(e[h],f)>0;)--h}0===l(e[a],f)?Ff(e,a,h):(++h,Ff(e,h,s)),h<=r&&(a=h+1),r<=h&&(s=h-1)}return e}function Ff(e,r,a){const s=e[r];e[r]=e[a],e[a]=s}function hT(e){return null===e?NaN:+e}function cr(e,r,a){if(e=Float64Array.from(function*(e,r){if(void 0===r)for(let a of e)null!=a&&(a=+a)>=a&&(yield a);else{let a=-1;for(let s of e)null!=(s=r(s,++a,e))&&(s=+s)>=s&&(yield s)}}(e,a)),s=e.length){if((r=+r)<=0||s<2)return P7(e);if(r>=1)return Xs(e);var s,l=(s-1)*r,f=Math.floor(l),d=Xs(Gy(e,f).subarray(0,f+1));return d+(P7(e.subarray(f+1))-d)*(l-f)}}function Rf(e,r,a=hT){if(s=e.length){if((r=+r)<=0||s<2)return+a(e[0],0,e);if(r>=1)return+a(e[s-1],s-1,e);var s,l=(s-1)*r,f=Math.floor(l),d=+a(e[f],f,e);return d+(+a(e[f+1],f+1,e)-d)*(l-f)}}function H7(e,r){return cr(e,.5,r)}function*Yy(e,r){if(null==r)for(let a of e)null!=a&&""!==a&&(a=+a)>=a&&(yield a);else{let a=-1;for(let s of e)s=r(s,++a,e),null!=s&&""!==s&&(s=+s)>=s&&(yield s)}}function Zy(e,r,a){const s=Float64Array.from(Yy(e,a));return s.sort(Ut),r.map(l=>Rf(s,l))}function Ky(e,r){return Zy(e,[.25,.5,.75],r)}function Qy(e,r){const a=e.length,s=function(e,r){const a=function(e,r){let s,a=0,l=0,f=0;if(void 0===r)for(let d of e)null!=d&&(d=+d)>=d&&(s=d-l,l+=s/++a,f+=s*(d-l));else{let d=-1;for(let h of e)null!=(h=r(h,++d,e))&&(h=+h)>=h&&(s=h-l,l+=s/++a,f+=s*(h-l))}if(a>1)return f/(a-1)}(e,r);return a&&Math.sqrt(a)}(e,r),l=Ky(e,r);return 1.06*(Math.min(s,(l[2]-l[0])/1.34)||s||Math.abs(l[0])||1)*Math.pow(a,-.2)}var lr=Math.random;function C$(e,r,a,s){s=s||(C=>C);const l=e.length,f=new Float64Array(l);let y,d=0,h=1,p=s(e[0]),v=p,_=p+r;for(;h<l;++h){if(y=s(e[h]),y>=_){for(v=(p+v)/2;d<h;++d)f[d]=v;_=y+r,p=y}v=y}for(v=(p+v)/2;d<h;++d)f[d]=v;return a?function(e,r){const a=e.length;let f,d,s=0,l=1;for(;e[s]===e[l];)++l;for(;l<a;){for(f=l+1;e[l]===e[f];)++f;if(e[l]-e[l-1]<r){for(d=l+(s+f-l-l>>1);d<l;)e[d++]=e[l];for(;d>l;)e[d--]=e[s]}s=l,l=f}return e}(f,r+r/4):f}const tb=Math.sqrt(2*Math.PI),pT=Math.SQRT2;let E6=NaN;function D6(e,r){e=e||0,r=null==r?1:r;let l,f,a=0,s=0;if(E6==E6)a=E6,E6=NaN;else{do{a=2*lr()-1,s=2*lr()-1,l=a*a+s*s}while(0===l||l>1);f=Math.sqrt(-2*Math.log(l)/l),a*=f,E6=s*f}return e+a*r}function Of(e,r,a){const s=(e-(r||0))/(a=null==a?1:a);return Math.exp(-.5*s*s)/(a*tb)}function xc(e,r,a){const s=(e-(r=r||0))/(a=null==a?1:a),l=Math.abs(s);let f;if(l>37)f=0;else{const d=Math.exp(-l*l/2);let h;l<7.07106781186547?(h=.0352624965998911*l+.700383064443688,h=h*l+6.37396220353165,h=h*l+33.912866078383,h=h*l+112.079291497871,h=h*l+221.213596169931,h=h*l+220.206867912376,f=d*h,h=.0883883476483184*l+1.75566716318264,h=h*l+16.064177579207,h=h*l+86.7807322029461,h=h*l+296.564248779674,h=h*l+637.333633378831,h=h*l+793.826512519948,h=h*l+440.413735824752,f/=h):(h=l+.65,h=l+4/h,h=l+3/h,h=l+2/h,h=l+1/h,f=d/h/2.506628274631)}return s>0?1-f:f}function Ys(e,r,a){return e<0||e>1?NaN:(r||0)+(null==a?1:a)*pT*function(e){let a,r=-Math.log((1-e)*(1+e));return r<6.25?(r-=3.125,a=-364441206401782e-35,a=a*r-16850591381820166e-35,a=128584807152564e-32+a*r,a=11157877678025181e-33+a*r,a=a*r-1333171662854621e-31,a=20972767875968562e-33+a*r,a=6637638134358324e-30+a*r,a=a*r-4054566272975207e-29,a=a*r-8151934197605472e-29,a=26335093153082323e-28+a*r,a=a*r-12975133253453532e-27,a=a*r-5415412054294628e-26,a=1.0512122733215323e-9+a*r,a=a*r-4.112633980346984e-9,a=a*r-2.9070369957882005e-8,a=4.2347877827932404e-7+a*r,a=a*r-13654692000834679e-22,a=a*r-13882523362786469e-21,a=.00018673420803405714+a*r,a=a*r-.000740702534166267,a=a*r-.006033670871430149,a=.24015818242558962+a*r,a=1.6536545626831027+a*r):r<16?(r=Math.sqrt(r)-3.25,a=2.2137376921775787e-9,a=9.075656193888539e-8+a*r,a=a*r-2.7517406297064545e-7,a=1.8239629214389228e-8+a*r,a=15027403968909828e-22+a*r,a=a*r-4013867526981546e-21,a=29234449089955446e-22+a*r,a=12475304481671779e-21+a*r,a=a*r-47318229009055734e-21,a=6828485145957318e-20+a*r,a=24031110387097894e-21+a*r,a=a*r-.0003550375203628475,a=.0009532893797373805+a*r,a=a*r-.0016882755560235047,a=.002491442096107851+a*r,a=a*r-.003751208507569241,a=.005370914553590064+a*r,a=1.0052589676941592+a*r,a=3.0838856104922208+a*r):Number.isFinite(r)?(r=Math.sqrt(r)-5,a=-27109920616438573e-27,a=a*r-2.555641816996525e-10,a=1.5076572693500548e-9+a*r,a=a*r-3.789465440126737e-9,a=7.61570120807834e-9+a*r,a=a*r-1.496002662714924e-8,a=2.914795345090108e-8+a*r,a=a*r-6.771199775845234e-8,a=2.2900482228026655e-7+a*r,a=a*r-9.9298272942317e-7,a=4526062597223154e-21+a*r,a=a*r-1968177810553167e-20,a=7599527703001776e-20+a*r,a=a*r-.00021503011930044477,a=a*r-.00013871931833623122,a=1.0103004648645344+a*r,a=4.849906401408584+a*r):a=1/0,a*e}(2*e-1)}function ce(e,r){let a,s;const l={mean(f){return arguments.length?(a=f||0,l):a},stdev(f){return arguments.length?(s=null==f?1:f,l):s},sample:()=>D6(a,s),pdf:f=>Of(f,a,s),cdf:f=>xc(f,a,s),icdf:f=>Ys(f,a,s)};return l.mean(e).stdev(r)}function B7(e,r){const a=ce();let s=0;const l={data(f){return arguments.length?(e=f,s=f?f.length:0,l.bandwidth(r)):e},bandwidth(f){return arguments.length?(!(r=f)&&e&&(r=Qy(e)),l):r},sample:()=>e[~~(lr()*s)]+r*a.sample(),pdf(f){let d=0,h=0;for(;h<s;++h)d+=a.pdf((f-e[h])/r);return d/r/s},cdf(f){let d=0,h=0;for(;h<s;++h)d+=a.cdf((f-e[h])/r);return d/s},icdf(){throw Error("KDE icdf not supported.")}};return l.data(e)}function Pf(e,r){return e=e||0,r=null==r?1:r,Math.exp(e+D6()*r)}function Zs(e,r,a){if(e<=0)return 0;r=r||0,a=null==a?1:a;const s=(Math.log(e)-r)/a;return Math.exp(-.5*s*s)/(a*tb*e)}function a0(e,r,a){return xc(Math.log(e),r,a)}function nb(e,r,a){return Math.exp(Ys(e,r,a))}function s0(e,r){return null==r&&(r=null==e?1:e,e=0),e+(r-e)*lr()}function Fr(e,r,a){return null==a&&(a=null==r?1:r,r=0),e>=r&&e<=a?1/(a-r):0}function S6(e,r,a){return null==a&&(a=null==r?1:r,r=0),e<r?0:e>a?1:(e-r)/(a-r)}function ja(e,r,a){return null==a&&(a=null==r?1:r,r=0),e>=0&&e<=1?r+e*(a-r):NaN}function c0(e,r,a,s){const l=s-e*e,f=Math.abs(l)<1e-24?0:(a-e*r)/l;return[r-f*e,f]}function l0(e,r,a,s){e=e.filter(M=>{let w=r(M),S=a(M);return null!=w&&(w=+w)>=w&&null!=S&&(S=+S)>=S}),s&&e.sort((M,w)=>r(M)-r(w));const l=e.length,f=new Float64Array(l),d=new Float64Array(l);let _,y,C,h=0,p=0,v=0;for(C of e)f[h]=_=+r(C),d[h]=y=+a(C),++h,p+=(_-p)/h,v+=(y-v)/h;for(h=0;h<l;++h)f[h]-=p,d[h]-=v;return[f,d,p,v]}function Ks(e,r,a,s){let f,d,l=-1;for(const h of e)f=r(h),d=a(h),null!=f&&(f=+f)>=f&&null!=d&&(d=+d)>=d&&s(f,d,++l)}function Mc(e,r,a,s,l){let f=0,d=0;return Ks(e,r,a,(h,p)=>{const v=p-l(h),_=p-s;f+=v*v,d+=_*_}),1-f/d}function ob(e,r,a){let s=0,l=0,f=0,d=0,h=0;Ks(e,r,a,(_,y)=>{++h,s+=(_-s)/h,l+=(y-l)/h,f+=(_*y-f)/h,d+=(_*_-d)/h});const p=c0(s,l,f,d),v=_=>p[0]+p[1]*_;return{coef:p,predict:v,rSquared:Mc(e,r,a,l,v)}}function ab(e,r,a){const[s,l,f,d]=l0(e,r,a),h=s.length;let M,w,S,A,p=0,v=0,_=0,y=0,C=0;for(M=0;M<h;)w=s[M],S=l[M++],A=w*w,p+=(A-p)/M,v+=(A*w-v)/M,_+=(A*A-_)/M,y+=(w*S-y)/M,C+=(A*S-C)/M;const T=_-p*p,N=p*T-v*v,I=(C*p-y*v)/N,F=(y*T-C*v)/N,O=-I*p,P=V=>I*(V-=f)*V+F*V+O+d;return{coef:[O-F*f+I*f*f+d,F-2*I*f,I],predict:P,rSquared:Mc(e,r,a,d,P)}}function sb(e,r,a,s){const l=Array(e);let f,d,h,p;for(f=0;f<e;++f)l[f]=0;for(f=e-1;f>=0;--f)for(h=r[f],p=1,l[f]+=h,d=1;d<=f;++d)p*=(f+1-d)/d,l[f-d]+=h*Math.pow(a,d)*p;return l[0]+=s,l}function xT(e){return(e=1-e*e*e)*e*e}function Hf(e,r,a){const s=e[r];let l=a[0],f=a[1]+1;if(!(f>=e.length))for(;r>l&&e[f]-s<=s-e[l];)a[0]=++l,a[1]=f,++f}const f0=.5*Math.PI/180;function U7(e,r,a,s){a=a||25,s=Math.max(a,s||200);const l=S=>[S,e(S)],f=r[0],d=r[1],h=d-f,p=h/s,v=[l(f)],_=[];if(a===s){for(let S=1;S<s;++S)v.push(l(f+S/a*h));return v.push(l(d)),v}_.push(l(d));for(let S=a;--S>0;)_.push(l(f+S/a*h));let y=v[0],C=_[_.length-1];const M=1/h,w=function(e,r){let a=e,s=e;const l=r.length;for(let f=0;f<l;++f){const d=r[f][1];d<a&&(a=d),d>s&&(s=d)}return 1/(s-a)}(y[1],_);for(;C;){const S=l((y[0]+C[0])/2);S[0]-y[0]>=p&&M$(y,S,C,M,w)>f0?_.push(S):(y=C,v.push(C),_.pop()),C=_[_.length-1]}return v}function M$(e,r,a,s,l){const f=Math.atan2(l*(a[1]-e[1]),s*(a[0]-e[0])),d=Math.atan2(l*(r[1]-e[1]),s*(r[0]-e[0]));return Math.abs(f-d)}function ur(e,r,a){e=+e,r=+r,a=(l=arguments.length)<2?(r=e,e=0,1):l<3?1:+a;for(var s=-1,l=0|Math.max(0,Math.ceil((r-e)/a)),f=new Array(l);++s<l;)f[s]=e+s*a;return f}function jf(e){return e&&e.length?1===e.length?e[0]:function(e){return r=>{const a=e.length;let s=1,l=String(e[0](r));for(;s<a;++s)l+="|"+e[s](r);return l}}(e):function(){return""}}function $7(e,r,a){return a||e+(r?"_"+r:"")}const Ua=()=>{},wT={init:Ua,add:Ua,rem:Ua,idx:0},k6={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.sum,add:(e,r)=>e.sum+=+r,rem:(e,r)=>e.sum-=r},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,r)=>e.product*=r,rem:(e,r)=>e.product/=r},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,r)=>(e.mean_d=r-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,r)=>(e.mean_d=r-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,r)=>e.dev+=e.mean_d*(r-e.mean),rem:(e,r)=>e.dev-=e.mean_d*(r-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,r)=>{(r<e.min||void 0===e.min)&&(e.min=r)},rem:(e,r)=>{r<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,r)=>{(r>e.max||void 0===e.max)&&(e.max=r)},rem:(e,r)=>{r>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,r,a)=>{r<e.min&&(e.argmin=a)},rem:(e,r)=>{r<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,r,a)=>{r>e.max&&(e.argmax=a)},rem:(e,r)=>{r>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3}},T6=Object.keys(k6);function ub(e,r){return k6[e](r)}function Rr(e,r){return e.idx-r.idx}function fb(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.init(this))}function DT(e,r){null!=e&&""!==e?e==e&&(++this.valid,this._ops.forEach(a=>a.add(this,e,r))):++this.missing}function ST(e,r){null!=e&&""!==e?e==e&&(--this.valid,this._ops.forEach(a=>a.rem(this,e,r))):--this.missing}function AT(e){return this._out.forEach(r=>e[r.out]=r.value(this)),e}function db(e,r){const a=r||E.yR,s=function(e){const r={};e.forEach(s=>r[s.name]=s);const a=s=>{!s.req||s.req.forEach(l=>{r[l]||a(r[l]=k6[l]())})};return e.forEach(a),Object.values(r).sort(Rr)}(e),l=e.slice().sort(Rr);function f(d){this._ops=s,this._out=l,this.cell=d,this.init()}return f.prototype.init=fb,f.prototype.add=DT,f.prototype.rem=ST,f.prototype.set=AT,f.prototype.get=a,f.fields=e.map(d=>d.out),f}function q7(e){this._key=e?(0,E.EP)(e):Ne,this.reset()}T6.forEach(e=>{k6[e]=function(e,r){return a=>(0,E.l7)({name:e,out:a||e},wT,r)}(e,k6[e])});const oi=q7.prototype;function Qs(e){te.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}function W7(e){te.call(this,null,e)}function hb(e,r,a){const s=e;let l=r||[],f=a||[],d={},h=0;return{add:p=>f.push(p),remove:p=>d[s(p)]=++h,size:()=>l.length,data:(p,v)=>(h&&(l=l.filter(_=>!d[s(_)]),d={},h=0),v&&p&&l.sort(p),f.length&&(l=p?(0,E.TS)(p,l,f.sort(p)):l.concat(f),f=[]),l)}}function mb(e){te.call(this,[],e)}function pb(e){cn.call(this,null,z6,e)}function z6(e){return this.value&&!e.modified()?this.value:(0,E.qu)(e.fields,e.orders)}function Uf(e){te.call(this,null,e)}function wc(e){te.call(this,null,e)}oi.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},oi.add=function(e){this._add.push(e)},oi.rem=function(e){this._rem.push(e)},oi.values=function(){if(this._get=null,0===this._rem.length)return this._add;const e=this._add,r=this._rem,a=this._key,s=e.length,l=r.length,f=Array(s-l),d={};let h,p,v;for(h=0;h<l;++h)d[a(r[h])]=1;for(h=0,p=0;h<s;++h)d[a(v=e[h])]?d[a(v)]=0:f[p++]=v;return this._rem=[],this._add=f},oi.distinct=function(e){const r=this.values(),a={};let f,s=r.length,l=0;for(;--s>=0;)f=e(r[s])+"",(0,E.nr)(a,f)||(a[f]=1,++l);return l},oi.extent=function(e){if(this._get!==e||!this._ext){const r=this.values(),a=(0,E.dI)(r,e);this._ext=[r[a[0]],r[a[1]]],this._get=e}return this._ext},oi.argmin=function(e){return this.extent(e)[0]||{}},oi.argmax=function(e){return this.extent(e)[1]||{}},oi.min=function(e){const r=this.extent(e)[0];return null!=r?e(r):void 0},oi.max=function(e){const r=this.extent(e)[1];return null!=r?e(r):void 0},oi.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=Ky(this.values(),e),this._get=e),this._q},oi.q1=function(e){return this.quartile(e)[0]},oi.q2=function(e){return this.quartile(e)[1]},oi.q3=function(e){return this.quartile(e)[2]},oi.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=function(e,r,a,s){if(!e.length)return[void 0,void 0];const l=Float64Array.from(Yy(e,s)),f=l.length;let h,p,v,_;for(v=0,_=Array(1e3);v<1e3;++v){for(h=0,p=0;p<f;++p)h+=l[~~(lr()*f)];_[v]=h/f}return _.sort(Ut),[cr(_,.025),cr(_,.975)]}(this.values(),0,0,e),this._get=e),this._ci},oi.ci0=function(e){return this.ci(e)[0]},oi.ci1=function(e){return this.ci(e)[1]},Qs.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:T6},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},(0,E.XW)(Qs,te,{transform(e,r){const a=this,s=r.fork(r.NO_SOURCE|r.NO_FIELDS),l=e.modified();return a.stamp=s.stamp,a.value&&(l||r.modified(a._inputs,!0))?(a._prev=a.value,a.value=l?a.init(e):{},r.visit(r.SOURCE,f=>a.add(f))):(a.value=a.value||a.init(e),r.visit(r.REM,f=>a.rem(f)),r.visit(r.ADD,f=>a.add(f))),s.modifies(a._outputs),a._drop=!1!==e.drop,e.cross&&a._dims.length>1&&(a._drop=!1,a.cross()),r.clean()&&a._drop&&s.clean(!0).runAfter(()=>this.clean()),a.changes(s)},cross(){const e=this,r=e.value,a=e._dnames,s=a.map(()=>({})),l=a.length;function f(h){let p,v,_,y;for(p in h)for(_=h[p].tuple,v=0;v<l;++v)s[v][y=_[a[v]]]=y}f(e._prev),f(r),function d(h,p,v){const _=a[v],y=s[v++];for(const C in y){const M=h?h+"|"+C:C;p[_]=y[C],v<l?d(M,p,v):r[M]||e.cell(M,p)}}("",{},0)},init(e){const r=this._inputs=[],a=this._outputs=[],s={};function l(A){const T=(0,E.IX)((0,E.Oj)(A)),N=T.length;let F,I=0;for(;I<N;++I)s[F=T[I]]||(s[F]=1,r.push(F))}this._dims=(0,E.IX)(e.groupby),this._dnames=this._dims.map(A=>{const T=(0,E.el)(A);return l(A),a.push(T),T}),this.cellkey=e.key?e.key:jf(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const f=e.fields||[null],d=e.ops||["count"],h=e.as||[],p=f.length,v={};let _,y,C,M,w,S;for(p!==d.length&&(0,E.vU)("Unmatched number of fields and aggregate ops."),S=0;S<p;++S)_=f[S],y=d[S],null==_&&"count"!==y&&(0,E.vU)("Null aggregate field specified."),M=(0,E.el)(_),w=$7(y,M,h[S]),a.push(w),"count"!==y?(C=v[M],C||(l(_),C=v[M]=[],C.field=_,this._measures.push(C)),"count"!==y&&(this._countOnly=!1),C.push(ub(y,w))):this._counts.push(w);return this._measures=this._measures.map(A=>db(A,A.field)),{}},cellkey:jf(),cell(e,r){let a=this.value[e];return a?0===a.num&&this._drop&&a.stamp<this.stamp?(a.stamp=this.stamp,this._adds[this._alen++]=a):a.stamp<this.stamp&&(a.stamp=this.stamp,this._mods[this._mlen++]=a):(a=this.value[e]=this.newcell(e,r),this._adds[this._alen++]=a),a},newcell(e,r){const a={key:e,num:0,agg:null,tuple:this.newtuple(r,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const s=this._measures,l=s.length;a.agg=Array(l);for(let f=0;f<l;++f)a.agg[f]=new s[f](a)}return a.store&&(a.data=new q7),a},newtuple(e,r){const a=this._dnames,s=this._dims,l=s.length,f={};for(let d=0;d<l;++d)f[a[d]]=s[d](e);return r?Oy(r.tuple,f):$t(f)},clean(){const e=this.value;for(const r in e)0===e[r].num&&delete e[r]},add(e){const r=this.cellkey(e),a=this.cell(r,e);if(a.num+=1,this._countOnly)return;a.store&&a.data.add(e);const s=a.agg;for(let l=0,f=s.length;l<f;++l)s[l].add(s[l].get(e),e)},rem(e){const r=this.cellkey(e),a=this.cell(r,e);if(a.num-=1,this._countOnly)return;a.store&&a.data.rem(e);const s=a.agg;for(let l=0,f=s.length;l<f;++l)s[l].rem(s[l].get(e),e)},celltuple(e){const r=e.tuple,a=this._counts;e.store&&e.data.values();for(let s=0,l=a.length;s<l;++s)r[a[s]]=e.num;if(!this._countOnly){const s=e.agg;for(let l=0,f=s.length;l<f;++l)s[l].set(r)}return r},changes(e){const r=this._adds,a=this._mods,s=this._prev,l=this._drop,f=e.add,d=e.rem,h=e.mod;let p,v,_,y;if(s)for(v in s)p=s[v],(!l||p.num)&&d.push(p.tuple);for(_=0,y=this._alen;_<y;++_)f.push(this.celltuple(r[_])),r[_]=null;for(_=0,y=this._mlen;_<y;++_)p=a[_],(0===p.num&&l?d:h).push(this.celltuple(p)),a[_]=null;return this._alen=this._mlen=0,this._prev=null,e}}),W7.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},(0,E.XW)(W7,te,{transform(e,r){const a=!1!==e.interval,s=this._bins(e),l=s.start,f=s.step,d=e.as||["bin0","bin1"],h=d[0],p=d[1];let v;return v=e.modified()?(r=r.reflow(!0)).SOURCE:r.modified((0,E.Oj)(e.field))?r.ADD_MOD:r.ADD,r.visit(v,a?_=>{const y=s(_);_[h]=y,_[p]=null==y?null:l+f*(1+(y-l)/f)}:_=>_[h]=s(_)),r.modifies(a?d:h)},_bins(e){if(this.value&&!e.modified())return this.value;const r=e.field,a=function(e){const r=e.maxbins||20,a=e.base||10,s=Math.log(a),l=e.divide||[5,2];let h,p,v,_,y,C,f=e.extent[0],d=e.extent[1];const M=e.span||d-f||Math.abs(f)||1;if(e.step)h=e.step;else if(e.steps){for(_=M/r,y=0,C=e.steps.length;y<C&&e.steps[y]<_;++y);h=e.steps[Math.max(0,y-1)]}else{for(p=Math.ceil(Math.log(r)/s),v=e.minstep||0,h=Math.max(v,Math.pow(a,Math.round(Math.log(M)/s)-p));Math.ceil(M/h)>r;)h*=a;for(y=0,C=l.length;y<C;++y)_=h/l[y],_>=v&&M/_<=r&&(h=_)}_=Math.log(h);const S=Math.pow(a,-(_>=0?0:1+~~(-_/s))-1);return(e.nice||void 0===e.nice)&&(_=Math.floor(f/h+S)*h,f=f<_?_-h:_,d=Math.ceil(d/h)*h),{start:f,stop:d===f?f+h:d,step:h}}(e),s=a.step;let d,h,l=a.start,f=l+Math.ceil((a.stop-l)/s)*s;null!=(d=e.anchor)&&(h=d-(l+s*Math.floor((d-l)/s)),l+=h,f+=h);const p=function(v){let _=(0,E.He)(r(v));return null==_?null:_<l?-1/0:_>f?1/0:(_=Math.max(l,Math.min(_,f-s)),l+s*Math.floor(1e-14+(_-l)/s))};return p.start=l,p.stop=a.stop,p.step=s,this.value=(0,E.ZE)(p,(0,E.Oj)(r),e.name||"bin_"+(0,E.el)(r))}}),mb.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},(0,E.XW)(mb,te,{transform(e,r){const a=r.fork(r.ALL),s=hb(Ne,this.value,a.materialize(a.ADD).add),l=e.sort,f=r.changed()||l&&(e.modified("sort")||r.modified(l.fields));return a.visit(a.REM,s.remove),this.modified(f),this.value=a.source=s.data(gc(l),f),r.source&&r.source.root&&(this.value.root=r.source.root),a}}),(0,E.XW)(pb,cn),Uf.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]},(0,E.XW)(Uf,te,{transform(e,r){const a=y=>C=>{for(var w,M=function(e,r,a){switch(r){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(a)}(h(C),e.case,f)||[],S=0,A=M.length;S<A;++S)d.test(w=M[S])||y(w)},s=this._parameterCheck(e,r),l=this._counts,f=this._match,d=this._stop,h=e.field,p=e.as||["text","count"],v=a(y=>l[y]=1+(l[y]||0)),_=a(y=>l[y]-=1);return s?r.visit(r.SOURCE,v):(r.visit(r.ADD,v),r.visit(r.REM,_)),this._finish(r,p)},_parameterCheck(e,r){let a=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),a=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),a=!0),(e.modified("field")||r.modified(e.field.fields))&&(a=!0),a&&(this._counts={}),a},_finish(e,r){const a=this._counts,s=this._tuples||(this._tuples={}),l=r[0],f=r[1],d=e.fork(e.NO_SOURCE|e.NO_FIELDS);let h,p,v;for(h in a)p=s[h],v=a[h]||0,!p&&v?(s[h]=p=$t({}),p[l]=h,p[f]=v,d.add.push(p)):0===v?(p&&d.rem.push(p),a[h]=null,s[h]=null):p[f]!==v&&(p[f]=v,d.mod.push(p));return d.modifies(r)}}),wc.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},(0,E.XW)(wc,te,{transform(e,r){const a=r.fork(r.NO_SOURCE),s=e.as||["a","b"],l=s[0],f=s[1],d=!this.value||r.changed(r.ADD_REM)||e.modified("as")||e.modified("filter");let h=this.value;return d?(h&&(a.rem=h),h=r.materialize(r.SOURCE).source,a.add=this.value=function(e,r,a,s){for(var p,v,l=[],f={},d=e.length,h=0;h<d;++h)for(f[r]=v=e[h],p=0;p<d;++p)f[a]=e[p],s(f)&&(l.push($t(f)),(f={})[r]=v);return l}(h,l,f,e.filter||E.yb)):a.mod=h,a.source=this.value,a.modifies(s)}});const G7={kde:B7,mixture:function(e,r){let s,a=0;const f={weights(d){return arguments.length?(s=function(d){const h=[];let v,p=0;for(v=0;v<a;++v)p+=h[v]=null==d[v]?1:+d[v];for(v=0;v<a;++v)h[v]/=p;return h}(r=d||[]),f):r},distributions(d){return arguments.length?(d?(a=d.length,e=d):(a=0,e=[]),f.weights(r)):e},sample(){const d=lr();let h=e[a-1],p=s[0],v=0;for(;v<a-1;p+=s[++v])if(d<p){h=e[v];break}return h.sample()},pdf(d){let h=0,p=0;for(;p<a;++p)h+=s[p]*e[p].pdf(d);return h},cdf(d){let h=0,p=0;for(;p<a;++p)h+=s[p]*e[p].cdf(d);return h},icdf(){throw Error("Mixture icdf not supported.")}};return f.distributions(e).weights(r)},normal:ce,lognormal:function(e,r){let a,s;const l={mean(f){return arguments.length?(a=f||0,l):a},stdev(f){return arguments.length?(s=null==f?1:f,l):s},sample:()=>Pf(a,s),pdf:f=>Zs(f,a,s),cdf:f=>a0(f,a,s),icdf:f=>nb(f,a,s)};return l.mean(e).stdev(r)},uniform:function(e,r){let a,s;const l={min(f){return arguments.length?(a=f||0,l):a},max(f){return arguments.length?(s=null==f?1:f,l):s},sample:()=>s0(a,s),pdf:f=>Fr(f,a,s),cdf:f=>S6(f,a,s),icdf:f=>ja(f,a,s)};return null==r&&(r=null==e?1:e,e=0),l.min(e).max(r)}},TT="function";function zT(e,r){const a=e[TT];(0,E.nr)(G7,a)||(0,E.vU)("Unknown distribution function: "+a);const s=G7[a]();for(const l in e)"field"===l?s.data((e.from||r()).map(e[l])):"distributions"===l?s[l](e[l].map(f=>zT(f,r))):typeof s[l]===TT&&s[l](e[l]);return s}function N6(e){te.call(this,null,e)}const $f=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}];function NT(e,r){return e?e.map((a,s)=>r[s]||(0,E.el)(a)):null}function qf(e,r,a){const s=[],l=y=>y(p);let f,d,h,p,v,_;if(null==r)s.push(e.map(a));else for(f={},d=0,h=e.length;d<h;++d)p=e[d],v=r.map(l),_=f[v],_||(f[v]=_=[],_.dims=v,s.push(_)),_.push(a(p));return s}function Y7(e){te.call(this,null,e)}function yb(e){cn.call(this,null,bb,e),this.modified(!0)}function bb(e){const r=e.expr;return this.value&&!e.modified("expr")?this.value:(0,E.ZE)(a=>r(a,e),(0,E.Oj)(r),(0,E.el)(r))}function d0(e){te.call(this,[void 0,void 0],e)}function Wf(e,r){cn.call(this,e),this.parent=r,this.count=0}function h0(e){te.call(this,{},e),this._keys=(0,E.Xr)();const r=this._targets=[];r.active=0,r.forEach=a=>{for(let s=0,l=r.active;s<l;++s)a(r[s],s,r)}}function Cb(e){cn.call(this,null,Rt,e)}function Rt(e){return this.value&&!e.modified()?this.value:(0,E.kJ)(e.name)?(0,E.IX)(e.name).map(r=>(0,E.EP)(r)):(0,E.EP)(e.name,e.as)}function Gf(e){te.call(this,(0,E.Xr)(),e)}function Z7(e){te.call(this,[],e)}function m0(e){te.call(this,[],e)}function Xf(e){te.call(this,null,e)}function xb(e){te.call(this,[],e)}N6.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:$f.concat({key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:$f},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,default:["value","density"]}]},(0,E.XW)(N6,te,{transform(e,r){const a=r.fork(r.NO_SOURCE|r.NO_FIELDS);if(!this.value||r.changed()||e.modified()){const s=zT(e.distribution,function(e){return()=>e.materialize(e.SOURCE).source}(r)),l=e.steps||e.minsteps||25,f=e.steps||e.maxsteps||200;let d=e.method||"pdf";"pdf"!==d&&"cdf"!==d&&(0,E.vU)("Invalid density method: "+d),!e.extent&&!s.data&&(0,E.vU)("Missing density extent parameter."),d=s[d];const h=e.as||["value","density"],v=U7(d,e.extent||(0,E.We)(s.data()),l,f).map(_=>{const y={};return y[h[0]]=_[0],y[h[1]]=_[1],$t(y)});this.value&&(a.rem=this.value),this.value=a.add=a.source=v}return a}}),Y7.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]},(0,E.XW)(Y7,te,{transform(e,r){if(this.value&&!e.modified()&&!r.changed())return r;const a=r.materialize(r.SOURCE).source,s=qf(r.source,e.groupby,E.yR),l=e.smooth||!1,f=e.field,d=e.step||((e,r)=>(0,E.yP)((0,E.We)(e,r))/30)(a,f),h=gc((w,S)=>f(w)-f(S)),p=e.as||"bin",v=s.length;let M,_=1/0,y=-1/0,C=0;for(;C<v;++C){const w=s[C].sort(h);M=-1;for(const S of C$(w,d,l,f))S<_&&(_=S),S>y&&(y=S),w[++M][p]=S}return this.value={start:_,stop:y,step:d},r.reflow(!0).modifies(p)}}),(0,E.XW)(yb,cn),d0.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},(0,E.XW)(d0,te,{transform(e,r){const a=this.value,s=e.field,l=r.changed()||r.modified(s.fields)||e.modified("field");let f=a[0],d=a[1];if((l||null==f)&&(f=1/0,d=-1/0),r.visit(l?r.SOURCE:r.ADD,h=>{const p=(0,E.He)(s(h));null!=p&&(p<f&&(f=p),p>d&&(d=p))}),!Number.isFinite(f)||!Number.isFinite(d)){let h=(0,E.el)(s);h&&(h=` for field "${h}"`),r.dataflow.warn(`Infinite extent${h}: [${f}, ${d}]`),f=d=void 0}this.value=[f,d]}}),(0,E.XW)(Wf,cn,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}}),(0,E.XW)(h0,te,{activate(e){this._targets[this._targets.active++]=e},subflow(e,r,a,s){const l=this.value;let d,h,f=(0,E.nr)(l,e)&&l[e];return f?f.value.stamp<a.stamp&&(f.init(a),this.activate(f)):(h=s||(h=this._group[e])&&h.tuple,d=a.dataflow,f=new Wf(a.fork(a.NO_SOURCE),this),d.add(f).connect(r(d,e,h)),l[e]=f,this.activate(f)),f},clean(){const e=this.value;let r=0;for(const a in e)if(0===e[a].count){const s=e[a].detachSubflow;s&&s(),delete e[a],++r}if(r){const a=this._targets.filter(s=>s&&s.count>0);this.initTargets(a)}},initTargets(e){const r=this._targets,a=r.length,s=e?e.length:0;let l=0;for(;l<s;++l)r[l]=e[l];for(;l<a&&null!=r[l];++l)r[l]=null;r.active=s},transform(e,r){const a=r.dataflow,s=e.key,l=e.subflow,f=this._keys,d=e.modified("key"),h=p=>this.subflow(p,l,r);return this._group=e.group||{},this.initTargets(),r.visit(r.REM,p=>{const v=Ne(p),_=f.get(v);void 0!==_&&(f.delete(v),h(_).rem(p))}),r.visit(r.ADD,p=>{const v=s(p);f.set(Ne(p),v),h(v).add(p)}),d||r.modified(s.fields)?r.visit(r.MOD,p=>{const v=Ne(p),_=f.get(v),y=s(p);_===y?h(y).mod(p):(f.set(v,y),h(_).rem(p),h(y).add(p))}):r.changed(r.MOD)&&r.visit(r.MOD,p=>{h(f.get(Ne(p))).mod(p)}),d&&r.visit(r.REFLOW,p=>{const v=Ne(p),_=f.get(v),y=s(p);_!==y&&(f.set(v,y),h(_).rem(p),h(y).add(p))}),r.clean()?a.runAfter(()=>{this.clean(),f.clean()}):f.empty>a.cleanThreshold&&a.runAfter(f.clean),r}}),(0,E.XW)(Cb,cn),Gf.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},(0,E.XW)(Gf,te,{transform(e,r){const a=r.dataflow,s=this.value,l=r.fork(),f=l.add,d=l.rem,h=l.mod,p=e.expr;let v=!0;function _(y){const C=Ne(y),M=p(y,e),w=s.get(C);M&&w?(s.delete(C),f.push(y)):M||w?v&&M&&!w&&h.push(y):(s.set(C,1),d.push(y))}return r.visit(r.REM,y=>{const C=Ne(y);s.has(C)?s.delete(C):d.push(y)}),r.visit(r.ADD,y=>{p(y,e)?f.push(y):s.set(Ne(y),1)}),r.visit(r.MOD,_),e.modified()&&(v=!1,r.visit(r.REFLOW,_)),s.empty>a.cleanThreshold&&a.runAfter(s.clean),l}}),Z7.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},(0,E.XW)(Z7,te,{transform(e,r){const a=r.fork(r.NO_SOURCE),s=e.fields,l=NT(s,e.as||[]),f=e.index||null,d=l.length;return a.rem=this.value,r.visit(r.SOURCE,h=>{const p=s.map(w=>w(h)),v=p.reduce((w,S)=>Math.max(w,S.length),0);let y,C,M,_=0;for(;_<v;++_){for(C=pc(h),y=0;y<d;++y)C[l[y]]=null==(M=p[y][_])?null:M;f&&(C[f]=_),a.add.push(C)}}),this.value=a.source=a.add,f&&a.modifies(f),a.modifies(l)}}),m0.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},(0,E.XW)(m0,te,{transform(e,r){const a=r.fork(r.NO_SOURCE),s=e.fields,l=s.map(E.el),f=e.as||["key","value"],d=f[0],h=f[1],p=s.length;return a.rem=this.value,r.visit(r.SOURCE,v=>{for(let y,_=0;_<p;++_)y=pc(v),y[d]=l[_],y[h]=s[_](v),a.add.push(y)}),this.value=a.source=a.add,a.modifies(f)}}),Xf.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},(0,E.XW)(Xf,te,{transform(e,r){const a=e.expr,s=e.as,l=e.modified(),f=e.initonly?r.ADD:l?r.SOURCE:r.modified(a.fields)||r.modified(s)?r.ADD_MOD:r.ADD;return l&&(r=r.materialize().reflow(!0)),e.initonly||r.modifies(s),r.visit(f,d=>d[s]=a(d,e))}}),(0,E.XW)(xb,te,{transform(e,r){const a=r.fork(r.ALL),s=e.generator;let d,h,p,l=this.value,f=e.size-l.length;if(f>0){for(d=[];--f>=0;)d.push(p=$t(s(e))),l.push(p);a.add=a.add.length?a.materialize(a.ADD).add.concat(d):d}else h=l.slice(0,-f),a.rem=a.rem.length?a.materialize(a.REM).rem.concat(h):h,l=l.slice(-f);return a.source=this.value=l,a}});const Yf={value:"value",median:H7,mean:function(e,r){let a=0,s=0;if(void 0===r)for(let l of e)null!=l&&(l=+l)>=l&&(++a,s+=l);else{let l=-1;for(let f of e)null!=(f=r(f,++l,e))&&(f=+f)>=f&&(++a,s+=f)}if(a)return s/a},min:P7,max:Xs},LT=[];function K7(e){te.call(this,[],e)}function Ec(e){Qs.call(this,e)}function Mi(e){te.call(this,null,e)}function Zf(e){cn.call(this,null,Mb,e)}function Mb(e){return this.value&&!e.modified()?this.value:(0,E.Jy)(e.fields,e.flat)}function Q7(e){te.call(this,[],e),this._pending=null}function Dc(e,r,a){a.forEach($t);const s=r.fork(r.NO_FIELDS&r.NO_SOURCE);return s.rem=e.value,e.value=s.source=s.add=a,e._pending=null,s.rem.length&&s.clean(!0),s}function I6(e){te.call(this,{},e)}function wb(e){cn.call(this,null,RT,e)}function RT(e){if(this.value&&!e.modified())return this.value;const r=e.extents,a=r.length;let f,d,s=1/0,l=-1/0;for(f=0;f<a;++f)d=r[f],d[0]<s&&(s=d[0]),d[1]>l&&(l=d[1]);return[s,l]}function J7(e){cn.call(this,null,VT,e)}function VT(e){return this.value&&!e.modified()?this.value:e.values.reduce((r,a)=>r.concat(a),[])}function e9(e){te.call(this,null,e)}function t9(e){Qs.call(this,e)}function Db(e){h0.call(this,e)}function Kf(e){te.call(this,null,e)}function i9(e){te.call(this,null,e)}function r9(e){te.call(this,null,e)}function o9(e){te.call(this,null,e)}function p0(e){te.call(this,[],e),this.count=0}function a9(e){te.call(this,null,e)}function Sb(e){te.call(this,null,e),this.modified(!0)}function lo(e){te.call(this,null,e)}K7.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},(0,E.XW)(K7,te,{transform(e,r){var C,M,w,S,A,T,N,I,F,O,a=r.fork(r.ALL),s=function(e){var a,r=e.method||Yf.value;if(null!=Yf[r])return r===Yf.value?(a=void 0!==e.value?e.value:0,()=>a):Yf[r];(0,E.vU)("Unrecognized imputation method: "+r)}(e),l=function(e){const r=e.field;return a=>a?r(a):NaN}(e),f=(0,E.el)(e.field),d=(0,E.el)(e.key),h=(e.groupby||[]).map(E.el),p=function(e,r,a,s){var v,_,y,C,M,w,S,A,l=T=>T(A),f=[],d=s?s.slice():[],h={},p={};for(d.forEach((T,N)=>h[T]=N+1),C=0,S=e.length;C<S;++C)w=a(A=e[C]),M=h[w]||(h[w]=d.push(w)),(y=p[_=(v=r?r.map(l):LT)+""])||(y=p[_]=[],f.push(y),y.values=v),y[M-1]=A;return f.domain=d,f}(r.source,e.groupby,e.key,e.keyvals),v=[],_=this.value,y=p.domain.length;for(A=0,I=p.length;A<I;++A)for(w=(C=p[A]).values,M=NaN,N=0;N<y;++N)if(null==C[N]){for(S=p.domain[N],O={_impute:!0},T=0,F=w.length;T<F;++T)O[h[T]]=w[T];O[d]=S,O[f]=Number.isNaN(M)?M=s(C,l):M,v.push($t(O))}return v.length&&(a.add=a.materialize(a.ADD).add.concat(v)),_.length&&(a.rem=a.materialize(a.REM).rem.concat(_)),this.value=v,a}}),Ec.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:T6},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},(0,E.XW)(Ec,Qs,{transform(e,r){const a=this,s=e.modified();let l;return a.value&&(s||r.modified(a._inputs,!0))?(l=a.value=s?a.init(e):{},r.visit(r.SOURCE,f=>a.add(f))):(l=a.value=a.value||this.init(e),r.visit(r.REM,f=>a.rem(f)),r.visit(r.ADD,f=>a.add(f))),a.changes(),r.visit(r.SOURCE,f=>{(0,E.l7)(f,l[a.cellkey(f)].tuple)}),r.reflow(s).modifies(this._outputs)},changes(){const e=this._adds,r=this._mods;let a,s;for(a=0,s=this._alen;a<s;++a)this.celltuple(e[a]),e[a]=null;for(a=0,s=this._mlen;a<s;++a)this.celltuple(r[a]),r[a]=null;this._alen=this._mlen=0}}),Mi.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},(0,E.XW)(Mi,te,{transform(e,r){const a=r.fork(r.NO_SOURCE|r.NO_FIELDS);if(!this.value||r.changed()||e.modified()){const s=r.materialize(r.SOURCE).source,l=qf(s,e.groupby,e.field),f=(e.groupby||[]).map(E.el),d=e.bandwidth,h=e.cumulative?"cdf":"pdf",p=e.as||["value","density"],v=[];let _=e.extent,y=e.steps||e.minsteps||25,C=e.steps||e.maxsteps||200;"pdf"!==h&&"cdf"!==h&&(0,E.vU)("Invalid density method: "+h),"shared"===e.resolve&&(_||(_=(0,E.We)(s,e.field)),y=C=e.steps||C),l.forEach(M=>{const w=B7(M,d)[h],S=e.counts?M.length:1;U7(w,_||(0,E.We)(M),y,C).forEach(T=>{const N={};for(let I=0;I<f.length;++I)N[f[I]]=M.dims[I];N[p[0]]=T[0],N[p[1]]=T[1]*S,v.push($t(N))})}),this.value&&(a.rem=this.value),this.value=a.add=a.source=v}return a}}),(0,E.XW)(Zf,cn),(0,E.XW)(Q7,te,{transform(e,r){const a=r.dataflow;return this._pending?Dc(this,r,this._pending):function(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}(e)?r.StopPropagation:e.values?Dc(this,r,a.parse(e.values,e.format)):e.async?{async:a.request(e.url,e.format).then(l=>(this._pending=(0,E.IX)(l.data),f=>f.touch(this)))}:a.request(e.url,e.format).then(s=>Dc(this,r,(0,E.IX)(s.data)))}}),I6.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},(0,E.XW)(I6,te,{transform(e,r){const a=e.fields,s=e.index,l=e.values,f=null==e.default?null:e.default,d=e.modified(),h=a.length;let y,C,M,p=d?r.SOURCE:r.ADD,v=r,_=e.as;return l?(C=l.length,h>1&&!_&&(0,E.vU)('Multi-field lookup requires explicit "as" parameter.'),_&&_.length!==h*C&&(0,E.vU)('The "as" parameter has too few output field names.'),_=_||l.map(E.el),y=function(w){for(var T,N,S=0,A=0;S<h;++S)if(null==(N=s.get(a[S](w))))for(T=0;T<C;++T,++A)w[_[A]]=f;else for(T=0;T<C;++T,++A)w[_[A]]=l[T](N)}):(_||(0,E.vU)("Missing output field names."),y=function(w){for(var A,S=0;S<h;++S)A=s.get(a[S](w)),w[_[S]]=null==A?f:A}),d?v=r.reflow(!0):(M=a.some(w=>r.modified(w.fields)),p|=M?r.MOD:0),r.visit(p,y),v.modifies(_)}}),(0,E.XW)(wb,cn),(0,E.XW)(J7,cn),(0,E.XW)(e9,te,{transform(e,r){return this.modified(e.modified()),this.value=e,r.fork(r.NO_SOURCE|r.NO_FIELDS)}}),t9.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:T6,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},(0,E.XW)(t9,Qs,{_transform:Qs.prototype.transform,transform(e,r){return this._transform(function(e,r){const a=e.field,s=e.value,l=("count"===e.op?"__count__":e.op)||"sum",f=(0,E.Oj)(a).concat((0,E.Oj)(s)),d=function(e,r,a){const s={},l=[];return a.visit(a.SOURCE,f=>{const d=e(f);s[d]||(s[d]=1,l.push(d))}),l.sort(E.j2),r?l.slice(0,r):l}(a,e.limit||0,r);return r.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:d.map(()=>l),fields:d.map(h=>function(e,r,a,s){return(0,E.ZE)(l=>r(l)===e?a(l):NaN,s,e+"")}(h,a,s,f)),as:d.map(h=>h+""),modified:e.modified.bind(e)}}(e,r),r)}}),(0,E.XW)(Db,h0,{transform(e,r){const a=e.subflow,s=e.field,l=f=>this.subflow(Ne(f),a,r,f);return(e.modified("field")||s&&r.modified((0,E.Oj)(s)))&&(0,E.vU)("PreFacet does not support field modification."),this.initTargets(),s?(r.visit(r.MOD,f=>{const d=l(f);s(f).forEach(h=>d.mod(h))}),r.visit(r.ADD,f=>{const d=l(f);s(f).forEach(h=>d.add($t(h)))}),r.visit(r.REM,f=>{const d=l(f);s(f).forEach(h=>d.rem(h))})):(r.visit(r.MOD,f=>l(f).mod(f)),r.visit(r.ADD,f=>l(f).add(f)),r.visit(r.REM,f=>l(f).rem(f))),r.clean()&&r.runAfter(()=>this.clean()),r}}),Kf.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},(0,E.XW)(Kf,te,{transform(e,r){const a=r.fork(r.NO_SOURCE),s=e.fields,l=NT(e.fields,e.as||[]),f=s?(h,p)=>function(e,r,a,s){for(let l=0,f=a.length;l<f;++l)r[s[l]]=a[l](e);return r}(h,p,s,l):Ql;let d;return this.value?d=this.value:(r=r.addAll(),d=this.value={}),r.visit(r.REM,h=>{const p=Ne(h);a.rem.push(d[p]),d[p]=null}),r.visit(r.ADD,h=>{const p=f(h,$t({}));d[Ne(h)]=p,a.add.push(p)}),r.visit(r.MOD,h=>{a.mod.push(f(h,d[Ne(h)]))}),a}}),(0,E.XW)(i9,te,{transform(e,r){return this.value=e.value,e.modified("value")?r.fork(r.NO_SOURCE|r.NO_FIELDS):r.StopPropagation}}),r9.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]},(0,E.XW)(r9,te,{transform(e,r){const a=r.fork(r.NO_SOURCE|r.NO_FIELDS),s=e.as||["prob","value"];if(this.value&&!e.modified()&&!r.changed())return a.source=this.value,a;const f=qf(r.materialize(r.SOURCE).source,e.groupby,e.field),d=(e.groupby||[]).map(E.el),h=[],p=e.step||.01,v=e.probs||ur(p/2,1-1e-14,p),_=v.length;return f.forEach(y=>{const C=Zy(y,v);for(let M=0;M<_;++M){const w={};for(let S=0;S<d.length;++S)w[d[S]]=y.dims[S];w[s[0]]=v[M],w[s[1]]=C[M],h.push($t(w))}}),this.value&&(a.rem=this.value),this.value=a.add=a.source=h,a}}),(0,E.XW)(o9,te,{transform(e,r){let a,s;return this.value?s=this.value:(a=r=r.addAll(),s=this.value={}),e.derive&&(a=r.fork(r.NO_SOURCE),r.visit(r.REM,l=>{const f=Ne(l);a.rem.push(s[f]),s[f]=null}),r.visit(r.ADD,l=>{const f=pc(l);s[Ne(l)]=f,a.add.push(f)}),r.visit(r.MOD,l=>{const f=s[Ne(l)];for(const d in l)f[d]=l[d],a.modifies(d);a.mod.push(f)})),a}}),p0.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},(0,E.XW)(p0,te,{transform(e,r){const a=r.fork(r.NO_SOURCE),s=e.modified("size"),l=e.size,f=this.value.reduce((_,y)=>(_[Ne(y)]=1,_),{});let d=this.value,h=this.count,p=0;function v(_){let y,C;d.length<l?d.push(_):(C=~~((h+1)*lr()),C<d.length&&C>=p&&(y=d[C],f[Ne(y)]&&a.rem.push(y),d[C]=_)),++h}if(r.rem.length&&(r.visit(r.REM,_=>{const y=Ne(_);f[y]&&(f[y]=-1,a.rem.push(_)),--h}),d=d.filter(_=>-1!==f[Ne(_)])),(r.rem.length||s)&&d.length<l&&r.source&&(p=h=d.length,r.visit(r.SOURCE,_=>{f[Ne(_)]||v(_)}),p=-1),s&&d.length>l){const _=d.length-l;for(let y=0;y<_;++y)f[Ne(d[y])]=-1,a.rem.push(d[y]);d=d.slice(_)}return r.mod.length&&r.visit(r.MOD,_=>{f[Ne(_)]&&a.mod.push(_)}),r.add.length&&r.visit(r.ADD,v),(r.add.length||p<0)&&(a.add=d.filter(_=>!f[Ne(_)])),this.count=h,this.value=a.source=d,a}}),a9.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},(0,E.XW)(a9,te,{transform(e,r){if(this.value&&!e.modified())return;const a=r.materialize().fork(r.MOD),s=e.as||"data";return a.rem=this.value?r.rem.concat(this.value):r.rem,this.value=ur(e.start,e.stop,e.step||1).map(l=>{const f={};return f[s]=l,$t(f)}),a.add=r.add.concat(this.value),a}}),(0,E.XW)(Sb,te,{transform(e,r){return this.value=r.source,r.changed()?r.fork(r.NO_SOURCE|r.NO_FIELDS):r.StopPropagation}});const Ab=["unit0","unit1"];function kb(e){te.call(this,(0,E.Xr)(),e)}function Tb(e){te.call(this,null,e)}lo.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:p7,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:Ab}]},(0,E.XW)(lo,te,{transform(e,r){const a=e.field,s=!1!==e.interval,l="utc"===e.timezone,f=this._floor(e,r),d=(l?Wl:sc)(f.unit).offset,h=e.as||Ab,p=h[0],v=h[1],_=f.step;let y=f.start||1/0,C=f.stop||-1/0,M=r.ADD;return(e.modified()||r.modified((0,E.Oj)(a)))&&(M=(r=r.reflow(!0)).SOURCE,y=1/0,C=-1/0),r.visit(M,w=>{const S=a(w);let A,T;null==S?(w[p]=null,s&&(w[v]=null)):(w[p]=A=T=f(S),s&&(w[v]=T=d(A,_)),A<y&&(y=A),T>C&&(C=T))}),f.start=y,f.stop=C,r.modifies(s?h:p)},_floor(e,r){const a="utc"===e.timezone,{units:s,step:l}=e.units?{units:e.units,step:e.step||1}:function(e){const r=e.extent,a=e.maxbins||40,s=Math.abs((0,E.yP)(r))/a;let f,d,l=pf(h=>h[2]).right(Ko,s);return l===Ko.length?(f=Gl,d=La(r[0]/xe,r[1]/xe,a)):l?(l=Ko[s/Ko[l-1][2]<Ko[l][2]/s?l-1:l],f=l[0],d=l[1]):(f=gt,d=Math.max(La(r[0],r[1],a),1)),{units:f,step:d}}({extent:e.extent||(0,E.We)(r.materialize(r.SOURCE).source,e.field),maxbins:e.maxbins}),f=qe(s),d=this.value||{},h=(a?a6:y7)(f,l);return h.unit=(0,E.fj)(f),h.units=f,h.step=l,h.start=d.start,h.stop=d.stop,this.value=h}}),(0,E.XW)(kb,te,{transform(e,r){const a=r.dataflow,s=e.field,l=this.value,f=h=>l.set(s(h),h);let d=!0;return e.modified("field")||r.modified(s.fields)?(l.clear(),r.visit(r.SOURCE,f)):r.changed()?(r.visit(r.REM,h=>l.delete(s(h))),r.visit(r.ADD,f)):d=!1,this.modified(d),l.empty>a.cleanThreshold&&a.runAfter(l.clean),r.fork()}}),(0,E.XW)(Tb,te,{transform(e,r){(!this.value||e.modified("field")||e.modified("sort")||r.changed()||e.sort&&r.modified(e.sort.fields))&&(this.value=(e.sort?r.source.slice().sort(gc(e.sort)):r.source).map(e.field))}});const L6={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:r=>{const a=r.index,s=r.data;return a&&r.compare(s[a-1],s[a])?e=a+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:r=>{const a=r.index,s=r.data;return a&&r.compare(s[a-1],s[a])?++e:e}}},percent_rank:function(){const e=L6.rank(),r=e.next;return{init:e.init,next:a=>(r(a)-1)/(a.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:r=>{const a=r.data,s=r.compare;let l=r.index;if(e<l){for(;l+1<a.length&&!s(a[l],a[l+1]);)++l;e=l}return(1+e)/a.length}}},ntile:function(e,r){(r=+r)>0||(0,E.vU)("ntile num must be greater than zero.");const a=L6.cume_dist(),s=a.next;return{init:a.init,next:l=>Math.ceil(r*s(l))}},lag:function(e,r){return r=+r||1,{next:a=>{const s=a.index-r;return s>=0?e(a.data[s]):null}}},lead:function(e,r){return r=+r||1,{next:a=>{const s=a.index+r,l=a.data;return s<l.length?e(l[s]):null}}},first_value:function(e){return{next:r=>e(r.data[r.i0])}},last_value:function(e){return{next:r=>e(r.data[r.i1-1])}},nth_value:function(e,r){return(r=+r)>0||(0,E.vU)("nth_value nth must be greater than zero."),{next:a=>{const s=a.i0+(r-1);return s<a.i1?e(a.data[s]):null}}},prev_value:function(e){let r;return{init:()=>r=null,next:a=>{const s=e(a.data[a.index]);return null!=s?r=s:r}}},next_value:function(e){let r,a;return{init:()=>(r=null,a=-1),next:s=>{const l=s.data;return s.index<=a?r:(a=function(e,r,a){for(let s=r.length;a<s;++a)if(null!=e(r[a]))return a;return-1}(e,l,s.index))<0?(a=l.length,r=null):r=e(l[a])}}}},zb=Object.keys(L6);function Nb(e){const r=(0,E.IX)(e.ops),a=(0,E.IX)(e.fields),s=(0,E.IX)(e.params),l=(0,E.IX)(e.as),f=this.outputs=[],d=this.windows=[],h={},p={},v=[],_=[];let y=!0;function C(M){(0,E.IX)((0,E.Oj)(M)).forEach(w=>h[w]=1)}C(e.sort),r.forEach((M,w)=>{const S=a[w],A=(0,E.el)(S),T=$7(M,A,l[w]);if(C(S),f.push(T),(0,E.nr)(L6,M))d.push(function(e,r,a,s){const l=L6[e](r,a);return{init:l.init||E.bM,update:function(f,d){d[s]=l.next(f)}}}(M,a[w],s[w],T));else{if(null==S&&"count"!==M&&(0,E.vU)("Null aggregate field specified."),"count"===M)return void v.push(T);y=!1;let N=p[A];N||(N=p[A]=[],N.field=S,_.push(N)),N.push(ub(M,T))}}),(v.length||_.length)&&(this.cell=function(e,r,a){e=e.map(p=>db(p,p.field));const s={num:0,agg:null,store:!1,count:r};if(!a)for(var l=e.length,f=s.agg=Array(l),d=0;d<l;++d)f[d]=new e[d](s);if(s.store)var h=s.data=new q7;return s.add=function(p){if(s.num+=1,!a){h&&h.add(p);for(let v=0;v<l;++v)f[v].add(f[v].get(p),p)}},s.rem=function(p){if(s.num-=1,!a){h&&h.rem(p);for(let v=0;v<l;++v)f[v].rem(f[v].get(p),p)}},s.set=function(p){let v,_;for(h&&h.values(),v=0,_=r.length;v<_;++v)p[r[v]]=s.num;if(!a)for(v=0,_=f.length;v<_;++v)f[v].set(p)},s.init=function(){s.num=0,h&&h.reset();for(let p=0;p<l;++p)f[p].init()},s}(_,v,y)),this.inputs=Object.keys(h)}const Ib=Nb.prototype;function Jf(e){te.call(this,{},e),this._mlen=0,this._mods=[]}function Fb(e,r,a,s){const l=s.sort,f=l&&!s.ignorePeers,d=s.frame||[null,0],h=e.data(a),p=h.length,v=f?pf(l):null,_={i0:0,i1:0,p0:0,p1:0,index:0,data:h,compare:l||(0,E.a9)(-1)};r.init();for(let y=0;y<p;++y)e8(_,d,y,p),f&&BT(_,v),r.update(_,h[y])}function e8(e,r,a,s){e.p0=e.i0,e.p1=e.i1,e.i0=null==r[0]?0:Math.max(0,a-Math.abs(r[0])),e.i1=null==r[1]?s:Math.min(s,a+Math.abs(r[1])+1),e.index=a}function BT(e,r){const a=e.i0,s=e.i1-1,l=e.compare,f=e.data,d=f.length-1;a>0&&!l(f[a],f[a-1])&&(e.i0=r.left(f,f[a])),s<d&&!l(f[s],f[s+1])&&(e.i1=r.right(f,f[s]))}function $a(e,r,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+r)/6,(e._y0+4*e._y1+a)/6)}function n1(e){this._context=e}function Sc(){}function s9(e){this._context=e}function Vr(e){this._context=e}function t8(e,r){this._basis=new n1(e),this._beta=r}Ib.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()},Ib.update=function(e,r){const a=this.cell,s=this.windows,l=e.data,f=s&&s.length;let d;if(a){for(d=e.p0;d<e.i0;++d)a.rem(l[d]);for(d=e.p1;d<e.i1;++d)a.add(l[d]);a.set(r)}for(d=0;d<f;++d)s[d].update(e,r)},Jf.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:zb.concat(T6)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},(0,E.XW)(Jf,te,{transform(e,r){this.stamp=r.stamp;const a=e.modified(),s=gc(e.sort),l=jf(e.groupby),f=h=>this.group(l(h));let d=this.state;(!d||a)&&(d=this.state=new Nb(e)),a||r.modified(d.inputs)?(this.value={},r.visit(r.SOURCE,h=>f(h).add(h))):(r.visit(r.REM,h=>f(h).remove(h)),r.visit(r.ADD,h=>f(h).add(h)));for(let h=0,p=this._mlen;h<p;++h)Fb(this._mods[h],d,s,e);return this._mlen=0,this._mods=[],r.reflow(a).modifies(d.outputs)},group(e){let r=this.value[e];return r||(r=this.value[e]=hb(Ne),r.stamp=-1),r.stamp<this.stamp&&(r.stamp=this.stamp,this._mods[this._mlen++]=r),r}}),n1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$a(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$a(this,e,r)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}},s9.prototype={areaStart:Sc,areaEnd:Sc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._x2=e,this._y2=r;break;case 1:this._point=2,this._x3=e,this._y3=r;break;case 2:this._point=3,this._x4=e,this._y4=r,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+r)/6);break;default:$a(this,e,r)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}},Vr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(a,s):this._context.moveTo(a,s);break;case 3:this._point=4;default:$a(this,e,r)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}},t8.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,r=this._y,a=e.length-1;if(a>0)for(var p,s=e[0],l=r[0],f=e[a]-s,d=r[a]-l,h=-1;++h<=a;)this._basis.point(this._beta*e[h]+(1-this._beta)*(s+(p=h/a)*f),this._beta*r[h]+(1-this._beta)*(l+p*d));this._x=this._y=null,this._basis.lineEnd()},point:function(e,r){this._x.push(+e),this._y.push(+r)}};const jT=function e(r){function a(s){return 1===r?new n1(s):new t8(s,r)}return a.beta=function(s){return e(+s)},a}(.85);function F6(e,r,a){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-r),e._y2+e._k*(e._y1-a),e._x2,e._y2)}function Ac(e,r){this._context=e,this._k=(1-r)/6}Ac.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:F6(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2,this._x1=e,this._y1=r;break;case 2:this._point=3;default:F6(this,e,r)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};const Rb=function e(r){function a(s){return new Ac(s,r)}return a.tension=function(s){return e(+s)},a}(0);function n8(e,r){this._context=e,this._k=(1-r)/6}n8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:F6(this,e,r)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};const l9=function e(r){function a(s){return new n8(s,r)}return a.tension=function(s){return e(+s)},a}(0);function R6(e,r){this._context=e,this._k=(1-r)/6}R6.prototype={areaStart:Sc,areaEnd:Sc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._x3=e,this._y3=r;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=r);break;case 2:this._point=3,this._x5=e,this._y5=r;break;default:F6(this,e,r)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};const Vb=function e(r){function a(s){return new R6(s,r)}return a.tension=function(s){return e(+s)},a}(0);var UT=Math.abs,Vn=Math.atan2,qa=Math.cos,Ob=Math.max,u9=Math.min,N1=Math.sin,g0=Math.sqrt,Vi=1e-12,Js=Math.PI,i8=Js/2,V6=2*Js;function $T(e){return e>1?0:e<-1?Js:Math.acos(e)}function f9(e){return e>=1?i8:e<=-1?-i8:Math.asin(e)}function O6(e,r,a){var s=e._x1,l=e._y1,f=e._x2,d=e._y2;if(e._l01_a>Vi){var h=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,p=3*e._l01_a*(e._l01_a+e._l12_a);s=(s*h-e._x0*e._l12_2a+e._x2*e._l01_2a)/p,l=(l*h-e._y0*e._l12_2a+e._y2*e._l01_2a)/p}if(e._l23_a>Vi){var v=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,_=3*e._l23_a*(e._l23_a+e._l12_a);f=(f*v+e._x1*e._l23_2a-r*e._l12_2a)/_,d=(d*v+e._y1*e._l23_2a-a*e._l12_2a)/_}e._context.bezierCurveTo(s,l,f,d,e._x2,e._y2)}function d9(e,r){this._context=e,this._alpha=r}d9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){if(e=+e,r=+r,this._point){var a=this._x2-e,s=this._y2-r;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3;default:O6(this,e,r)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};const h9=function e(r){function a(s){return r?new d9(s,r):new Ac(s,0)}return a.alpha=function(s){return e(+s)},a}(.5);function Pb(e,r){this._context=e,this._alpha=r}Pb.prototype={areaStart:Sc,areaEnd:Sc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,r){if(e=+e,r=+r,this._point){var a=this._x2-e,s=this._y2-r;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=r;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=r);break;case 2:this._point=3,this._x5=e,this._y5=r;break;default:O6(this,e,r)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};const qT=function e(r){function a(s){return r?new Pb(s,r):new R6(s,0)}return a.alpha=function(s){return e(+s)},a}(.5);function m9(e,r){this._context=e,this._alpha=r}m9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){if(e=+e,r=+r,this._point){var a=this._x2-e,s=this._y2-r;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+s*s,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:O6(this,e,r)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};const Hb=function e(r){function a(s){return r?new m9(s,r):new n8(s,0)}return a.alpha=function(s){return e(+s)},a}(.5);function e2(e){this._context=e}function r8(e){return new e2(e)}function p9(e){this._context=e}function P6(e){return e<0?-1:1}function Bb(e,r,a){var s=e._x1-e._x0,l=r-e._x1,f=(e._y1-e._y0)/(s||l<0&&-0),d=(a-e._y1)/(l||s<0&&-0),h=(f*l+d*s)/(s+l);return(P6(f)+P6(d))*Math.min(Math.abs(f),Math.abs(d),.5*Math.abs(h))||0}function g9(e,r){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-r)/2:r}function o8(e,r,a){var s=e._x0,f=e._x1,d=e._y1,h=(f-s)/3;e._context.bezierCurveTo(s+h,e._y0+h*r,f-h,d-h*a,f,d)}function H6(e){this._context=e}function a8(e){this._context=new v9(e)}function v9(e){this._context=e}function _9(e){this._context=e}function l8(e){var r,s,a=e.length-1,l=new Array(a),f=new Array(a),d=new Array(a);for(l[0]=0,f[0]=2,d[0]=e[0]+2*e[1],r=1;r<a-1;++r)l[r]=1,f[r]=4,d[r]=4*e[r]+2*e[r+1];for(l[a-1]=2,f[a-1]=7,d[a-1]=8*e[a-1]+e[a],r=1;r<a;++r)f[r]-=s=l[r]/f[r-1],d[r]-=s*d[r-1];for(l[a-1]=d[a-1]/f[a-1],r=a-2;r>=0;--r)l[r]=(d[r]-l[r+1])/f[r];for(f[a-1]=(e[a]+l[a-1])/2,r=0;r<a-1;++r)f[r]=2*e[r+1]-l[r+1];return[l,f]}function v0(e,r){this._context=e,this._t=r}e2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r)}}},p9.prototype={areaStart:Sc,areaEnd:Sc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,r){e=+e,r=+r,this._point?this._context.lineTo(e,r):(this._point=1,this._context.moveTo(e,r))}},H6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:o8(this,this._t0,g9(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){var a=NaN;if(r=+r,(e=+e)!==this._x1||r!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,o8(this,g9(this,a=Bb(this,e,r)),a);break;default:o8(this,this._t0,a=Bb(this,e,r))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r,this._t0=a}}},(a8.prototype=Object.create(H6.prototype)).point=function(e,r){H6.prototype.point.call(this,r,e)},v9.prototype={moveTo:function(e,r){this._context.moveTo(r,e)},closePath:function(){this._context.closePath()},lineTo:function(e,r){this._context.lineTo(r,e)},bezierCurveTo:function(e,r,a,s,l,f){this._context.bezierCurveTo(r,e,s,a,f,l)}},_9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,r=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],r[0]):this._context.moveTo(e[0],r[0]),2===a)this._context.lineTo(e[1],r[1]);else for(var s=l8(e),l=l8(r),f=0,d=1;d<a;++f,++d)this._context.bezierCurveTo(s[0][f],l[0][f],s[1][f],l[1][f],e[d],r[d]);(this._line||0!==this._line&&1===a)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,r){this._x.push(+e),this._y.push(+r)}},v0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(e,r);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,r)}}this._x=e,this._y=r}};const y9=Math.PI,b9=2*y9,t2=1e-6,C9=b9-t2;function u8(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function XT(){return new u8}u8.prototype=XT.prototype={constructor:u8,moveTo:function(e,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+r)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,r){this._+="L"+(this._x1=+e)+","+(this._y1=+r)},quadraticCurveTo:function(e,r,a,s){this._+="Q"+ +e+","+ +r+","+(this._x1=+a)+","+(this._y1=+s)},bezierCurveTo:function(e,r,a,s,l,f){this._+="C"+ +e+","+ +r+","+ +a+","+ +s+","+(this._x1=+l)+","+(this._y1=+f)},arcTo:function(e,r,a,s,l){var f=this._x1,d=this._y1,h=(a=+a)-(e=+e),p=(s=+s)-(r=+r),v=f-e,_=d-r,y=v*v+_*_;if((l=+l)<0)throw new Error("negative radius: "+l);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=r);else if(y>t2)if(Math.abs(_*h-p*v)>t2&&l){var C=a-f,M=s-d,w=h*h+p*p,S=C*C+M*M,A=Math.sqrt(w),T=Math.sqrt(y),N=l*Math.tan((y9-Math.acos((w+y-S)/(2*A*T)))/2),I=N/T,F=N/A;Math.abs(I-1)>t2&&(this._+="L"+(e+I*v)+","+(r+I*_)),this._+="A"+l+","+l+",0,0,"+ +(_*C>v*M)+","+(this._x1=e+F*h)+","+(this._y1=r+F*p)}else this._+="L"+(this._x1=e)+","+(this._y1=r)},arc:function(e,r,a,s,l,f){e=+e,r=+r,f=!!f;var d=(a=+a)*Math.cos(s),h=a*Math.sin(s),p=e+d,v=r+h,_=1^f,y=f?s-l:l-s;if(a<0)throw new Error("negative radius: "+a);null===this._x1?this._+="M"+p+","+v:(Math.abs(this._x1-p)>t2||Math.abs(this._y1-v)>t2)&&(this._+="L"+p+","+v),a&&(y<0&&(y=y%b9+b9),y>C9?this._+="A"+a+","+a+",0,1,"+_+","+(e-d)+","+(r-h)+"A"+a+","+a+",0,1,"+_+","+(this._x1=p)+","+(this._y1=v):y>t2&&(this._+="A"+a+","+a+",0,"+ +(y>=y9)+","+_+","+(this._x1=e+a*Math.cos(l))+","+(this._y1=r+a*Math.sin(l))))},rect:function(e,r,a,s){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+r)+"h"+ +a+"v"+ +s+"h"+-a+"Z"},toString:function(){return this._}};const kc=XT;function qt(e){return function(){return e}}function $b(e){return e.innerRadius}function ZT(e){return e.outerRadius}function KT(e){return e.startAngle}function uo(e){return e.endAngle}function QT(e){return e&&e.padAngle}function qb(e,r,a,s,l,f,d,h){var p=a-e,v=s-r,_=d-l,y=h-f,C=y*p-_*v;if(!(C*C<Vi))return[e+(C=(_*(r-f)-y*(e-l))/C)*p,r+C*v]}function f8(e,r,a,s,l,f,d){var h=e-a,p=r-s,v=(d?f:-f)/g0(h*h+p*p),_=v*p,y=-v*h,C=e+_,M=r+y,w=a+_,S=s+y,A=(C+w)/2,T=(M+S)/2,N=w-C,I=S-M,F=N*N+I*I,O=l-f,P=C*S-w*M,V=(I<0?-1:1)*g0(Ob(0,O*O*F-P*P)),W=(P*I-N*V)/F,Y=(-P*N-I*V)/F,q=(P*I+N*V)/F,G=(-P*N+I*V)/F,re=W-A,ie=Y-T,fe=q-A,J=G-T;return re*re+ie*ie>fe*fe+J*J&&(W=q,Y=G),{cx:W,cy:Y,x01:-_,y01:-y,x11:W*(l/O-1),y11:Y*(l/O-1)}}function Wb(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function x9(e){return e[0]}function Gb(e){return e[1]}function Xb(e,r){var a=qt(!0),s=null,l=r8,f=null;function d(h){var p,_,C,v=(h=Wb(h)).length,y=!1;for(null==s&&(f=l(C=kc())),p=0;p<=v;++p)!(p<v&&a(_=h[p],p,h))===y&&((y=!y)?f.lineStart():f.lineEnd()),y&&f.point(+e(_,p,h),+r(_,p,h));if(C)return f=null,C+""||null}return e="function"==typeof e?e:void 0===e?x9:qt(e),r="function"==typeof r?r:void 0===r?Gb:qt(r),d.x=function(h){return arguments.length?(e="function"==typeof h?h:qt(+h),d):e},d.y=function(h){return arguments.length?(r="function"==typeof h?h:qt(+h),d):r},d.defined=function(h){return arguments.length?(a="function"==typeof h?h:qt(!!h),d):a},d.curve=function(h){return arguments.length?(l=h,null!=s&&(f=l(s)),d):l},d.context=function(h){return arguments.length?(null==h?s=f=null:f=l(s=h),d):s},d}function Yb(e,r,a){var s=null,l=qt(!0),f=null,d=r8,h=null;function p(_){var y,C,M,S,T,w=(_=Wb(_)).length,A=!1,N=new Array(w),I=new Array(w);for(null==f&&(h=d(T=kc())),y=0;y<=w;++y){if(!(y<w&&l(S=_[y],y,_))===A)if(A=!A)C=y,h.areaStart(),h.lineStart();else{for(h.lineEnd(),h.lineStart(),M=y-1;M>=C;--M)h.point(N[M],I[M]);h.lineEnd(),h.areaEnd()}A&&(N[y]=+e(S,y,_),I[y]=+r(S,y,_),h.point(s?+s(S,y,_):N[y],a?+a(S,y,_):I[y]))}if(T)return h=null,T+""||null}function v(){return Xb().defined(l).curve(d).context(f)}return e="function"==typeof e?e:void 0===e?x9:qt(+e),r="function"==typeof r?r:qt(void 0===r?0:+r),a="function"==typeof a?a:void 0===a?Gb:qt(+a),p.x=function(_){return arguments.length?(e="function"==typeof _?_:qt(+_),s=null,p):e},p.x0=function(_){return arguments.length?(e="function"==typeof _?_:qt(+_),p):e},p.x1=function(_){return arguments.length?(s=null==_?null:"function"==typeof _?_:qt(+_),p):s},p.y=function(_){return arguments.length?(r="function"==typeof _?_:qt(+_),a=null,p):r},p.y0=function(_){return arguments.length?(r="function"==typeof _?_:qt(+_),p):r},p.y1=function(_){return arguments.length?(a=null==_?null:"function"==typeof _?_:qt(+_),p):a},p.lineX0=p.lineY0=function(){return v().x(e).y(r)},p.lineY1=function(){return v().x(e).y(a)},p.lineX1=function(){return v().x(s).y(r)},p.defined=function(_){return arguments.length?(l="function"==typeof _?_:qt(!!_),p):l},p.curve=function(_){return arguments.length?(d=_,null!=f&&(h=d(f)),p):d},p.context=function(_){return arguments.length?(null==_?f=h=null:h=d(f=_),p):f},p}const nt={draw:function(e,r){var a=Math.sqrt(r/Js);e.moveTo(a,0),e.arc(0,0,a,0,V6)}};Math.sqrt(1/3);Math.sin(Js/10),Math.sin(7*Js/10);function n2(e,r){if("undefined"!=typeof document&&document.createElement){const a=document.createElement("canvas");if(a&&a.getContext)return a.width=e,a.height=r,a}return null}Math.sin(V6/10),Math.cos(V6/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12);const Jb=pf(Ut),p8=Jb.right,tz=Jb.left,_0=(pf(hT),p8);function Ga(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e)}return this}function r2(e,r){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof r?this.interpolator(r):this.range(r)}return this}const eC=Symbol("implicit");function g8(){var e=new Map,r=[],a=[],s=eC;function l(f){var d=f+"",h=e.get(d);if(!h){if(s!==eC)return s;e.set(d,h=r.push(f))}return a[(h-1)%a.length]}return l.domain=function(f){if(!arguments.length)return r.slice();r=[],e=new Map;for(const d of f){const h=d+"";e.has(h)||e.set(h,r.push(d))}return l},l.range=function(f){return arguments.length?(a=Array.from(f),l):a.slice()},l.unknown=function(f){return arguments.length?(s=f,l):s},l.copy=function(){return g8(r,a).unknown(s)},Ga.apply(l,arguments),l}function T9(e,r,a,s){var f,l=La(e,r,a);switch((s=Z2(null==s?",f":s)).type){case"s":var d=Math.max(Math.abs(e),Math.abs(r));return null==s.precision&&!isNaN(f=o7(l,d))&&(s.precision=f),df(s,d);case"":case"e":case"g":case"p":case"r":null==s.precision&&!isNaN(f=Ns(l,Math.max(Math.abs(e),Math.abs(r))))&&(s.precision=f-("e"===s.type));break;case"f":case"%":null==s.precision&&!isNaN(f=a7(l))&&(s.precision=f-2*("%"===s.type))}return Is(s)}function y0(e,r,a){e.prototype=r.prototype=a,a.constructor=e}function Tc(e,r){var a=Object.create(e.prototype);for(var s in r)a[s]=r[s];return a}function zc(){}var j6=1/.7,U6="\\s*([+-]?\\d+)\\s*",v8="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xa="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",L$=/^#([0-9a-f]{3,8})$/,F$=new RegExp("^rgb\\("+[U6,U6,U6]+"\\)$"),R$=new RegExp("^rgb\\("+[Xa,Xa,Xa]+"\\)$"),V$=new RegExp("^rgba\\("+[U6,U6,U6,v8]+"\\)$"),o2=new RegExp("^rgba\\("+[Xa,Xa,Xa,v8]+"\\)$"),z9=new RegExp("^hsl\\("+[v8,Xa,Xa]+"\\)$"),nz=new RegExp("^hsla\\("+[v8,Xa,Xa,v8]+"\\)$"),N9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function _8(){return this.rgb().formatHex()}function y8(){return this.rgb().formatRgb()}function $6(e){var r,a;return e=(e+"").trim().toLowerCase(),(r=L$.exec(e))?(a=r[1].length,r=parseInt(r[1],16),6===a?Ya(r):3===a?new wi(r>>8&15|r>>4&240,r>>4&15|240&r,(15&r)<<4|15&r,1):8===a?q6(r>>24&255,r>>16&255,r>>8&255,(255&r)/255):4===a?q6(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|240&r,((15&r)<<4|15&r)/255):null):(r=F$.exec(e))?new wi(r[1],r[2],r[3],1):(r=R$.exec(e))?new wi(255*r[1]/100,255*r[2]/100,255*r[3]/100,1):(r=V$.exec(e))?q6(r[1],r[2],r[3],r[4]):(r=o2.exec(e))?q6(255*r[1]/100,255*r[2]/100,255*r[3]/100,r[4]):(r=z9.exec(e))?C0(r[1],r[2]/100,r[3]/100,1):(r=nz.exec(e))?C0(r[1],r[2]/100,r[3]/100,r[4]):N9.hasOwnProperty(e)?Ya(N9[e]):"transparent"===e?new wi(NaN,NaN,NaN,0):null}function Ya(e){return new wi(e>>16&255,e>>8&255,255&e,1)}function q6(e,r,a,s){return s<=0&&(e=r=a=NaN),new wi(e,r,a,s)}function I9(e){return e instanceof zc||(e=$6(e)),e?new wi((e=e.rgb()).r,e.g,e.b,e.opacity):new wi}function oa(e,r,a,s){return 1===arguments.length?I9(e):new wi(e,r,a,null==s?1:s)}function wi(e,r,a,s){this.r=+e,this.g=+r,this.b=+a,this.opacity=+s}function L9(){return"#"+F9(this.r)+F9(this.g)+F9(this.b)}function nC(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function F9(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function C0(e,r,a,s){return s<=0?e=r=a=NaN:a<=0||a>=1?e=r=NaN:r<=0&&(e=NaN),new fr(e,r,a,s)}function Nc(e){if(e instanceof fr)return new fr(e.h,e.s,e.l,e.opacity);if(e instanceof zc||(e=$6(e)),!e)return new fr;if(e instanceof fr)return e;var r=(e=e.rgb()).r/255,a=e.g/255,s=e.b/255,l=Math.min(r,a,s),f=Math.max(r,a,s),d=NaN,h=f-l,p=(f+l)/2;return h?(d=r===f?(a-s)/h+6*(a<s):a===f?(s-r)/h+2:(r-a)/h+4,h/=p<.5?f+l:2-f-l,d*=60):h=p>0&&p<1?0:d,new fr(d,h,p,e.opacity)}function x0(e,r,a,s){return 1===arguments.length?Nc(e):new fr(e,r,a,null==s?1:s)}function fr(e,r,a,s){this.h=+e,this.s=+r,this.l=+a,this.opacity=+s}function Ic(e,r,a){return 255*(e<60?r+(a-r)*e/60:e<180?a:e<240?r+(a-r)*(240-e)/60:r)}function Lc(e,r,a,s,l){var f=e*e,d=f*e;return((1-3*e+3*f-d)*r+(4-6*f+3*d)*a+(1+3*e+3*f-3*d)*s+d*l)/6}function iC(e){var r=e.length-1;return function(a){var s=a<=0?a=0:a>=1?(a=1,r-1):Math.floor(a*r),l=e[s],f=e[s+1];return Lc((a-s/r)*r,s>0?e[s-1]:2*l-f,l,f,s<r-1?e[s+2]:2*f-l)}}function R9(e){var r=e.length;return function(a){var s=Math.floor(((a%=1)<0?++a:a)*r);return Lc((a-s/r)*r,e[(s+r-1)%r],e[s%r],e[(s+1)%r],e[(s+2)%r])}}y0(zc,$6,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:_8,formatHex:_8,formatHsl:function(){return Nc(this).formatHsl()},formatRgb:y8,toString:y8}),y0(wi,oa,Tc(zc,{brighter:function(e){return e=null==e?j6:Math.pow(j6,e),new wi(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new wi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:L9,formatHex:L9,formatRgb:nC,toString:nC})),y0(fr,x0,Tc(zc,{brighter:function(e){return e=null==e?j6:Math.pow(j6,e),new fr(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new fr(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),r=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,s=a+(a<.5?a:1-a)*r,l=2*a-s;return new wi(Ic(e>=240?e-240:e+120,l,s),Ic(e,l,s),Ic(e<120?e+240:e-120,l,s),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const W6=e=>()=>e;function b8(e,r){return function(a){return e+a*r}}function G6(e,r){var a=r-e;return a?b8(e,a>180||a<-180?a-360*Math.round(a/360):a):W6(isNaN(e)?r:e)}function ai(e,r){var a=r-e;return a?b8(e,a):W6(isNaN(e)?r:e)}const x8=function e(r){var a=function(e){return 1==(e=+e)?ai:function(r,a){return a-r?function(e,r,a){return e=Math.pow(e,a),r=Math.pow(r,a)-e,a=1/a,function(s){return Math.pow(e+s*r,a)}}(r,a,e):W6(isNaN(r)?a:r)}}(r);function s(l,f){var d=a((l=oa(l)).r,(f=oa(f)).r),h=a(l.g,f.g),p=a(l.b,f.b),v=ai(l.opacity,f.opacity);return function(_){return l.r=d(_),l.g=h(_),l.b=p(_),l.opacity=v(_),l+""}}return s.gamma=e,s}(1);function iz(e){return function(r){var d,h,a=r.length,s=new Array(a),l=new Array(a),f=new Array(a);for(d=0;d<a;++d)h=oa(r[d]),s[d]=h.r||0,l[d]=h.g||0,f[d]=h.b||0;return s=e(s),l=e(l),f=e(f),h.opacity=1,function(p){return h.r=s(p),h.g=l(p),h.b=f(p),h+""}}}var rC=iz(iC),oC=iz(R9);function O9(e,r){r||(r=[]);var l,a=e?Math.min(r.length,e.length):0,s=r.slice();return function(f){for(l=0;l<a;++l)s[l]=e[l]*(1-f)+r[l]*f;return s}}function P9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function rz(e,r){return(P9(r)?O9:aC)(e,r)}function aC(e,r){var d,a=r?r.length:0,s=e?Math.min(a,e.length):0,l=new Array(s),f=new Array(a);for(d=0;d<s;++d)l[d]=aa(e[d],r[d]);for(;d<a;++d)f[d]=r[d];return function(h){for(d=0;d<s;++d)f[d]=l[d](h);return f}}function Or(e,r){var a=new Date;return e=+e,r=+r,function(s){return a.setTime(e*(1-s)+r*s),a}}function mo(e,r){return e=+e,r=+r,function(a){return e*(1-a)+r*a}}function sC(e,r){var l,a={},s={};for(l in(null===e||"object"!=typeof e)&&(e={}),(null===r||"object"!=typeof r)&&(r={}),r)l in e?a[l]=aa(e[l],r[l]):s[l]=r[l];return function(f){for(l in a)s[l]=a[l](f);return s}}var cC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lC=new RegExp(cC.source,"g");function fC(e,r){var s,l,f,a=cC.lastIndex=lC.lastIndex=0,d=-1,h=[],p=[];for(e+="",r+="";(s=cC.exec(e))&&(l=lC.exec(r));)(f=l.index)>a&&(f=r.slice(a,f),h[d]?h[d]+=f:h[++d]=f),(s=s[0])===(l=l[0])?h[d]?h[d]+=l:h[++d]=l:(h[++d]=null,p.push({i:d,x:mo(s,l)})),a=lC.lastIndex;return a<r.length&&(f=r.slice(a),h[d]?h[d]+=f:h[++d]=f),h.length<2?p[0]?function(e){return function(r){return e(r)+""}}(p[0].x):function(e){return function(){return e}}(r):(r=p.length,function(v){for(var y,_=0;_<r;++_)h[(y=p[_]).i]=y.x(v);return h.join("")})}function aa(e,r){var s,a=typeof r;return null==r||"boolean"===a?W6(r):("number"===a?mo:"string"===a?(s=$6(r))?(r=s,x8):fC:r instanceof $6?x8:r instanceof Date?Or:P9(r)?O9:Array.isArray(r)?aC:"function"!=typeof r.valueOf&&"function"!=typeof r.toString||isNaN(r)?sC:mo)(e,r)}function M0(e,r){return e=+e,r=+r,function(a){return Math.round(e*(1-a)+r*a)}}function H9(e){return+e}var dC=[0,1];function dr(e){return e}function B9(e,r){return(r-=e=+e)?function(a){return(a-e)/r}:function(e){return function(){return e}}(isNaN(r)?NaN:.5)}function az(e,r,a){var s=e[0],l=e[1],f=r[0],d=r[1];return l<s?(s=B9(l,s),f=a(d,f)):(s=B9(s,l),f=a(f,d)),function(h){return f(s(h))}}function sz(e,r,a){var s=Math.min(e.length,r.length)-1,l=new Array(s),f=new Array(s),d=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++d<s;)l[d]=B9(e[d],e[d+1]),f[d]=a(r[d],r[d+1]);return function(h){var p=_0(e,h,1,s)-1;return f[p](l[p](h))}}function w0(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function X6(){var s,l,f,h,p,v,e=dC,r=dC,a=aa,d=dr;function _(){var C=Math.min(e.length,r.length);return d!==dr&&(d=function(e,r){var a;return e>r&&(a=e,e=r,r=a),function(s){return Math.max(e,Math.min(r,s))}}(e[0],e[C-1])),h=C>2?sz:az,p=v=null,y}function y(C){return null==C||isNaN(C=+C)?f:(p||(p=h(e.map(s),r,a)))(s(d(C)))}return y.invert=function(C){return d(l((v||(v=h(r,e.map(s),mo)))(C)))},y.domain=function(C){return arguments.length?(e=Array.from(C,H9),_()):e.slice()},y.range=function(C){return arguments.length?(r=Array.from(C),_()):r.slice()},y.rangeRound=function(C){return r=Array.from(C),a=M0,_()},y.clamp=function(C){return arguments.length?(d=!!C||dr,_()):d!==dr},y.interpolate=function(C){return arguments.length?(a=C,_()):a},y.unknown=function(C){return arguments.length?(f=C,y):f},function(C,M){return s=C,l=M,_()}}function mC(){return X6()(dr,dr)}function Oi(e){var r=e.domain;return e.ticks=function(a){var s=r();return an(s[0],s[s.length-1],null==a?10:a)},e.tickFormat=function(a,s){var l=r();return T9(l[0],l[l.length-1],null==a?10:a,s)},e.nice=function(a){null==a&&(a=10);var p,v,s=r(),l=0,f=s.length-1,d=s[l],h=s[f],_=10;for(h<d&&(v=d,d=h,h=v,v=l,l=f,f=v);_-- >0;){if((v=Ia(d,h,a))===p)return s[l]=d,s[f]=h,r(s);if(v>0)d=Math.floor(d/v)*v,h=Math.ceil(h/v)*v;else{if(!(v<0))break;d=Math.ceil(d*v)/v,h=Math.floor(h*v)/v}p=v}return e},e}function gC(e,r){var d,a=0,s=(e=e.slice()).length-1,l=e[a],f=e[s];return f<l&&(d=a,a=s,s=d,d=l,l=f,f=d),e[a]=r.floor(l),e[s]=r.ceil(f),e}function cz(e){return Math.log(e)}function j9(e){return Math.exp(e)}function lz(e){return-Math.log(-e)}function uz(e){return-Math.exp(-e)}function fz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function vC(e){return function(r){return-e(-r)}}function E0(e){var l,f,r=e(cz,j9),a=r.domain,s=10;function d(){return l=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(r){return Math.log(r)/e})}(s),f=function(e){return 10===e?fz:e===Math.E?Math.exp:function(r){return Math.pow(e,r)}}(s),a()[0]<0?(l=vC(l),f=vC(f),e(lz,uz)):e(cz,j9),r}return r.base=function(h){return arguments.length?(s=+h,d()):s},r.domain=function(h){return arguments.length?(a(h),d()):a()},r.ticks=function(h){var y,p=a(),v=p[0],_=p[p.length-1];(y=_<v)&&(C=v,v=_,_=C);var w,S,A,C=l(v),M=l(_),T=null==h?10:+h,N=[];if(!(s%1)&&M-C<T){if(C=Math.floor(C),M=Math.ceil(M),v>0){for(;C<=M;++C)for(S=1,w=f(C);S<s;++S)if(!((A=w*S)<v)){if(A>_)break;N.push(A)}}else for(;C<=M;++C)for(S=s-1,w=f(C);S>=1;--S)if(!((A=w*S)<v)){if(A>_)break;N.push(A)}2*N.length<T&&(N=an(v,_,T))}else N=an(C,M,Math.min(M-C,T)).map(f);return y?N.reverse():N},r.tickFormat=function(h,p){if(null==p&&(p=10===s?".0e":","),"function"!=typeof p&&(p=Is(p)),h===1/0)return p;null==h&&(h=10);var v=Math.max(1,s*h/r.ticks().length);return function(_){var y=_/f(Math.round(l(_)));return y*s<s-.5&&(y*=s),y<=v?p(_):""}},r.nice=function(){return a(gC(a(),{floor:function(h){return f(Math.floor(l(h)))},ceil:function(h){return f(Math.ceil(l(h)))}}))},r}function _C(e){return function(r){return r<0?-Math.pow(-r,e):Math.pow(r,e)}}function $9(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function q9(e){return e<0?-e*e:e*e}function E8(e){var r=e(dr,dr),a=1;function s(){return 1===a?e(dr,dr):.5===a?e($9,q9):e(_C(a),_C(1/a))}return r.exponent=function(l){return arguments.length?(a=+l,s()):a},Oi(r)}function W9(){var e=E8(X6());return e.copy=function(){return w0(e,W9()).exponent(e.exponent())},Ga.apply(e,arguments),e}function D8(e){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/e))}}function mz(e){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*e}}function G9(e){var r=1,a=e(D8(r),mz(r));return a.constant=function(s){return arguments.length?e(D8(r=+s),mz(r)):r},Oi(a)}function Y9(e,r,a,s,l,f){const d=[[rc,1,Kr],[rc,5,5e3],[rc,15,15e3],[rc,30,3e4],[f,1,nr],[f,5,5*nr],[f,15,15*nr],[f,30,30*nr],[l,1,w1],[l,3,3*w1],[l,6,6*w1],[l,12,12*w1],[s,1,Wo],[s,2,2*Wo],[a,1,Q2],[r,1,o6],[r,3,3*o6],[e,1,Ul]];function p(v,_,y){const C=Math.abs(_-v)/y,M=pf(([,,A])=>A).right(d,C);if(M===d.length)return e.every(La(v/Ul,_/Ul,y));if(0===M)return ir.every(Math.max(La(v,_,y),1));const[w,S]=d[C/d[M-1][2]<d[M][2]/C?M-1:M];return w.every(S)}return[function(v,_,y){const C=_<v;C&&([v,_]=[_,v]);const M=y&&"function"==typeof y.range?y:p(v,_,y),w=M?M.range(v,+_+1):[];return C?w.reverse():w},p]}const[yC,bC]=Y9(ac,h7,Qe,ae,m7,iy),[CC,Za]=Y9(Yo,Ie,Ls,Go,Fa,Je);function S8(e){return new Date(e)}function pz(e){return e instanceof Date?+e:+new Date(+e)}function Z9(e,r,a,s,l,f,d,h,p,v){var _=mC(),y=_.invert,C=_.domain,M=v(".%L"),w=v(":%S"),S=v("%I:%M"),A=v("%I %p"),T=v("%a %d"),N=v("%b %d"),I=v("%B"),F=v("%Y");function O(P){return(p(P)<P?M:h(P)<P?w:d(P)<P?S:f(P)<P?A:s(P)<P?l(P)<P?T:N:a(P)<P?I:F)(P)}return _.invert=function(P){return new Date(y(P))},_.domain=function(P){return arguments.length?C(Array.from(P,pz)):C().map(S8)},_.ticks=function(P){var V=C();return e(V[0],V[V.length-1],null==P?10:P)},_.tickFormat=function(P,V){return null==V?O:v(V)},_.nice=function(P){var V=C();return(!P||"function"!=typeof P.range)&&(P=r(V[0],V[V.length-1],null==P?10:P)),P?C(gC(V,P)):_},_.copy=function(){return w0(_,Z9(e,r,a,s,l,f,d,h,p,v))},_}function Z6(){var a,s,l,f,p,e=0,r=1,d=dr,h=!1;function v(y){return null==y||isNaN(y=+y)?p:d(0===l?.5:(y=(f(y)-a)*l,h?Math.max(0,Math.min(1,y)):y))}function _(y){return function(C){var M,w;return arguments.length?([M,w]=C,d=y(M,w),v):[d(0),d(1)]}}return v.domain=function(y){return arguments.length?([e,r]=y,a=f(e=+e),s=f(r=+r),l=a===s?0:1/(s-a),v):[e,r]},v.clamp=function(y){return arguments.length?(h=!!y,v):h},v.interpolator=function(y){return arguments.length?(d=y,v):d},v.range=_(aa),v.rangeRound=_(M0),v.unknown=function(y){return arguments.length?(p=y,v):p},function(y){return f=y,a=y(e),s=y(r),l=a===s?0:1/(s-a),v}}function I1(e,r){return r.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Fc(){var e=Oi(Z6()(dr));return e.copy=function(){return I1(e,Fc())},r2.apply(e,arguments)}function k8(){var e=E8(Z6());return e.copy=function(){return I1(e,k8()).exponent(e.exponent())},r2.apply(e,arguments)}function T8(e,r){void 0===r&&(r=e,e=aa);for(var a=0,s=r.length-1,l=r[0],f=new Array(s<0?0:s);a<s;)f[a]=e(l,l=r[++a]);return function(d){var h=Math.max(0,Math.min(s-1,Math.floor(d*=s)));return f[h](d-h)}}function z8(){var l,f,d,h,p,_,C,e=0,r=.5,a=1,s=1,v=dr,y=!1;function M(S){return isNaN(S=+S)?C:(S=.5+((S=+_(S))-f)*(s*S<s*f?h:p),v(y?Math.max(0,Math.min(1,S)):S))}function w(S){return function(A){var T,N,I;return arguments.length?([T,N,I]=A,v=T8(S,[T,N,I]),M):[v(0),v(.5),v(1)]}}return M.domain=function(S){return arguments.length?([e,r,a]=S,l=_(e=+e),f=_(r=+r),d=_(a=+a),h=l===f?0:.5/(f-l),p=f===d?0:.5/(d-f),s=f<l?-1:1,M):[e,r,a]},M.clamp=function(S){return arguments.length?(y=!!S,M):y},M.interpolator=function(S){return arguments.length?(v=S,M):v},M.range=w(aa),M.rangeRound=w(M0),M.unknown=function(S){return arguments.length?(C=S,M):C},function(S){return _=S,l=S(e),f=S(r),d=S(a),h=l===f?0:.5/(f-l),p=f===d?0:.5/(d-f),s=f<l?-1:1,M}}function I8(){var e=E8(z8());return e.copy=function(){return I1(e,I8()).exponent(e.exponent())},r2.apply(e,arguments)}function S0(e){var r=e.length;return function(a){return e[Math.max(0,Math.min(r-1,Math.floor(a*r)))]}}function vz(e,r){var a=G6(+e,+r);return function(s){var l=a(s);return l-360*Math.floor(l/360)}}var J9,SC=180/Math.PI,Q9={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function AC(e,r,a,s,l,f){var d,h,p;return(d=Math.sqrt(e*e+r*r))&&(e/=d,r/=d),(p=e*a+r*s)&&(a-=e*p,s-=r*p),(h=Math.sqrt(a*a+s*s))&&(a/=h,s/=h,p/=h),e*s<r*a&&(e=-e,r=-r,p=-p,d=-d),{translateX:l,translateY:f,rotate:Math.atan2(r,e)*SC,skewX:Math.atan(p)*SC,scaleX:d,scaleY:h}}function Kt(e,r,a,s){function l(v){return v.length?v.pop()+" ":""}return function(v,_){var y=[],C=[];return v=e(v),_=e(_),function(v,_,y,C,M,w){if(v!==y||_!==C){var S=M.push("translate(",null,r,null,a);w.push({i:S-4,x:mo(v,y)},{i:S-2,x:mo(_,C)})}else(y||C)&&M.push("translate("+y+r+C+a)}(v.translateX,v.translateY,_.translateX,_.translateY,y,C),function(v,_,y,C){v!==_?(v-_>180?_+=360:_-v>180&&(v+=360),C.push({i:y.push(l(y)+"rotate(",null,s)-2,x:mo(v,_)})):_&&y.push(l(y)+"rotate("+_+s)}(v.rotate,_.rotate,y,C),function(v,_,y,C){v!==_?C.push({i:y.push(l(y)+"skewX(",null,s)-2,x:mo(v,_)}):_&&y.push(l(y)+"skewX("+_+s)}(v.skewX,_.skewX,y,C),function(v,_,y,C,M,w){if(v!==y||_!==C){var S=M.push(l(M)+"scale(",null,",",null,")");w.push({i:S-4,x:mo(v,y)},{i:S-2,x:mo(_,C)})}else(1!==y||1!==C)&&M.push(l(M)+"scale("+y+","+C+")")}(v.scaleX,v.scaleY,_.scaleX,_.scaleY,y,C),v=_=null,function(M){for(var A,w=-1,S=C.length;++w<S;)y[(A=C[w]).i]=A.x(M);return y.join("")}}}var em=Kt(function(e){const r=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?Q9:AC(r.a,r.b,r.c,r.d,r.e,r.f)},"px, ","px)","deg)"),Ka=Kt(function(e){return null!=e&&(J9||(J9=document.createElementNS("http://www.w3.org/2000/svg","g")),J9.setAttribute("transform",e),e=J9.transform.baseVal.consolidate())?AC((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Q9},", ",")",")");function L8(e){return((e=Math.exp(e))+1/e)/2}const TC=function e(r,a,s){function l(f,d){var A,T,h=f[0],p=f[1],v=f[2],C=d[2],M=d[0]-h,w=d[1]-p,S=M*M+w*w;if(S<1e-12)T=Math.log(C/v)/r,A=function(V){return[h+V*M,p+V*w,v*Math.exp(r*V*T)]};else{var N=Math.sqrt(S),I=(C*C-v*v+s*S)/(2*v*a*N),F=(C*C-v*v-s*S)/(2*C*a*N),O=Math.log(Math.sqrt(I*I+1)-I),P=Math.log(Math.sqrt(F*F+1)-F);T=(P-O)/r,A=function(V){var W=V*T,Y=L8(O),q=v/(a*N)*(Y*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(r*W+O)-function(e){return((e=Math.exp(e))-1/e)/2}(O));return[h+q*M,p+q*w,v*Y/L8(r*W+O)]}}return A.duration=1e3*T*r/Math.SQRT2,A}return l.rho=function(f){var d=Math.max(.001,+f),h=d*d;return e(d,h,h*h)},l}(Math.SQRT2,2,4);function nm(e){return function(r,a){var s=e((r=x0(r)).h,(a=x0(a)).h),l=ai(r.s,a.s),f=ai(r.l,a.l),d=ai(r.opacity,a.opacity);return function(h){return r.h=s(h),r.s=l(h),r.l=f(h),r.opacity=d(h),r+""}}}const zC=nm(G6);var NC=nm(ai);const IC=Math.PI/180,LC=180/Math.PI,om=4/29,Rc=6/29,FC=3*Rc*Rc;function RC(e){if(e instanceof sa)return new sa(e.l,e.a,e.b,e.opacity);if(e instanceof po)return cm(e);e instanceof wi||(e=I9(e));var f,d,r=VC(e.r),a=VC(e.g),s=VC(e.b),l=R8((.2225045*r+.7168786*a+.0606169*s)/1);return r===a&&a===s?f=d=l:(f=R8((.4360747*r+.3850649*a+.1430804*s)/.96422),d=R8((.0139322*r+.0971045*a+.7141733*s)/.82521)),new sa(116*l-16,500*(f-l),200*(l-d),e.opacity)}function K6(e,r,a,s){return 1===arguments.length?RC(e):new sa(e,r,a,null==s?1:s)}function sa(e,r,a,s){this.l=+e,this.a=+r,this.b=+a,this.opacity=+s}function R8(e){return e>.008856451679035631?Math.pow(e,1/3):e/FC+om}function am(e){return e>Rc?e*e*e:FC*(e-om)}function sm(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function VC(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function xz(e){if(e instanceof po)return new po(e.h,e.c,e.l,e.opacity);if(e instanceof sa||(e=RC(e)),0===e.a&&0===e.b)return new po(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var r=Math.atan2(e.b,e.a)*LC;return new po(r<0?r+360:r,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function V8(e,r,a,s){return 1===arguments.length?xz(e):new po(e,r,a,null==s?1:s)}function po(e,r,a,s){this.h=+e,this.c=+r,this.l=+a,this.opacity=+s}function cm(e){if(isNaN(e.h))return new sa(e.l,0,0,e.opacity);var r=e.h*IC;return new sa(e.l,Math.cos(r)*e.c,Math.sin(r)*e.c,e.opacity)}function B$(e,r){var a=ai((e=K6(e)).l,(r=K6(r)).l),s=ai(e.a,r.a),l=ai(e.b,r.b),f=ai(e.opacity,r.opacity);return function(d){return e.l=a(d),e.a=s(d),e.b=l(d),e.opacity=f(d),e+""}}function L1(e){return function(r,a){var s=e((r=V8(r)).h,(a=V8(a)).h),l=ai(r.c,a.c),f=ai(r.l,a.l),d=ai(r.opacity,a.opacity);return function(h){return r.h=s(h),r.c=l(h),r.l=f(h),r.opacity=d(h),r+""}}}y0(sa,K6,Tc(zc,{brighter:function(e){return new sa(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new sa(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,r=isNaN(this.a)?e:e+this.a/500,a=isNaN(this.b)?e:e-this.b/200;return new wi(sm(3.1338561*(r=.96422*am(r))-1.6168667*(e=1*am(e))-.4906146*(a=.82521*am(a))),sm(-.9787684*r+1.9161415*e+.033454*a),sm(.0719453*r-.2289914*e+1.4052427*a),this.opacity)}})),y0(po,V8,Tc(zc,{brighter:function(e){return new po(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new po(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return cm(this).rgb()}}));const j$=L1(G6);var U$=L1(ai),O8=1.78277,P8=-.29227,H8=-.90649,B8=1.97294,um=B8*H8,Ze=B8*O8,PC=O8*P8- -.14861*H8;function fm(e){if(e instanceof Vc)return new Vc(e.h,e.s,e.l,e.opacity);e instanceof wi||(e=I9(e));var a=e.g/255,s=e.b/255,l=(PC*s+um*(e.r/255)-Ze*a)/(PC+um-Ze),f=s-l,d=(B8*(a-l)-P8*f)/H8,h=Math.sqrt(d*d+f*f)/(B8*l*(1-l)),p=h?Math.atan2(d,f)*LC-120:NaN;return new Vc(p<0?p+360:p,h,l,e.opacity)}function dm(e,r,a,s){return 1===arguments.length?fm(e):new Vc(e,r,a,null==s?1:s)}function Vc(e,r,a,s){this.h=+e,this.s=+r,this.l=+a,this.opacity=+s}function HC(e){return function r(a){function s(l,f){var d=e((l=dm(l)).h,(f=dm(f)).h),h=ai(l.s,f.s),p=ai(l.l,f.l),v=ai(l.opacity,f.opacity);return function(_){return l.h=d(_),l.s=h(_),l.l=p(Math.pow(_,a)),l.opacity=v(_),l+""}}return a=+a,s.gamma=r,s}(1)}y0(Vc,dm,Tc(zc,{brighter:function(e){return e=null==e?j6:Math.pow(j6,e),new Vc(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Vc(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*IC,r=+this.l,a=isNaN(this.s)?0:this.s*r*(1-r),s=Math.cos(e),l=Math.sin(e);return new wi(255*(r+a*(-.14861*s+O8*l)),255*(r+a*(P8*s+H8*l)),255*(r+a*(B8*s)),this.opacity)}}));const Mz=HC(G6);var wz=HC(ai);function Ez(e,r){for(var a=new Array(r),s=0;s<r;++s)a[s]=e(s/(r-1));return a}function A0(e,r,a){const s=e-r+2*a;return e?s>0?s:1:0}const Oc="linear",o1="log",Q6="pow",J6="sqrt",T0="symlog",Pi="time",go="utc",fn="sequential",F1="diverging",Qa="quantile",hr="quantize",dt="threshold",s2="ordinal",c2="point",l2="bin-ordinal",mn="continuous",ca="discrete",la="discretizing",Ei="interpolating",u2="temporal";function j8(){const e=g8().unknown(void 0),r=e.domain,a=e.range;let l,f,s=[0,1],d=!1,h=0,p=0,v=.5;function _(){const y=r().length,C=s[1]<s[0],M=s[1-C],w=A0(y,h,p);let S=s[C-0];l=(M-S)/(w||1),d&&(l=Math.floor(l)),S+=(M-S-l*(y-h))*v,f=l*(1-h),d&&(S=Math.round(S),f=Math.round(f));const A=ur(y).map(T=>S+l*T);return a(C?A.reverse():A)}return delete e.unknown,e.domain=function(y){return arguments.length?(r(y),_()):r()},e.range=function(y){return arguments.length?(s=[+y[0],+y[1]],_()):s.slice()},e.rangeRound=function(y){return s=[+y[0],+y[1]],d=!0,_()},e.bandwidth=function(){return f},e.step=function(){return l},e.round=function(y){return arguments.length?(d=!!y,_()):d},e.padding=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),h=p,_()):h},e.paddingInner=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),_()):h},e.paddingOuter=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),_()):p},e.align=function(y){return arguments.length?(v=Math.max(0,Math.min(1,y)),_()):v},e.invertRange=function(y){if(null==y[0]||null==y[1])return;const C=s[1]<s[0],M=C?a().reverse():a(),w=M.length-1;let T,N,I,S=+y[0],A=+y[1];return S!=S||A!=A||(A<S&&(I=S,S=A,A=I),A<M[0]||S>s[1-C])?void 0:(T=Math.max(0,p8(M,S)-1),N=S===A?T:p8(M,A)-1,S-M[T]>f+1e-10&&++T,C&&(I=T,T=w-N,N=w-I),T>N?void 0:r().slice(T,N+1))},e.invert=function(y){const C=e.invertRange([y,y]);return C&&C[0]},e.copy=function(){return j8().domain(r()).range(s).round(d).paddingInner(h).paddingOuter(p).align(v)},_()}function hm(e){const r=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return hm(r())},e}var $C=Array.prototype.map;function qC(e){return $C.call(e,E.He)}const WC=Array.prototype.slice,U8={};function ot(e,r,a){const s=function(){const f=r();return f.invertRange||(f.invertRange=f.invert?function(e){return function(r){let l,a=r[0],s=r[1];return s<a&&(l=a,a=s,s=l),[e.invert(a),e.invert(s)]}}(f):f.invertExtent?function(e){return function(r){const a=e.range();let d,h,p,v,s=r[0],l=r[1],f=-1;for(l<s&&(h=s,s=l,l=h),p=0,v=a.length;p<v;++p)a[p]>=s&&a[p]<=l&&(f<0&&(f=p),d=p);if(!(f<0))return s=e.invertExtent(a[f]),l=e.invertExtent(a[d]),[void 0===s[0]?s[1]:s[0],void 0===l[1]?l[0]:l[1]]}}(f):void 0),f.type=e,f};return s.metadata=(0,E.Rg)((0,E.IX)(a)),s}function Ht(e,r,a){return arguments.length>1?(U8[e]=ot(e,r,a),this):f2(e)?U8[e]:void 0}function f2(e){return(0,E.nr)(U8,e)}function d2(e,r){const a=U8[e];return a&&a.metadata[r]}function pm(e){return d2(e,mn)}function z0(e){return d2(e,ca)}function $8(e){return d2(e,la)}function GC(e){return d2(e,o1)}function YC(e){return d2(e,Ei)}function ZC(e){return d2(e,Qa)}Ht("identity",function pC(e){var r;function a(s){return null==s||isNaN(s=+s)?r:s}return a.invert=a,a.domain=a.range=function(s){return arguments.length?(e=Array.from(s,H9),a):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return pC(e).unknown(r)},e=arguments.length?Array.from(e,H9):[0,1],Oi(a)}),Ht(Oc,function M8(){var e=mC();return e.copy=function(){return w0(e,M8())},Ga.apply(e,arguments),Oi(e)},mn),Ht(o1,function w8(){var e=E0(X6()).domain([1,10]);return e.copy=function(){return w0(e,w8()).base(e.base())},Ga.apply(e,arguments),e},[mn,o1]),Ht(Q6,W9,mn),Ht(J6,function(){return W9.apply(null,arguments).exponent(.5)},mn),Ht(T0,function X9(){var e=G9(X6());return e.copy=function(){return w0(e,X9()).constant(e.constant())},Ga.apply(e,arguments)},mn),Ht(Pi,function(){return Ga.apply(Z9(CC,Za,Yo,Ie,Ls,Go,Fa,Je,rc,ar).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},[mn,u2]),Ht(go,function(){return Ga.apply(Z9(yC,bC,ac,h7,Qe,ae,m7,iy,rc,u6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},[mn,u2]),Ht(fn,Fc,[mn,Ei]),Ht("".concat(fn,"-").concat(Oc),Fc,[mn,Ei]),Ht("".concat(fn,"-").concat(o1),function xC(){var e=E0(Z6()).domain([1,10]);return e.copy=function(){return I1(e,xC()).base(e.base())},r2.apply(e,arguments)},[mn,Ei,o1]),Ht("".concat(fn,"-").concat(Q6),k8,[mn,Ei]),Ht("".concat(fn,"-").concat(J6),function(){return k8.apply(null,arguments).exponent(.5)},[mn,Ei]),Ht("".concat(fn,"-").concat(T0),function A8(){var e=G9(Z6());return e.copy=function(){return I1(e,A8()).constant(e.constant())},r2.apply(e,arguments)},[mn,Ei]),Ht("".concat(F1,"-").concat(Oc),function N8(){var e=Oi(z8()(dr));return e.copy=function(){return I1(e,N8())},r2.apply(e,arguments)},[mn,Ei]),Ht("".concat(F1,"-").concat(o1),function MC(){var e=E0(z8()).domain([.1,1,10]);return e.copy=function(){return I1(e,MC()).base(e.base())},r2.apply(e,arguments)},[mn,Ei,o1]),Ht("".concat(F1,"-").concat(Q6),I8,[mn,Ei]),Ht("".concat(F1,"-").concat(J6),function(){return I8.apply(null,arguments).exponent(.5)},[mn,Ei]),Ht("".concat(F1,"-").concat(T0),function wC(){var e=G9(z8());return e.copy=function(){return I1(e,wC()).constant(e.constant())},r2.apply(e,arguments)},[mn,Ei]),Ht(Qa,function K9(){var s,e=[],r=[],a=[];function l(){var d=0,h=Math.max(1,r.length);for(a=new Array(h-1);++d<h;)a[d-1]=Rf(e,d/h);return f}function f(d){return null==d||isNaN(d=+d)?s:r[_0(a,d)]}return f.invertExtent=function(d){var h=r.indexOf(d);return h<0?[NaN,NaN]:[h>0?a[h-1]:e[0],h<a.length?a[h]:e[e.length-1]]},f.domain=function(d){if(!arguments.length)return e.slice();e=[];for(let h of d)null!=h&&!isNaN(h=+h)&&e.push(h);return e.sort(Ut),l()},f.range=function(d){return arguments.length?(r=Array.from(d),l()):r.slice()},f.unknown=function(d){return arguments.length?(s=d,f):s},f.quantiles=function(){return a.slice()},f.copy=function(){return K9().domain(e).range(r).unknown(s)},Ga.apply(f,arguments)},[la,Qa]),Ht(hr,function EC(){var f,e=0,r=1,a=1,s=[.5],l=[0,1];function d(p){return null!=p&&p<=p?l[_0(s,p,0,a)]:f}function h(){var p=-1;for(s=new Array(a);++p<a;)s[p]=((p+1)*r-(p-a)*e)/(a+1);return d}return d.domain=function(p){return arguments.length?([e,r]=p,e=+e,r=+r,h()):[e,r]},d.range=function(p){return arguments.length?(a=(l=Array.from(p)).length-1,h()):l.slice()},d.invertExtent=function(p){var v=l.indexOf(p);return v<0?[NaN,NaN]:v<1?[e,s[0]]:v>=a?[s[a-1],r]:[s[v-1],s[v]]},d.unknown=function(p){return arguments.length&&(f=p),d},d.thresholds=function(){return s.slice()},d.copy=function(){return EC().domain([e,r]).range(l).unknown(f)},Ga.apply(Oi(d),arguments)},la),Ht(dt,function DC(){var a,e=[.5],r=[0,1],s=1;function l(f){return null!=f&&f<=f?r[_0(e,f,0,s)]:a}return l.domain=function(f){return arguments.length?(e=Array.from(f),s=Math.min(e.length,r.length-1),l):e.slice()},l.range=function(f){return arguments.length?(r=Array.from(f),s=Math.min(e.length,r.length-1),l):r.slice()},l.invertExtent=function(f){var d=r.indexOf(f);return[e[d-1],e[d]]},l.unknown=function(f){return arguments.length?(a=f,l):a},l.copy=function(){return DC().domain(e).range(r).unknown(a)},Ga.apply(l,arguments)},la),Ht(l2,function mm(){let e=[],r=[];function a(s){return null==s||s!=s?void 0:r[(_0(e,s)-1)%r.length]}return a.domain=function(s){return arguments.length?(e=qC(s),a):e.slice()},a.range=function(s){return arguments.length?(r=WC.call(s),a):r.slice()},a.tickFormat=function(s,l){return T9(e[0],(0,E.fj)(e),null==s?10:s,l)},a.copy=function(){return mm().domain(a.domain()).range(a.range())},a},[ca,la]),Ht(s2,g8,ca),Ht("band",j8,ca),Ht(c2,function(){return hm(j8().paddingInner(1))},ca);const Dz=["clamp","base","constant","exponent"];function QC(e,r,a){return T8(JC(r||"rgb",a),e)}function Sz(e,r,a){const s=a-r;let l,f,d;return s&&Number.isFinite(s)?(l=(f=e.type).indexOf("-"),f=l<0?f:f.slice(l+1),d=Ht(f)().domain([r,a]).range([0,1]),Dz.forEach(h=>e[h]?d[h](e[h]()):0),d):(0,E.a9)(.5)}function JC(e,r){const a=Uo[function(e){return"interpolate"+e.toLowerCase().split("-").map(r=>r[0].toUpperCase()+r.slice(1)).join("")}(e)];return null!=r&&a&&a.gamma?a.gamma(r):a}function ex(e){const r=e.length/6|0,a=new Array(r);for(let s=0;s<r;)a[s]="#"+e.slice(6*s,6*++s);return a}function kz(e,r){for(const a in e)zz(a,r(e[a]))}const Tz={};function zz(e,r){return e=e&&e.toLowerCase(),arguments.length>1?(Tz[e]=r,this):Tz[e]}kz({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},ex),kz({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},e=>QC(ex(e)));const q8="symbol",Nz=e=>(0,E.kJ)(e)?e.map(r=>String(r)):String(e),N0=(e,r)=>e[1]-r[1],Iz=(e,r)=>r[1]-e[1];function W8(e,r,a){let s;return(0,E.hj)(r)&&(e.bins&&(r=Math.max(r,e.bins.length)),null!=a&&(r=Math.min(r,Math.floor((0,E.yP)(e.domain())/a||1)))),(0,E.Kn)(r)&&(s=r.step,r=r.interval),(0,E.HD)(r)&&(r=e.type===Pi?sc(r):e.type==go?Wl(r):(0,E.vU)("Only time and utc scales accept interval strings."),s&&(r=r.every(s))),r}function nx(e,r,a){let s=e.range(),l=s[0],f=(0,E.fj)(s),d=N0;if(l>f&&(s=f,f=l,l=s,d=Iz),l=Math.floor(l),f=Math.ceil(f),r=r.map(h=>[h,e(h)]).filter(h=>l<=h[1]&&h[1]<=f).sort(d).map(h=>h[0]),a>0&&r.length>1){const h=[r[0],(0,E.fj)(r)];for(;r.length>a&&r.length>=3;)r=r.filter((p,v)=>!(v%2));r.length<3&&(r=h)}return r}function G8(e,r){return e.bins?nx(e,e.bins):e.ticks?e.ticks(r):e.domain()}function eu(e,r,a,s,l,f){const d=r.type;let h=Nz;if(d===Pi||l===Pi)h=e.timeFormat(s);else if(d===go||l===go)h=e.utcFormat(s);else if(GC(d)){const p=e.formatFloat(s);if(f||r.bins)h=p;else{const v=ix(r,a,!1);h=_=>v(_)?p(_):""}}else if(r.tickFormat){const p=r.domain();h=e.formatSpan(p[0],p[p.length-1],a,s)}else s&&(h=e.format(s));return h}function ix(e,r,a){const s=G8(e,r),l=e.base(),f=Math.log(l),d=Math.max(1,l*r/s.length),h=p=>{let v=p/Math.pow(l,Math.round(Math.log(p)/f));return v*l<l-.5&&(v*=l),v<=d};return a?s.filter(h):h}const X8={[Qa]:"quantiles",[hr]:"thresholds",[dt]:"domain"},rx={[Qa]:"quantiles",[hr]:"domain"};function ox(e,r){return e.bins?function(e){const r=e.slice(0,-1);return r.max=(0,E.fj)(e),r}(e.bins):e.type===o1?ix(e,r,!0):X8[e.type]?function(e){const r=[-1/0].concat(e);return r.max=1/0,r}(e[X8[e.type]]()):G8(e,r)}function sx(e,r,a,s,l,f,d){const h=rx[r.type]&&f!==Pi&&f!==go?function(e,r,a){const s=r[rx[r.type]](),l=s.length;let d,f=l>1?s[1]-s[0]:s[0];for(d=1;d<l;++d)f=Math.min(f,s[d]-s[d-1]);return e.formatSpan(0,f,30,a)}(e,r,l):eu(e,r,a,l,f,d);return s===q8&&(e=>X8[e.type]||e.bins)(r)?cx(h):"discrete"===s?ym(h):G$(h)}const cx=e=>(r,a,s)=>{const l=_m(s[a+1],_m(s.max,1/0)),f=Y8(r,e),d=Y8(l,e);return f&&d?f+" \u2013 "+d:d?"< "+d:"\u2265 "+f},_m=(e,r)=>null!=e?e:r,ym=e=>(r,a)=>a?e(r):null,G$=e=>r=>e(r),Y8=(e,r)=>Number.isFinite(e)?r(e):null;function U(e,r,a){a=a||{};const s=Math.max(3,a.maxlen||7),l=function(e,r,a,s){const l=s||r.type;return(0,E.HD)(a)&&function(e){return d2(e,u2)}(l)&&(a=a.replace(/%a/g,"%A").replace(/%b/g,"%B")),a||l!==Pi?a||l!==go?sx(e,r,5,null,a,s,!0):e.utcFormat("%A, %d %B %Y, %X UTC"):e.timeFormat("%A, %d %B %Y, %X")}(e,r,a.format,a.formatType);if($8(r.type)){const f=ox(r).slice(1).map(l),d=f.length;return"".concat(d," boundar").concat(1===d?"y":"ies",": ").concat(f.join(", "))}if(z0(r.type)){const f=r.domain(),d=f.length,h=d>s?f.slice(0,s-2).map(l).join(", ")+", ending with "+f.slice(-1).map(l):f.map(l).join(", ");return"".concat(d," value").concat(1===d?"":"s",": ").concat(h)}{const f=r.domain();return"values from ".concat(l(f[0])," to ").concat(l((0,E.fj)(f)))}}let Z8=0;function bm(e){return e&&e.gradient}function X(e,r,a){const s=e.gradient;let l=e.id,f="radial"===s?"p_":"";return l||(l=e.id="gradient_"+Z8++,"radial"===s?(e.x1=$(e.x1,.5),e.y1=$(e.y1,.5),e.r1=$(e.r1,0),e.x2=$(e.x2,.5),e.y2=$(e.y2,.5),e.r2=$(e.r2,.5),f="p_"):(e.x1=$(e.x1,0),e.y1=$(e.y1,0),e.x2=$(e.x2,1),e.y2=$(e.y2,0))),r[l]=e,"url("+(a||"")+"#"+f+l+")"}function $(e,r){return null!=e?e:r}const Oz={basis:{curve:function(e){return new n1(e)}},"basis-closed":{curve:function(e){return new s9(e)}},"basis-open":{curve:function(e){return new Vr(e)}},bundle:{curve:jT,tension:"beta",value:.85},cardinal:{curve:Rb,tension:"tension",value:0},"cardinal-open":{curve:l9,tension:"tension",value:0},"cardinal-closed":{curve:Vb,tension:"tension",value:0},"catmull-rom":{curve:h9,tension:"alpha",value:.5},"catmull-rom-closed":{curve:qT,tension:"alpha",value:.5},"catmull-rom-open":{curve:Hb,tension:"alpha",value:.5},linear:{curve:r8},"linear-closed":{curve:function(e){return new p9(e)}},monotone:{horizontal:function(e){return new a8(e)},vertical:function(e){return new H6(e)}},natural:{curve:function(e){return new _9(e)}},step:{curve:function(e){return new v0(e,.5)}},"step-after":{curve:function(e){return new v0(e,1)}},"step-before":{curve:function(e){return new v0(e,0)}}};function lx(e,r,a){var s=(0,E.nr)(Oz,e)&&Oz[e],l=null;return s&&(l=s.curve||s[r||"vertical"],s.tension&&null!=a&&(l=l[s.tension](a))),l}const K8={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},h2=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/];function tu(e){const r=[];let a,s,l,f,d,h,p,v,_,y;const C=e.slice().replace(h2[0],"###$1").split(h2[1]).slice(1);for(p=0,_=C.length;p<_;++p){for(a=C[p],s=a.slice(1).trim().replace(h2[2],"$1###$2").replace(h2[3],"$1###$2").split(h2[4]),d=a.charAt(0),l=[d],v=0,y=s.length;v<y;++v)(f=+s[v])===f&&l.push(f);if(h=K8[d.toLowerCase()],l.length-1>h){const M=l.length;for(v=1,r.push([d].concat(l.slice(v,v+=h))),d="M"===d?"L":"m"===d?"l":d;v<M;v+=h)r.push([d].concat(l.slice(v,v+h)))}else r.push(l)}return r}const $n=Math.PI/180,m2=Math.PI/2,R1=2*Math.PI,Me=Math.sqrt(3)/2;var J8={},Cm={},xm=[].join;function Mm(e){const r=xm.call(e);if(Cm[r])return Cm[r];var a=e[0],s=e[1],l=e[2],f=e[3],d=e[4],h=e[5],p=e[6],v=e[7];const _=v*d,y=-p*h,C=p*d,M=v*h,w=Math.cos(l),S=Math.sin(l),A=Math.cos(f),T=Math.sin(f),N=.5*(f-l),I=Math.sin(.5*N),F=8/3*I*I/Math.sin(N),O=a+w-F*S,P=s+S+F*w,V=a+A,W=s+T,Y=V+F*T,q=W-F*A;return Cm[r]=[_*O+y*P,C*O+M*P,_*Y+y*q,C*Y+M*q,_*V+y*W,C*V+M*W]}const ze=["l",0,0,0,0,0,0,0];function Pz(e,r,a){const s=ze[0]=e[0];if("a"===s||"A"===s)ze[1]=r*e[1],ze[2]=a*e[2],ze[3]=e[3],ze[4]=e[4],ze[5]=e[5],ze[6]=r*e[6],ze[7]=a*e[7];else if("h"===s||"H"===s)ze[1]=r*e[1];else if("v"===s||"V"===s)ze[1]=a*e[1];else for(var l=1,f=e.length;l<f;++l)ze[l]=(l%2==1?r:a)*e[l];return ze}function Hi(e,r,a,s,l,f){var d,C,M,w,S,h=null,p=0,v=0,_=0,y=0;null==a&&(a=0),null==s&&(s=0),null==l&&(l=1),null==f&&(f=l),e.beginPath&&e.beginPath();for(var A=0,T=r.length;A<T;++A){switch(d=r[A],(1!==l||1!==f)&&(d=Pz(d,l,f)),d[0]){case"l":e.lineTo((p+=d[1])+a,(v+=d[2])+s);break;case"L":e.lineTo((p=d[1])+a,(v=d[2])+s);break;case"h":e.lineTo((p+=d[1])+a,v+s);break;case"H":e.lineTo((p=d[1])+a,v+s);break;case"v":e.lineTo(p+a,(v+=d[1])+s);break;case"V":e.lineTo(p+a,(v=d[1])+s);break;case"m":e.moveTo((p+=d[1])+a,(v+=d[2])+s);break;case"M":e.moveTo((p=d[1])+a,(v=d[2])+s);break;case"c":e.bezierCurveTo(p+d[1]+a,v+d[2]+s,(_=p+d[3])+a,(y=v+d[4])+s,(C=p+d[5])+a,(M=v+d[6])+s),p=C,v=M;break;case"C":e.bezierCurveTo(d[1]+a,d[2]+s,(_=d[3])+a,(y=d[4])+s,(p=d[5])+a,(v=d[6])+s);break;case"s":e.bezierCurveTo((_=2*p-_)+a,(y=2*v-y)+s,p+d[1]+a,v+d[2]+s,(C=p+d[3])+a,(M=v+d[4])+s),_=p+d[1],y=v+d[2],p=C,v=M;break;case"S":e.bezierCurveTo((_=2*p-_)+a,(y=2*v-y)+s,d[1]+a,d[2]+s,(C=d[3])+a,(M=d[4])+s),p=C,v=M,_=d[1],y=d[2];break;case"q":e.quadraticCurveTo((_=p+d[1])+a,(y=v+d[2])+s,(C=p+d[3])+a,(M=v+d[4])+s),p=C,v=M;break;case"Q":e.quadraticCurveTo(d[1]+a,d[2]+s,(C=d[3])+a,(M=d[4])+s),p=C,v=M,_=d[1],y=d[2];break;case"t":C=p+d[1],M=v+d[2],null===h[0].match(/[QqTt]/)?(_=p,y=v):"t"===h[0]?(_=2*p-w,y=2*v-S):"q"===h[0]&&(_=2*p-_,y=2*v-y),w=_,S=y,e.quadraticCurveTo(_+a,y+s,C+a,M+s),_=(p=C)+d[1],y=(v=M)+d[2];break;case"T":e.quadraticCurveTo((_=2*p-_)+a,(y=2*v-y)+s,(C=d[1])+a,(M=d[2])+s),p=C,v=M;break;case"a":rn(e,p+a,v+s,[d[1],d[2],d[3],d[4],d[5],d[6]+p+a,d[7]+v+s]),p+=d[6],v+=d[7];break;case"A":rn(e,p+a,v+s,[d[1],d[2],d[3],d[4],d[5],d[6]+a,d[7]+s]),p=d[6],v=d[7];break;case"z":case"Z":e.closePath()}h=d}}function rn(e,r,a,s){const l=function(e,r,a,s,l,f,d,h,p){const v=xm.call(arguments);if(J8[v])return J8[v];const _=d*$n,y=Math.sin(_),C=Math.cos(_),M=C*(h-e)*.5+y*(p-r)*.5,w=C*(p-r)*.5-y*(h-e)*.5;let S=M*M/((a=Math.abs(a))*a)+w*w/((s=Math.abs(s))*s);S>1&&(S=Math.sqrt(S),a*=S,s*=S);const A=C/a,T=y/a,N=-y/s,I=C/s,F=A*h+T*p,O=N*h+I*p,P=A*e+T*r,V=N*e+I*r;let Y=1/((P-F)*(P-F)+(V-O)*(V-O))-.25;Y<0&&(Y=0);let q=Math.sqrt(Y);f==l&&(q=-q);const G=.5*(F+P)-q*(V-O),re=.5*(O+V)+q*(P-F),ie=Math.atan2(O-re,F-G);let J=Math.atan2(V-re,P-G)-ie;J<0&&1===f?J+=R1:J>0&&0===f&&(J-=R1);const ue=Math.ceil(Math.abs(J/(m2+.001))),ye=[];for(let De=0;De<ue;++De)ye[De]=[G,re,ie+De*J/ue,ie+(De+1)*J/ue,a,s,y,C];return J8[v]=ye}(s[5],s[6],s[0],s[1],s[3],s[4],s[2],r,a);for(let f=0;f<l.length;++f){const d=Mm(l[f]);e.bezierCurveTo(d[0],d[1],d[2],d[3],d[4],d[5])}}const Ja=.5773502691896257,Hc={circle:{draw:function(e,r){const a=Math.sqrt(r)/2;e.moveTo(a,0),e.arc(0,0,a,0,R1)}},cross:{draw:function(e,r){var a=Math.sqrt(r)/2,s=a/2.5;e.moveTo(-a,-s),e.lineTo(-a,s),e.lineTo(-s,s),e.lineTo(-s,a),e.lineTo(s,a),e.lineTo(s,s),e.lineTo(a,s),e.lineTo(a,-s),e.lineTo(s,-s),e.lineTo(s,-a),e.lineTo(-s,-a),e.lineTo(-s,-s),e.closePath()}},diamond:{draw:function(e,r){const a=Math.sqrt(r)/2;e.moveTo(-a,0),e.lineTo(0,-a),e.lineTo(a,0),e.lineTo(0,a),e.closePath()}},square:{draw:function(e,r){var a=Math.sqrt(r),s=-a/2;e.rect(s,s,a,a)}},arrow:{draw:function(e,r){var a=Math.sqrt(r)/2,s=a/7,l=a/2.5,f=a/8;e.moveTo(-s,a),e.lineTo(s,a),e.lineTo(s,-f),e.lineTo(l,-f),e.lineTo(0,-a),e.lineTo(-l,-f),e.lineTo(-s,-f),e.closePath()}},wedge:{draw:function(e,r){var a=Math.sqrt(r)/2,s=Me*a,l=s-a*Ja,f=a/4;e.moveTo(0,-s-l),e.lineTo(-f,s-l),e.lineTo(f,s-l),e.closePath()}},triangle:{draw:function(e,r){var a=Math.sqrt(r)/2,s=Me*a,l=s-a*Ja;e.moveTo(0,-s-l),e.lineTo(-a,s-l),e.lineTo(a,s-l),e.closePath()}},"triangle-up":{draw:function(e,r){var a=Math.sqrt(r)/2,s=Me*a;e.moveTo(0,-s),e.lineTo(-a,s),e.lineTo(a,s),e.closePath()}},"triangle-down":{draw:function(e,r){var a=Math.sqrt(r)/2,s=Me*a;e.moveTo(0,s),e.lineTo(-a,-s),e.lineTo(a,-s),e.closePath()}},"triangle-right":{draw:function(e,r){var a=Math.sqrt(r)/2,s=Me*a;e.moveTo(s,0),e.lineTo(-s,-a),e.lineTo(-s,a),e.closePath()}},"triangle-left":{draw:function(e,r){var a=Math.sqrt(r)/2,s=Me*a;e.moveTo(-s,0),e.lineTo(s,-a),e.lineTo(s,a),e.closePath()}},stroke:{draw:function(e,r){const a=Math.sqrt(r)/2;e.moveTo(-a,0),e.lineTo(a,0)}}};var ed={};const es=.448084975506;function hx(e){return e.x}function mx(e){return e.y}function px(e){return e.width}function gx(e){return e.height}function p2(e){return"function"==typeof e?e:()=>+e}function td(e,r,a){return Math.max(r,Math.min(e,a))}function nu(e,r){return null!=e?e:r}const bn=e=>e.x||0,L0=e=>e.y||0,nd=e=>!1!==e.defined,fa=function(){var e=$b,r=ZT,a=qt(0),s=null,l=KT,f=uo,d=QT,h=null;function p(){var v,_,y=+e.apply(this,arguments),C=+r.apply(this,arguments),M=l.apply(this,arguments)-i8,w=f.apply(this,arguments)-i8,S=UT(w-M),A=w>M;if(h||(h=v=kc()),C<y&&(_=C,C=y,y=_),C>Vi)if(S>V6-Vi)h.moveTo(C*qa(M),C*N1(M)),h.arc(0,0,C,M,w,!A),y>Vi&&(h.moveTo(y*qa(w),y*N1(w)),h.arc(0,0,y,w,M,A));else{var re,ie,T=M,N=w,I=M,F=w,O=S,P=S,V=d.apply(this,arguments)/2,W=V>Vi&&(s?+s.apply(this,arguments):g0(y*y+C*C)),Y=u9(UT(C-y)/2,+a.apply(this,arguments)),q=Y,G=Y;if(W>Vi){var fe=f9(W/y*N1(V)),J=f9(W/C*N1(V));(O-=2*fe)>Vi?(I+=fe*=A?1:-1,F-=fe):(O=0,I=F=(M+w)/2),(P-=2*J)>Vi?(T+=J*=A?1:-1,N-=J):(P=0,T=N=(M+w)/2)}var ue=C*qa(T),ye=C*N1(T),De=y*qa(F),$e=y*N1(F);if(Y>Vi){var Zi,xt=C*qa(N),hn=C*N1(N),vn=y*qa(I),Er=y*N1(I);if(S<Js&&(Zi=qb(ue,ye,vn,Er,xt,hn,De,$e))){var Y1=ue-Zi[0],R3=ye-Zi[1],V3=xt-Zi[0],O3=hn-Zi[1],Se=1/N1($T((Y1*V3+R3*O3)/(g0(Y1*Y1+R3*R3)*g0(V3*V3+O3*O3)))/2),bt=g0(Zi[0]*Zi[0]+Zi[1]*Zi[1]);q=u9(Y,(y-bt)/(Se-1)),G=u9(Y,(C-bt)/(Se+1))}}P>Vi?G>Vi?(re=f8(vn,Er,ue,ye,C,G,A),ie=f8(xt,hn,De,$e,C,G,A),h.moveTo(re.cx+re.x01,re.cy+re.y01),G<Y?h.arc(re.cx,re.cy,G,Vn(re.y01,re.x01),Vn(ie.y01,ie.x01),!A):(h.arc(re.cx,re.cy,G,Vn(re.y01,re.x01),Vn(re.y11,re.x11),!A),h.arc(0,0,C,Vn(re.cy+re.y11,re.cx+re.x11),Vn(ie.cy+ie.y11,ie.cx+ie.x11),!A),h.arc(ie.cx,ie.cy,G,Vn(ie.y11,ie.x11),Vn(ie.y01,ie.x01),!A))):(h.moveTo(ue,ye),h.arc(0,0,C,T,N,!A)):h.moveTo(ue,ye),y>Vi&&O>Vi?q>Vi?(re=f8(De,$e,xt,hn,y,-q,A),ie=f8(ue,ye,vn,Er,y,-q,A),h.lineTo(re.cx+re.x01,re.cy+re.y01),q<Y?h.arc(re.cx,re.cy,q,Vn(re.y01,re.x01),Vn(ie.y01,ie.x01),!A):(h.arc(re.cx,re.cy,q,Vn(re.y01,re.x01),Vn(re.y11,re.x11),!A),h.arc(0,0,y,Vn(re.cy+re.y11,re.cx+re.x11),Vn(ie.cy+ie.y11,ie.cx+ie.x11),A),h.arc(ie.cx,ie.cy,q,Vn(ie.y11,ie.x11),Vn(ie.y01,ie.x01),!A))):h.arc(0,0,y,F,I,A):h.lineTo(De,$e)}else h.moveTo(0,0);if(h.closePath(),v)return h=null,v+""||null}return p.centroid=function(){var v=(+e.apply(this,arguments)+ +r.apply(this,arguments))/2,_=(+l.apply(this,arguments)+ +f.apply(this,arguments))/2-Js/2;return[qa(_)*v,N1(_)*v]},p.innerRadius=function(v){return arguments.length?(e="function"==typeof v?v:qt(+v),p):e},p.outerRadius=function(v){return arguments.length?(r="function"==typeof v?v:qt(+v),p):r},p.cornerRadius=function(v){return arguments.length?(a="function"==typeof v?v:qt(+v),p):a},p.padRadius=function(v){return arguments.length?(s=null==v?null:"function"==typeof v?v:qt(+v),p):s},p.startAngle=function(v){return arguments.length?(l="function"==typeof v?v:qt(+v),p):l},p.endAngle=function(v){return arguments.length?(f="function"==typeof v?v:qt(+v),p):f},p.padAngle=function(v){return arguments.length?(d="function"==typeof v?v:qt(+v),p):d},p.context=function(v){return arguments.length?(h=null==v?null:v,p):h},p}().startAngle(e=>e.startAngle||0).endAngle(e=>e.endAngle||0).padAngle(e=>e.padAngle||0).innerRadius(e=>e.innerRadius||0).outerRadius(e=>e.outerRadius||0).cornerRadius(e=>e.cornerRadius||0),vo=Yb().x(bn).y1(L0).y0(e=>(e.y||0)+(e.height||0)).defined(nd),_o=Yb().y(L0).x1(bn).x0(e=>(e.x||0)+(e.width||0)).defined(nd),Mx=Xb().x(bn).y(L0).defined(nd),wx=function(){var e=hx,r=mx,a=px,s=gx,l=p2(0),f=l,d=l,h=l,p=null;function v(_,y,C){var M,w=null!=y?y:+e.call(this,_),S=null!=C?C:+r.call(this,_),A=+a.call(this,_),T=+s.call(this,_),N=Math.min(A,T)/2,I=td(+l.call(this,_),0,N),F=td(+f.call(this,_),0,N),O=td(+d.call(this,_),0,N),P=td(+h.call(this,_),0,N);if(p||(p=M=kc()),I<=0&&F<=0&&O<=0&&P<=0)p.rect(w,S,A,T);else{var V=w+A,W=S+T;p.moveTo(w+I,S),p.lineTo(V-F,S),p.bezierCurveTo(V-es*F,S,V,S+es*F,V,S+F),p.lineTo(V,W-P),p.bezierCurveTo(V,W-es*P,V-es*P,W,V-P,W),p.lineTo(w+O,W),p.bezierCurveTo(w+es*O,W,w,W-es*O,w,W-O),p.lineTo(w,S+I),p.bezierCurveTo(w,S+es*I,w+es*I,S,w+I,S),p.closePath()}if(M)return p=null,M+""||null}return v.x=function(_){return arguments.length?(e=p2(_),v):e},v.y=function(_){return arguments.length?(r=p2(_),v):r},v.width=function(_){return arguments.length?(a=p2(_),v):a},v.height=function(_){return arguments.length?(s=p2(_),v):s},v.cornerRadius=function(_,y,C,M){return arguments.length?(l=p2(_),f=null!=y?p2(y):l,h=null!=C?p2(C):l,d=null!=M?p2(M):f,v):l},v.context=function(_){return arguments.length?(p=null==_?null:_,v):p},v}().x(bn).y(L0).width(e=>e.width||0).height(e=>e.height||0).cornerRadius(e=>nu(e.cornerRadiusTopLeft,e.cornerRadius)||0,e=>nu(e.cornerRadiusTopRight,e.cornerRadius)||0,e=>nu(e.cornerRadiusBottomRight,e.cornerRadius)||0,e=>nu(e.cornerRadiusBottomLeft,e.cornerRadius)||0),Xz=function(e,r){var a=null;function s(){var l;if(a||(a=l=kc()),e.apply(this,arguments).draw(a,+r.apply(this,arguments)),l)return a=null,l+""||null}return e="function"==typeof e?e:qt(e||nt),r="function"==typeof r?r:qt(void 0===r?64:+r),s.type=function(l){return arguments.length?(e="function"==typeof l?l:qt(l),s):e},s.size=function(l){return arguments.length?(r="function"==typeof l?l:qt(+l),s):r},s.context=function(l){return arguments.length?(a=null==l?null:l,s):a},s}().type(e=>function(e){return(0,E.nr)(Hc,e)?Hc[e]:function(e){if(!(0,E.nr)(ed,e)){const r=tu(e);ed[e]={draw:function(a,s){Hi(a,r,0,0,Math.sqrt(s)/2)}}}return ed[e]}(e)}(e.shape||"circle")).size(e=>nu(e.size,64)),Yz=function(){var e,r,a,s,f,d,h,p,l=null;function v(y,C,M){const w=M/2;if(f){var S=h-C,A=y-d;if(S||A){var T=Math.sqrt(S*S+A*A),N=(S/=T)*p,I=(A/=T)*p,F=Math.atan2(A,S);l.moveTo(d-N,h-I),l.lineTo(y-S*w,C-A*w),l.arc(y,C,w,F-Math.PI,F),l.lineTo(d+N,h+I),l.arc(d,h,p,F,F+Math.PI)}else l.arc(y,C,w,0,R1);l.closePath()}else f=1;d=y,h=C,p=w}function _(y){var C,w,A,M=y.length,S=!1;for(null==l&&(l=A=kc()),C=0;C<=M;++C)!(C<M&&s(w=y[C],C,y))===S&&(S=!S)&&(f=0),S&&v(+e(w,C,y),+r(w,C,y),+a(w,C,y));if(A)return l=null,A+""||null}return _.x=function(y){return arguments.length?(e=y,_):e},_.y=function(y){return arguments.length?(r=y,_):r},_.size=function(y){return arguments.length?(a=y,_):a},_.defined=function(y){return arguments.length?(s=y,_):s},_.context=function(y){return arguments.length?(l=null==y?null:y,_):l},_}().x(bn).y(L0).defined(nd).size(e=>e.size||1);function wm(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function R0(e,r,a,s){return wx.context(e)(r,a,s)}var Dm=1;function Sm(e,r,a){var s=r.clip,l=e._defs,f=r.clip_id||(r.clip_id="clip"+Dm++),d=l.clipping[f]||(l.clipping[f]={id:f});return(0,E.mf)(s)?d.path=s(null):wm(a)?d.path=R0(null,a,0,0):(d.width=a.width||0,d.height=a.height||0),"url(#"+f+")"}function Qn(e){this.clear(),e&&this.union(e)}function je(e){this.mark=e,this.bounds=this.bounds||new Qn}function V1(e){je.call(this,e),this.items=this.items||[]}function mr(e){this._pending=0,this._loader=e||Kl()}function Am(e){e._pending+=1}function V0(e){e._pending-=1}function ts(e,r,a){if(r.stroke&&0!==r.opacity&&0!==r.strokeOpacity){const s=null!=r.strokeWidth?+r.strokeWidth:1;e.expand(s+(a?function(e,r){return e.strokeJoin&&"miter"!==e.strokeJoin?0:r}(r,s):0))}return e}Qn.prototype={clone(){return new Qn(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,r,a,s){return a<e?(this.x2=e,this.x1=a):(this.x1=e,this.x2=a),s<r?(this.y2=r,this.y1=s):(this.y1=r,this.y2=s),this},add(e,r){return e<this.x1&&(this.x1=e),r<this.y1&&(this.y1=r),e>this.x2&&(this.x2=e),r>this.y2&&(this.y2=r),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,r){return this.x1+=e,this.x2+=e,this.y1+=r,this.y2+=r,this},rotate(e,r,a){const s=this.rotatedPoints(e,r,a);return this.clear().add(s[0],s[1]).add(s[2],s[3]).add(s[4],s[5]).add(s[6],s[7])},rotatedPoints(e,r,a){var{x1:s,y1:l,x2:f,y2:d}=this,h=Math.cos(e),p=Math.sin(e),v=r-r*h+a*p,_=a-r*p-a*h;return[h*s-p*l+v,p*s+h*l+_,h*s-p*d+v,p*s+h*d+_,h*f-p*l+v,p*f+h*l+_,h*f-p*d+v,p*f+h*d+_]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,r){return!(e<this.x1||e>this.x2||r<this.y1||r>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}},(0,E.XW)(V1,je),mr.prototype={pending(){return this._pending},sanitizeURL(e){const r=this;return Am(r),r._loader.sanitize(e,{context:"href"}).then(a=>(V0(r),a)).catch(()=>(V0(r),null))},loadImage(e){const r=this,a="undefined"!=typeof Image?Image:null;return Am(r),r._loader.sanitize(e,{context:"image"}).then(s=>{const l=s.href;if(!l||!a)throw{url:l};const f=new a,d=(0,E.nr)(s,"crossOrigin")?s.crossOrigin:"anonymous";return null!=d&&(f.crossOrigin=d),f.onload=()=>V0(r),f.onerror=()=>V0(r),f.src=l,f}).catch(s=>(V0(r),{complete:!1,width:0,height:0,src:s&&s.url||""}))},ready(){const e=this;return new Promise(r=>{!function a(s){e.pending()?setTimeout(()=>{a(!0)},10):r(s)}(!1)})}};const Ax=R1-1e-8;let ru,ou,au,g2,km,rd,Tm,zm;const v2=(e,r)=>ru.add(e,r),od=(e,r)=>v2(ou=e,au=r),kx=e=>v2(e,ru.y1),Tx=e=>v2(ru.x1,e),Bc=(e,r)=>km*e+Tm*r,jc=(e,r)=>rd*e+zm*r,Nm=(e,r)=>v2(Bc(e,r),jc(e,r)),Im=(e,r)=>od(Bc(e,r),jc(e,r));function ad(e,r){return ru=e,r?(g2=r*$n,km=zm=Math.cos(g2),rd=Math.sin(g2),Tm=-rd):(km=zm=1,g2=rd=Tm=0),Qz}const Qz={beginPath(){},closePath(){},moveTo:Im,lineTo:Im,rect(e,r,a,s){g2?(Nm(e+a,r),Nm(e+a,r+s),Nm(e,r+s),Im(e,r)):(v2(e+a,r+s),od(e,r))},quadraticCurveTo(e,r,a,s){const l=Bc(e,r),f=jc(e,r),d=Bc(a,s),h=jc(a,s);zx(ou,l,d,kx),zx(au,f,h,Tx),od(d,h)},bezierCurveTo(e,r,a,s,l,f){const d=Bc(e,r),h=jc(e,r),p=Bc(a,s),v=jc(a,s),_=Bc(l,f),y=jc(l,f);Nx(ou,d,p,_,kx),Nx(au,h,v,y,Tx),od(_,y)},arc(e,r,a,s,l,f){if(s+=g2,l+=g2,ou=a*Math.cos(l)+e,au=a*Math.sin(l)+r,Math.abs(l-s)>Ax)v2(e-a,r-a),v2(e+a,r+a);else{const d=v=>v2(a*Math.cos(v)+e,a*Math.sin(v)+r);let h,p;if(d(s),d(l),l!==s)if((s%=R1)<0&&(s+=R1),(l%=R1)<0&&(l+=R1),l<s&&(f=!f,h=s,s=l,l=h),f)for(l-=R1,h=s-s%m2,p=0;p<4&&h>l;++p,h-=m2)d(h);else for(h=s-s%m2+m2,p=0;p<4&&h<l;++p,h+=m2)d(h)}}};function zx(e,r,a,s){const l=(e-r)/(e+a-2*r);0<l&&l<1&&s(e+(r-e)*l)}function Nx(e,r,a,s,l){const f=s-e+3*r-3*a,d=e+a-2*r,h=e-r;let _,p=0,v=0;Math.abs(f)>1e-14?(_=d*d+h*f,_>=0&&(_=Math.sqrt(_),p=(-d+_)/f,v=(-d-_)/f)):p=.5*h/d,0<p&&p<1&&l(Ix(p,e,r,a,s)),0<v&&v<1&&l(Ix(v,e,r,a,s))}function Ix(e,r,a,s,l){const f=1-e,d=f*f,h=e*e;return d*f*r+3*d*e*a+3*f*h*s+h*e*l}var ns=(ns=n2(1,1))?ns.getContext("2d"):null;const sd=new Qn;function Lm(e){return function(r,a){if(!ns)return!0;e(ns,r),sd.clear().union(r.bounds).intersect(a).round();const{x1:s,y1:l,x2:f,y2:d}=sd;for(let h=l;h<=d;++h)for(let p=s;p<=f;++p)if(ns.isPointInPath(p,h))return!0;return!1}}function Fm(e,r){return r.contains(e.x||0,e.y||0)}function Rm(e,r){const a=e.x||0,s=e.y||0;return r.intersects(sd.set(a,s,a+(e.width||0),s+(e.height||0)))}function O0(e,r,a,s,l){const{x1:f,y1:d,x2:h,y2:p}=e,v=s-r,_=l-a;let M,w,S,A,y=0,C=1;for(A=0;A<4;++A){if(0===A&&(M=-v,w=-(f-r)),1===A&&(M=v,w=h-r),2===A&&(M=-_,w=-(d-a)),3===A&&(M=_,w=p-a),Math.abs(M)<1e-10&&w<0)return!1;if(S=w/M,M<0){if(S>C)return!1;S>y&&(y=S)}else if(M>0){if(S<y)return!1;S<C&&(C=S)}}return!0}function Uc(e,r){e.globalCompositeOperation=r.blend||"source-over"}function O1(e,r){return null==e?r:e}function _2(e,r){const a=r.length;for(let s=0;s<a;++s)e.addColorStop(r[s].offset,r[s].color);return e}function y2(e,r,a){return bm(a)?function(e,r,a){const s=a.width(),l=a.height();let f;if("radial"===r.gradient)f=e.createRadialGradient(a.x1+O1(r.x1,.5)*s,a.y1+O1(r.y1,.5)*l,Math.max(s,l)*O1(r.r1,0),a.x1+O1(r.x2,.5)*s,a.y1+O1(r.y2,.5)*l,Math.max(s,l)*O1(r.r2,.5));else{const d=O1(r.x1,0),h=O1(r.y1,0),p=O1(r.x2,1),v=O1(r.y2,0);if(d!==p&&h!==v&&s!==l){const _=n2(Math.ceil(s),Math.ceil(l)),y=_.getContext("2d");return y.scale(s,l),y.fillStyle=_2(y.createLinearGradient(d,h,p,v),r.stops),y.fillRect(0,0,s,l),e.createPattern(_,"no-repeat")}f=e.createLinearGradient(a.x1+d*s,a.y1+h*l,a.x1+p*s,a.y1+v*l)}return _2(f,r.stops)}(e,a,r.bounds):a}function cd(e,r,a){return(a*=null==r.fillOpacity?1:r.fillOpacity)>0&&(e.globalAlpha=a,e.fillStyle=y2(e,r,r.fill),!0)}var Jz=[];function yo(e,r,a){var s=null!=(s=r.strokeWidth)?s:1;return!(s<=0)&&(a*=null==r.strokeOpacity?1:r.strokeOpacity)>0&&(e.globalAlpha=a,e.strokeStyle=y2(e,r,r.stroke),e.lineWidth=s,e.lineCap=r.strokeCap||"butt",e.lineJoin=r.strokeJoin||"miter",e.miterLimit=r.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(r.strokeDash||Jz),e.lineDashOffset=r.strokeDashOffset||0),!0)}function Z$(e,r){return e.zindex-r.zindex||e.index-r.index}function Bi(e){if(!e.zdirty)return e.zitems;var s,l,f,r=e.items,a=[];for(l=0,f=r.length;l<f;++l)(s=r[l]).index=l,s.zindex&&a.push(s);return e.zdirty=!1,e.zitems=a.sort(Z$)}function is(e,r){var s,l,a=e.items;if(!a||!a.length)return;const f=Bi(e);if(f&&f.length){for(s=0,l=a.length;s<l;++s)a[s].zindex||r(a[s]);a=f}for(s=0,l=a.length;s<l;++s)r(a[s])}function ld(e,r){var s,l,a=e.items;if(!a||!a.length)return null;const f=Bi(e);for(f&&f.length&&(a=f),l=a.length;--l>=0;)if(s=r(a[l]))return s;if(a===f)for(l=(a=e.items).length;--l>=0;)if(!a[l].zindex&&(s=r(a[l])))return s;return null}function ud(e){return function(r,a,s){is(a,l=>{(!s||s.intersects(l.bounds))&&we(e,r,l,l)})}}function K$(e){return function(r,a,s){a.items.length&&(!s||s.intersects(a.bounds))&&we(e,r,a.items[0],a.items)}}function we(e,r,a,s){var l=null==a.opacity?1:a.opacity;0!==l&&(e(r,s)||(Uc(r,a),a.fill&&cd(r,a,l)&&r.fill(),a.stroke&&yo(r,a,l)&&r.stroke()))}function fd(e){return e=e||E.yb,function(r,a,s,l,f,d){return s*=r.pixelRatio,l*=r.pixelRatio,ld(a,h=>{const p=h.bounds;if((!p||p.contains(f,d))&&p&&e(r,h,s,l,f,d))return h})}}function su(e,r){return function(a,s,l,f){var v,_,d=Array.isArray(s)?s[0]:s,h=null==r?d.fill:r,p=d.stroke&&a.isPointInStroke;return p&&(_=d.strokeCap,a.lineWidth=null!=(v=d.strokeWidth)?v:1,a.lineCap=null!=_?_:"butt"),!e(a,s)&&(h&&a.isPointInPath(l,f)||p&&a.isPointInStroke(l,f))}}function Vm(e){return fd(su(e))}function da(e,r){return"translate("+e+","+r+")"}function Om(e){return"rotate("+e+")"}function cu(e){return da(e.x||0,e.y||0)}function hd(e,r,a){function f(d,h){var p=h.x||0,v=h.y||0,_=h.angle||0;d.translate(p,v),_&&d.rotate(_*=$n),d.beginPath(),r(d,h),_&&d.rotate(-_),d.translate(-p,-v)}return{type:e,tag:"path",nested:!1,attr:function(d,h){d("transform",function(e){return da(e.x||0,e.y||0)+(e.angle?" "+Om(e.angle):"")}(h)),d("d",r(null,h))},bound:function(d,h){return r(ad(d,h.angle),h),ts(d,h).translate(h.x||0,h.y||0)},draw:ud(f),pick:Vm(f),isect:a||Lm(f)}}var eN=hd("arc",function(e,r){return fa.context(e)(r)});function md(e,r,a){function f(p,v){p.beginPath(),r(p,v)}const d=su(f);return{type:e,tag:"path",nested:!0,attr:function(p,v){var _=v.mark.items;_.length&&p("d",r(null,_))},bound:function(p,v){var _=v.items;return 0===_.length?p:(r(ad(p),_),ts(p,_[0]))},draw:K$(f),pick:function(p,v,_,y,C,M){var w=v.items,S=v.bounds;return!w||!w.length||S&&!S.contains(C,M)?null:d(p,w,_*=p.pixelRatio,y*=p.pixelRatio)?w[0]:null},isect:Fm,tip:a}}var Ox=md("area",function(e,r){const a=r[0];return("horizontal"===a.orient?_o:vo).curve(lx(a.interpolate||"linear",a.orient,a.tension)).context(e)(r)},function(e,r){for(var d,h,a="horizontal"===e[0].orient?r[1]:r[0],s="horizontal"===e[0].orient?"y":"x",l=e.length,f=1/0;--l>=0;)!1!==e[l].defined&&(h=Math.abs(e[l][s]-a))<f&&(f=h,d=e[l]);return d});function Px(e,r){e.beginPath(),wm(r)?R0(e,r,0,0):e.rect(0,0,r.width||0,r.height||0),e.clip()}function Hx(e){const r=O1(e.strokeWidth,1);return null!=e.strokeOffset?e.strokeOffset:e.stroke&&r>.5&&r<1.5?.5-Math.abs(r-1):0}function Bx(e,r){const a=Hx(r);e("d",R0(null,r,a,a))}function P0(e,r,a,s){const l=Hx(r);e.beginPath(),R0(e,r,(a||0)+l,(s||0)+l)}const Ux=su(P0),oN=su(P0,!1),uu=su(P0,!0);var cN={type:"group",tag:"g",nested:!1,attr:function(e,r){e("transform",cu(r))},bound:function(e,r){if(!r.clip&&r.items){const a=r.items,s=a.length;for(let l=0;l<s;++l)e.union(a[l].bounds)}return(r.clip||r.width||r.height)&&!r.noBound&&e.add(0,0).add(r.width||0,r.height||0),ts(e,r),e.translate(r.x||0,r.y||0)},draw:function(e,r,a){is(r,s=>{const l=s.x||0,f=s.y||0,d=s.strokeForeground,h=null==s.opacity?1:s.opacity;(s.stroke||s.fill)&&h&&(P0(e,s,l,f),Uc(e,s),s.fill&&cd(e,s,h)&&e.fill(),s.stroke&&!d&&yo(e,s,h)&&e.stroke()),e.save(),e.translate(l,f),s.clip&&Px(e,s),a&&a.translate(-l,-f),is(s,p=>{this.draw(e,p,a)}),a&&a.translate(l,f),e.restore(),d&&s.stroke&&h&&(P0(e,s,l,f),Uc(e,s),yo(e,s,h)&&e.stroke())})},pick:function(e,r,a,s,l,f){if(r.bounds&&!r.bounds.contains(l,f)||!r.items)return null;const d=a*e.pixelRatio,h=s*e.pixelRatio;return ld(r,p=>{let v,_,y;const C=p.bounds;if(C&&!C.contains(l,f))return;_=p.x||0,y=p.y||0;const S=p.clip;if(S&&(l<_||l>_+(p.width||0)||f<y||f>y+(p.height||0)))return;if(e.save(),e.translate(_,y),_=l-_,y=f-y,S&&wm(p)&&!uu(e,p,d,h))return e.restore(),null;const A=p.strokeForeground,T=!1!==r.interactive;return T&&A&&p.stroke&&oN(e,p,d,h)?(e.restore(),p):(v=ld(p,N=>function(e,r,a){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(r,a)}(N,_,y)?this.pick(N,a,s,_,y):null),!v&&T&&(p.fill||!A&&p.stroke)&&Ux(e,p,d,h)&&(v=p),e.restore(),v||null)})},isect:Rm,content:function(e,r,a){e("clip-path",r.clip?Sm(a,r,r):null)},background:function(e,r){e("class","background"),e("aria-hidden",!0),Bx(e,r)},foreground:function(e,r){e("class","foreground"),e("aria-hidden",!0),r.strokeForeground?Bx(e,r):e("d","")}},H0={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function gd(e,r){var a=e.image;return(!a||e.url&&e.url!==a.url)&&(a={complete:!1,width:0,height:0},r.loadImage(e.url).then(s=>{e.image=s,e.image.url=e.url})),a}function vd(e,r){return null!=e.width?e.width:r&&r.width?!1!==e.aspect&&e.height?e.height*r.width/r.height:r.width:0}function Pm(e,r){return null!=e.height?e.height:r&&r.height?!1!==e.aspect&&e.width?e.width*r.height/r.width:r.height:0}function du(e,r){return"center"===e?r/2:"right"===e?r:0}function _d(e,r){return"middle"===e?r/2:"bottom"===e?r:0}var tq={type:"image",tag:"image",nested:!1,attr:function(e,r,a){const s=gd(r,a),l=vd(r,s),f=Pm(r,s),d=(r.x||0)-du(r.align,l),h=(r.y||0)-_d(r.baseline,f);e("href",!s.src&&s.toDataURL?s.toDataURL():s.src||"",H0["xmlns:xlink"],"xlink:href"),e("transform",da(d,h)),e("width",l),e("height",f),e("preserveAspectRatio",!1===r.aspect?"none":"xMidYMid")},bound:function(e,r){const a=r.image,s=vd(r,a),l=Pm(r,a),f=(r.x||0)-du(r.align,s),d=(r.y||0)-_d(r.baseline,l);return e.set(f,d,f+s,d+l)},draw:function(e,r,a){is(r,s=>{if(a&&!a.intersects(s.bounds))return;const l=gd(s,this);let f=vd(s,l),d=Pm(s,l);if(0===f||0===d)return;let v,_,y,C,h=(s.x||0)-du(s.align,f),p=(s.y||0)-_d(s.baseline,d);!1!==s.aspect&&(_=l.width/l.height,y=s.width/s.height,_==_&&y==y&&_!==y&&(y<_?(C=f/_,p+=(d-C)/2,d=C):(C=d*_,h+=(f-C)/2,f=C))),(l.complete||l.toDataURL)&&(Uc(e,s),e.globalAlpha=null!=(v=s.opacity)?v:1,e.imageSmoothingEnabled=!1!==s.smooth,e.drawImage(l,h,p,f,d))})},pick:fd(),isect:E.yb,get:gd,xOffset:du,yOffset:_d},nq=md("line",function(e,r){const a=r[0];return Mx.curve(lx(a.interpolate||"linear",a.orient,a.tension)).context(e)(r)},function(e,r){for(var l,f,a=Math.pow(e[0].strokeWidth||1,2),s=e.length;--s>=0;)if(!1!==e[s].defined&&(l=e[s].x-r[0])*l+(f=e[s].y-r[1])*f<a)return e[s];return null});function $c(e,r){var a=r.path;if(null==a)return!0;var s=r.x||0,l=r.y||0,f=r.scaleX||1,d=r.scaleY||1,h=(r.angle||0)*$n,p=r.pathCache;(!p||p.path!==a)&&((r.pathCache=p=tu(a)).path=a),h&&e.rotate&&e.translate?(e.translate(s,l),e.rotate(h),Hi(e,p,0,0,f,d),e.rotate(-h),e.translate(-s,-l)):Hi(e,p,s,l,f,d)}var fN={type:"path",tag:"path",nested:!1,attr:function(e,r){(1!==(r.scaleX||1)||1!==(r.scaleY||1))&&e("vector-effect","non-scaling-stroke"),e("transform",function(e){return da(e.x||0,e.y||0)+(e.angle?" "+Om(e.angle):"")+(e.scaleX||e.scaleY?" "+function(e,r){return"scale("+e+","+r+")"}(e.scaleX||1,e.scaleY||1):"")}(r)),e("d",r.path)},bound:function(e,r){return $c(ad(e,r.angle),r)?e.set(0,0,0,0):ts(e,r,!0)},draw:ud($c),pick:Vm($c),isect:Lm($c)};function Wx(e,r){e.beginPath(),R0(e,r)}var dN={type:"rect",tag:"path",nested:!1,attr:function(e,r){e("d",R0(null,r))},bound:function(e,r){var a,s;return ts(e.set(a=r.x||0,s=r.y||0,a+r.width||0,s+r.height||0),r)},draw:ud(Wx),pick:Vm(Wx),isect:Rm};function Gx(e,r,a){var s,l,f,d;return!(!r.stroke||!yo(e,r,a)||(s=r.x||0,l=r.y||0,f=null!=r.x2?r.x2:s,d=null!=r.y2?r.y2:l,e.beginPath(),e.moveTo(s,l),e.lineTo(f,d),0))}var gN={type:"rule",tag:"line",nested:!1,attr:function(e,r){e("transform",cu(r)),e("x2",null!=r.x2?r.x2-(r.x||0):0),e("y2",null!=r.y2?r.y2-(r.y||0):0)},bound:function(e,r){var a,s;return ts(e.set(a=r.x||0,s=r.y||0,null!=r.x2?r.x2:a,null!=r.y2?r.y2:s),r)},draw:function(e,r,a){is(r,s=>{if(!a||a.intersects(s.bounds)){var l=null==s.opacity?1:s.opacity;l&&Gx(e,s,l)&&(Uc(e,s),e.stroke())}})},pick:fd(function(e,r,a,s){return!!e.isPointInStroke&&Gx(e,r,1)&&e.isPointInStroke(a,s)}),isect:function(e,r){const a=e.x||0,s=e.y||0;return O0(r,a,s,null!=e.x2?e.x2:a,null!=e.y2?e.y2:s)}},B0=hd("shape",function(e,r){return(r.mark.shape||r.shape).context(e)(r)}),vN=hd("symbol",function(e,r){return Xz.context(e)(r)},Fm);const Hm=(0,E.$m)();var rs={height:os,measureWidth:$m,estimateWidth:jm,width:jm,canvas:Bm};function Bm(e){rs.width=e&&ns?$m:jm}function jm(e,r){return Um(C2(e,r),os(e))}function Um(e,r){return~~(.8*e.length*r)}function $m(e,r){return os(e)<=0||!(r=C2(e,r))?0:yd(r,Wm(e))}function yd(e,r){const a=`(${r}) ${e}`;let s=Hm.get(a);return void 0===s&&(ns.font=r,s=ns.measureText(e).width,Hm.set(a,s)),s}function os(e){return null!=e.fontSize?+e.fontSize||0:11}function b2(e){return null!=e.lineHeight?e.lineHeight:os(e)+2}function mu(e){return function(e){return(0,E.kJ)(e)?e.length>1?e:e[0]:e}(e.lineBreak&&e.text&&!(0,E.kJ)(e.text)?e.text.split(e.lineBreak):e.text)}function Zx(e){const r=mu(e);return((0,E.kJ)(r)?r.length-1:0)*b2(e)}function C2(e,r){const a=null==r?"":(r+"").trim();return e.limit>0&&a.length?function(e,r){var a=+e.limit,s=function(e){if(rs.width===$m){const r=Wm(e);return a=>yd(a,r)}{const r=os(e);return a=>Um(a,r)}}(e);if(s(r)<a)return r;var p,l=e.ellipsis||"\u2026",f="rtl"===e.dir,d=0,h=r.length;if(a-=s(l),f){for(;d<h;)s(r.slice(p=d+h>>>1))>a?d=p+1:h=p;return l+r.slice(d)}for(;d<h;)s(r.slice(0,p=1+(d+h>>>1)))<a?d=p:h=p-1;return r.slice(0,d)+l}(e,a):a}function pu(e,r){var a=e.font;return(r&&a?String(a).replace(/"/g,"'"):a)||"sans-serif"}function Wm(e,r){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+os(e)+"px "+pu(e,r)}function Gm(e){var r=e.baseline,a=os(e);return Math.round("top"===r?.79*a:"middle"===r?.3*a:"bottom"===r?-.21*a:"line-top"===r?.29*a+.5*b2(e):"line-bottom"===r?.29*a-.5*b2(e):0)}Bm(!0);const yN={left:"start",center:"middle",right:"end"},gu=new Qn;function bd(e){var l,r=e.x||0,a=e.y||0,s=e.radius||0;return s&&(l=(e.theta||0)-m2,r+=s*Math.cos(l),a+=s*Math.sin(l)),gu.x1=r,gu.y1=a,gu}function Xm(e,r,a){var y,s=rs.height(r),l=r.align,f=bd(r),d=f.x1,h=f.y1,p=r.dx||0,v=(r.dy||0)+Gm(r)-Math.round(.8*s),_=mu(r);if((0,E.kJ)(_)?(s+=b2(r)*(_.length-1),y=_.reduce((C,M)=>Math.max(C,rs.width(r,M)),0)):y=rs.width(r,_),"center"===l?p-=y/2:"right"===l&&(p-=y),e.set(p+=d,v+=h,p+y,v+s),r.angle&&!a)e.rotate(r.angle*$n,d,h);else if(2===a)return e.rotatedPoints(r.angle*$n,d,h);return e}var xN={type:"text",tag:"text",nested:!1,attr:function(e,r){var p,a=r.dx||0,s=(r.dy||0)+Gm(r),l=bd(r),f=l.x1,d=l.y1,h=r.angle||0;e("text-anchor",yN[r.align]||"start"),h?(p=da(f,d)+" "+Om(h),(a||s)&&(p+=" "+da(a,s))):p=da(f+a,d+s),e("transform",p)},bound:Xm,draw:function(e,r,a){is(r,s=>{var f,d,h,p,v,_,y,l=null==s.opacity?1:s.opacity;if(!(a&&!a.intersects(s.bounds)||0===l||s.fontSize<=0||null==s.text||0===s.text.length)){if(e.font=Wm(s),e.textAlign=s.align||"left",d=(f=bd(s)).x1,h=f.y1,s.angle&&(e.save(),e.translate(d,h),e.rotate(s.angle*$n),d=h=0),d+=s.dx||0,h+=(s.dy||0)+Gm(s),_=mu(s),Uc(e,s),(0,E.kJ)(_))for(v=b2(s),p=0;p<_.length;++p)y=C2(s,_[p]),s.fill&&cd(e,s,l)&&e.fillText(y,d,h),s.stroke&&yo(e,s,l)&&e.strokeText(y,d,h),h+=v;else y=C2(s,_),s.fill&&cd(e,s,l)&&e.fillText(y,d,h),s.stroke&&yo(e,s,l)&&e.strokeText(y,d,h);s.angle&&e.restore()}})},pick:fd(function(e,r,a,s,l,f){if(r.fontSize<=0)return!1;if(!r.angle)return!0;var d=bd(r),h=d.x1,p=d.y1,v=Xm(gu,r,1),_=-r.angle*$n,y=Math.cos(_),C=Math.sin(_);return v.contains(y*l-C*f+(h-y*h+C*p),C*l+y*f+(p-C*h-y*p))}),isect:function(e,r){const a=Xm(gu,e,2);return O0(r,a[0],a[1],a[2],a[3])||O0(r,a[0],a[1],a[4],a[5])||O0(r,a[4],a[5],a[6],a[7])||O0(r,a[2],a[3],a[6],a[7])}},MN=md("trail",function(e,r){return Yz.context(e)(r)},function(e,r){for(var s,l,a=e.length;--a>=0;)if(!1!==e[a].defined&&(s=e[a].x-r[0])*s+(l=e[a].y-r[1])*l<(s=e[a].size||1)*s)return e[a];return null}),a1={arc:eN,area:Ox,group:cN,image:tq,line:nq,path:fN,rect:dN,rule:gN,shape:B0,symbol:vN,text:xN,trail:MN};function Jx(e,r,a){var s=a1[e.mark.marktype];return s.nested&&(e=e.mark),(r||s.bound)(e.bounds||(e.bounds=new Qn),e,a)}var eM={mark:null};const Ym=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function tM(e){return Cd("string"==typeof e?JSON.parse(e):e)}function Cd(e){var s,l,f,r=e.marktype,a=e.items;if(a)for(l=0,f=a.length;l<f;++l)a[l][s=r?"mark":"group"]=e,a[l].zindex&&(a[l][s].zdirty=!0),"group"===(r||s)&&Cd(a[l]);return r&&function(e,r,a){var h,p,v,_,s=a1[e.marktype],l=s.bound,f=e.items,d=f&&f.length;if(s.nested)return d?v=f[0]:(eM.mark=e,v=eM),_=Jx(v,l,a),r&&r.union(_)||_;if(r=r||e.bounds&&e.bounds.clear()||new Qn,d)for(h=0,p=f.length;h<p;++h)r.union(Jx(f[h],l,a));e.bounds=r}(e),e}function nM(e){arguments.length?this.root=tM(e):(this.root=iM({marktype:"group",name:"root",role:"frame"}),this.root.items=[new V1(this.root)])}function iM(e,r){const a={bounds:new Qn,clip:!!e.clip,group:r,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return null!=e.aria&&(a.aria=e.aria),e.description&&(a.description=e.description),a}function as(e,r,a){return!e&&"undefined"!=typeof document&&document.createElement&&(e=document),e?a?e.createElementNS(a,r):e.createElement(r):null}function rM(e,r){r=r.toLowerCase();for(var a=e.childNodes,s=0,l=a.length;s<l;++s)if(a[s].tagName.toLowerCase()===r)return a[s]}function Ye(e,r,a,s){var f,l=e.childNodes[r];return(!l||l.tagName.toLowerCase()!==a.toLowerCase())&&(f=l||null,l=as(e.ownerDocument,a,s),e.insertBefore(l,f)),l}function ha(e,r){for(var a=e.childNodes,s=a.length;s>r;)e.removeChild(a[--s]);return e}function Km(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function xd(e,r){const a=r.getBoundingClientRect();return[e.clientX-a.left-(r.clientLeft||0),e.clientY-a.top-(r.clientTop||0)]}function j0(e,r){this._active=null,this._handlers={},this._loader=e||Kl(),this._tooltip=r||EN}function EN(e,r,a,s){e.element().setAttribute("title",s||"")}function ji(e){this._el=null,this._bgcolor=null,this._loader=new mr(e)}nM.prototype={toJSON(e){return function(e,r){return JSON.stringify(e,Ym,r)}(this.root,e||0)},mark(e,r,a){const s=iM(e,r=r||this.root.items[0]);return r.items[a]=s,s.zindex&&(s.group.zdirty=!0),s}},j0.prototype={initialize(e,r,a){return this._el=e,this._obj=a||null,this.origin(r)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene(e){return arguments.length?(this._scene=e,this):this._scene},on(){},off(){},_handlerIndex(e,r,a){for(let s=e?e.length:0;--s>=0;)if(e[s].type===r&&(!a||e[s].handler===a))return s;return-1},handlers(e){const r=this._handlers,a=[];if(e)a.push(...r[this.eventName(e)]);else for(const s in r)a.push(...r[s]);return a},eventName(e){const r=e.indexOf(".");return r<0?e:e.slice(0,r)},handleHref(e,r,a){this._loader.sanitize(a,{context:"href"}).then(s=>{const l=new MouseEvent(e.type,e),f=as(null,"a");for(const d in s)f.setAttribute(d,s[d]);f.dispatchEvent(l)}).catch(()=>{})},handleTooltip(e,r,a){r&&null!=r.tooltip&&(r=function(e,r,a,s){var f,d,l=e&&e.mark;if(l&&(f=a1[l.marktype]).tip){for((d=xd(r,a))[0]-=s[0],d[1]-=s[1];e=e.mark.group;)d[0]-=e.x||0,d[1]-=e.y||0;e=f.tip(l.items,d)}return e}(r,e,this.canvas(),this._origin),this._tooltip.call(this._obj,this,e,r,a&&r&&r.tooltip||null))},getItemBoundingClientRect(e){const r=this.canvas();if(!r)return;const a=r.getBoundingClientRect(),s=this._origin,l=e.bounds,f=l.width(),d=l.height();let h=l.x1+s[0]+a.left,p=l.y1+s[1]+a.top;for(;e.mark&&(e=e.mark.group);)h+=e.x||0,p+=e.y||0;return{x:h,y:p,width:f,height:d,left:h,top:p,right:h+f,bottom:p+d}}},ji.prototype={initialize(e,r,a,s,l){return this._el=e,this.resize(r,a,s,l)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},resize(e,r,a,s){return this._width=e,this._height=r,this._origin=a||[0,0],this._scale=s||1,this},dirty(){},render(e){const r=this;return r._call=function(){r._render(e)},r._call(),r._call=null,r},_render(){},renderAsync(e){const r=this.render(e);return this._ready?this._ready.then(()=>r):Promise.resolve(r)},_load(e,r){var a=this,s=a._loader[e](r);if(!a._ready){const l=a._call;a._ready=a._loader.ready().then(f=>{f&&l(),a._ready=null})}return s},sanitizeURL(e){return this._load("sanitizeURL",e)},loadImage(e){return this._load("loadImage",e)}};const aM="dragenter",ss="dragleave",sM="dragover",cM="mousedown",mt="mousemove",U0="mouseout",SN="mouseover",ma="click",kN="mousewheel",wd="touchstart",Ed="touchmove",Dd="touchend",cs=mt,$0=U0,M2=ma;function qc(e,r){j0.call(this,e,r),this._down=null,this._touch=null,this._first=!0,this._events={}}function lM(e,r){(e=>e===wd||e===Ed||e===Dd?[wd,Ed,Dd]:[e])(r).forEach(a=>function(e,r){const a=e.canvas();a&&!e._events[r]&&(e._events[r]=1,a.addEventListener(r,e[r]?s=>e[r](s):s=>e.fire(r,s)))}(e,a))}function ep(e,r,a){return function(s){const l=this._active,f=this.pickEvent(s);f===l||((!l||!l.exit)&&this.fire(a,s),this._active=f,this.fire(r,s)),this.fire(e,s)}}function fM(e){return function(r){this.fire(e,r),this._active=null}}(0,E.XW)(qc,j0,{initialize(e,r,a){return this._canvas=e&&rM(e,"canvas"),[ma,cM,mt,U0,ss].forEach(s=>lM(this,s)),j0.prototype.initialize.call(this,e,r,a)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:["keydown","keypress","keyup",aM,ss,sM,cM,"mouseup",mt,U0,SN,ma,"dblclick","wheel",kN,wd,Ed,Dd],DOMMouseScroll(e){this.fire(kN,e)},mousemove:ep(mt,SN,U0),dragover:ep(sM,aM,ss),mouseout:fM(U0),dragleave:fM(ss),mousedown(e){this._down=this._active,this.fire(cM,e)},click(e){this._down===this._active&&(this.fire(ma,e),this._down=null)},touchstart(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(wd,e,!0)},touchmove(e){this.fire(Ed,e,!0)},touchend(e){this.fire(Dd,e,!0),this._touch=null},fire(e,r,a){const s=a?this._touch:this._active,l=this._handlers[e];if(r.vegaType=e,e===M2&&s&&s.href?this.handleHref(r,s,s.href):(e===cs||e===$0)&&this.handleTooltip(r,s,e!==$0),l)for(let f=0,d=l.length;f<d;++f)l[f].handler.call(this._obj,r,s)},on(e,r){const a=this.eventName(e),s=this._handlers;return this._handlerIndex(s[a],e,r)<0&&(lM(this,e),(s[a]||(s[a]=[])).push({type:e,handler:r})),this},off(e,r){const a=this.eventName(e),s=this._handlers[a],l=this._handlerIndex(s,e,r);return l>=0&&s.splice(l,1),this},pickEvent(e){const r=xd(e,this._canvas),a=this._origin;return this.pick(this._scene,r[0],r[1],r[0]-a[0],r[1]-a[1])},pick(e,r,a,s,l){const f=this.context();return a1[e.marktype].pick.call(this,f,e,r,a,s,l)}});var zN="undefined"!=typeof window&&window.devicePixelRatio||1;function np(e){ji.call(this,e),this._options={},this._redraw=!1,this._dirty=new Qn,this._tempb=new Qn}const NN=ji.prototype;function w2(e,r){j0.call(this,e,r);const a=this;a._hrefHandler=ip(a,(s,l)=>{l&&l.href&&a.handleHref(s,l,l.href)}),a._tooltipHandler=ip(a,(s,l)=>{a.handleTooltip(s,l,s.type!==$0)})}(0,E.XW)(np,ji,{initialize(e,r,a,s,l,f){return this._options=f||{},this._canvas=this._options.externalContext?null:n2(1,1),e&&this._canvas&&(ha(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),NN.initialize.call(this,e,r,a,s,l)},resize(e,r,a,s){if(NN.resize.call(this,e,r,a,s),this._canvas)!function(e,r,a,s,l,f){const d="undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,h=e.getContext("2d"),p=d?zN:l;e.width=r*p,e.height=a*p;for(const v in f)h[v]=f[v];d&&1!==p&&(e.style.width=r+"px",e.style.height=a+"px"),h.pixelRatio=p,h.setTransform(p,0,0,p,p*s[0],p*s[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const l=this._options.externalContext;l||(0,E.vU)("CanvasRenderer is missing a valid canvas or context"),l.scale(this._scale,this._scale),l.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(e){const r=this._tempb.clear().union(e.bounds);let a=e.mark.group;for(;a;)r.translate(a.x||0,a.y||0),a=a.mark.group;this._dirty.union(r)},_render(e){const r=this.context(),a=this._origin,s=this._width,l=this._height,f=this._dirty,d=((e,r,a)=>(new Qn).set(0,0,r,a).translate(-e[0],-e[1]))(a,s,l);r.save();const h=this._redraw||f.empty()?(this._redraw=!1,d.expand(1)):function(e,r,a){return r.expand(1).round(),e.pixelRatio%1&&r.scale(e.pixelRatio).round().scale(1/e.pixelRatio),r.translate(-a[0]%1,-a[1]%1),e.beginPath(),e.rect(r.x1,r.y1,r.width(),r.height()),e.clip(),r}(r,d.intersect(f),a);return this.clear(-a[0],-a[1],s,l),this.draw(r,e,h),r.restore(),f.clear(),this},draw(e,r,a){const s=a1[r.marktype];r.clip&&function(e,r){var a=r.clip;e.save(),(0,E.mf)(a)?(e.beginPath(),a(e),e.clip()):Px(e,r.group)}(e,r),s.draw.call(this,e,r,a),r.clip&&e.restore()},clear(e,r,a,s){const l=this._options,f=this.context();"pdf"!==l.type&&!l.externalContext&&f.clearRect(e,r,a,s),null!=this._bgcolor&&(f.fillStyle=this._bgcolor,f.fillRect(e,r,a,s))}});const ip=(e,r)=>a=>{let s=a.target.__data__;s=Array.isArray(s)?s[0]:s,a.vegaType=a.type,r.call(e._obj,a,s)};(0,E.XW)(w2,j0,{initialize(e,r,a){let s=this._svg;return s&&(s.removeEventListener(M2,this._hrefHandler),s.removeEventListener(cs,this._tooltipHandler),s.removeEventListener($0,this._tooltipHandler)),this._svg=s=e&&rM(e,"svg"),s&&(s.addEventListener(M2,this._hrefHandler),s.addEventListener(cs,this._tooltipHandler),s.addEventListener($0,this._tooltipHandler)),j0.prototype.initialize.call(this,e,r,a)},canvas(){return this._svg},on(e,r){const a=this.eventName(e),s=this._handlers;if(this._handlerIndex(s[a],e,r)<0){const f={type:e,handler:r,listener:ip(this,r)};(s[a]||(s[a]=[])).push(f),this._svg&&this._svg.addEventListener(a,f.listener)}return this},off(e,r){const a=this.eventName(e),s=this._handlers[a],l=this._handlerIndex(s,e,r);return l>=0&&(this._svg&&this._svg.removeEventListener(a,s[l].listener),s.splice(l,1)),this}});const Wc="aria-hidden",dM="aria-label",Sd="role",rp="aria-roledescription",FN="graphics-object",_u="graphics-symbol",RN=(e,r,a)=>({[Sd]:e,[rp]:r,[dM]:a||void 0}),rq=(0,E.Rg)(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),VN={axis:{desc:"axis",caption:function(e){const r=e.datum,a=e.orient,s=r.title?pM(e):null,l=e.context,f=l.scales[r.scale].value,d=l.dataflow.locale(),h=f.type;return("left"===a||"right"===a?"Y":"X")+"-axis"+(s?` titled '${s}'`:"")+` for a ${z0(h)?"discrete":h} scale with ${U(d,f,e)}`}},legend:{desc:"legend",caption:function(e){const r=e.datum,a=r.title?pM(e):null,s=`${r.type||""} legend`.trim(),l=r.scales,f=Object.keys(l),d=e.context,h=d.scales[l[f[0]]].value,p=d.dataflow.locale();return function(e){return e.length?e[0].toUpperCase()+e.slice(1):e}(s)+(a?` titled '${a}'`:"")+` for ${function(e){return e=e.map(r=>r+("fill"===r||"stroke"===r?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+(0,E.fj)(e)}(f)} with ${U(p,h,e)}`}},"title-text":{desc:"title",caption:e=>`Title text '${mM(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${mM(e)}'`}},op={ariaRole:Sd,ariaRoleDescription:rp,description:dM};function Ad(e,r){const a=!1===r.aria;if(e(Wc,a||void 0),a||null==r.description)for(const s in op)e(op[s],void 0);else{const s=r.mark.marktype;e(dM,r.description),e(Sd,r.ariaRole||("group"===s?FN:_u)),e(rp,r.ariaRoleDescription||`${s} mark`)}}function hM(e){return!1===e.aria?{[Wc]:!0}:rq[e.role]?null:VN[e.role]?function(e,r){try{const a=e.items[0],s=r.caption||(()=>"");return RN(r.role||_u,r.desc,a.description||s(a))}catch(a){return null}}(e,VN[e.role]):function(e){const r=e.marktype,a="group"===r||"text"===r||e.items.some(s=>null!=s.description&&!1!==s.aria);return RN(a?FN:_u,`${r} mark container`,e.description)}(e)}function mM(e){return(0,E.IX)(e.text).join(" ")}function pM(e){try{return(0,E.IX)((0,E.fj)(e.items).items[0].text).join(" ")}catch(r){return null}}const gM=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");function ap(){let e="",r="",a="";const s=[],l=()=>r=a="",d=(p,v)=>(null!=v&&(r+=` ${p}="${(e=>gM(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))(v)}"`),h),h={open(p,...v){(p=>{r&&(e+=`${r}>${a}`,l()),s.push(p)})(p),r="<"+p;for(const _ of v)for(const y in _)d(y,_[y]);return h},close(){const p=s.pop();return e+=r?r+(a?`>${a}</${p}>`:"/>"):`</${p}>`,l(),h},attr:d,text:p=>(a+=gM(p),h),toString:()=>e};return h}const vM=e=>sp(ap(),e)+"";function sp(e,r){if(e.open(r.tagName),r.hasAttributes()){const a=r.attributes,s=a.length;for(let l=0;l<s;++l)e.attr(a[l].name,a[l].value)}if(r.hasChildNodes()){const a=r.childNodes,s=a.length;for(let l=0;l<s;l++){const f=a[l];3===f.nodeType?e.text(f.nodeValue):sp(e,f)}}return e.close()}const bu={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},cp={fill:"none","stroke-miterlimit":10},_M="http://www.w3.org/2000/xmlns/",qn=H0.xmlns;function yM(e){ji.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const lp=ji.prototype;function bM(e,r){for(;e&&e.dirty!==r;e=e.mark.group){if(e.dirty=r,!e.mark||e.mark.dirty===r)return;e.mark.dirty=r}}function UN(e,r,a){let s,l,f;if("radial"===r.gradient){let d=Ye(e,a++,"pattern",qn);si(d,{id:"p_"+r.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),d=Ye(d,0,"rect",qn),si(d,{width:1,height:1,fill:`url(${CM()}#${r.id})`}),si(e=Ye(e,a++,"radialGradient",qn),{id:r.id,fx:r.x1,fy:r.y1,fr:r.r1,cx:r.x2,cy:r.y2,r:r.r2})}else si(e=Ye(e,a++,"linearGradient",qn),{id:r.id,x1:r.x1,x2:r.x2,y1:r.y1,y2:r.y2});for(s=0,l=r.stops.length;s<l;++s)f=Ye(e,s,"stop",qn),f.setAttribute("offset",r.stops[s].offset),f.setAttribute("stop-color",r.stops[s].color);return ha(e,s),a}function Cu(e,r,a){let s;return(e=Ye(e,a,"clipPath",qn)).setAttribute("id",r.id),r.path?(s=Ye(e,0,"path",qn),s.setAttribute("d",r.path)):(s=Ye(e,0,"rect",qn),si(s,{x:0,y:0,width:r.width,height:r.height})),ha(e,1),a+1}function Td(e,r,a,s,l){let d,f=e._svg;if(!f&&(d=r.ownerDocument,f=as(d,s,qn),e._svg=f,e.mark&&(f.__data__=e,f.__values__={fill:"default"},"g"===s))){const h=as(d,"path",qn);f.appendChild(h),h.__data__=e;const p=as(d,"g",qn);f.appendChild(p),p.__data__=e;const v=as(d,"path",qn);f.appendChild(v),v.__data__=e,v.__values__={fill:"default"}}return(f.ownerSVGElement!==l||function(e,r){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=r}(f,a))&&r.insertBefore(f,a?a.nextSibling:r.firstChild),f}(0,E.XW)(yM,ji,{initialize(e,r,a,s,l){return this._defs={},this._clearDefs(),e&&(this._svg=Ye(e,0,"svg",qn),this._svg.setAttributeNS(_M,"xmlns",qn),this._svg.setAttributeNS(_M,"xmlns:xlink",H0["xmlns:xlink"]),this._svg.setAttribute("version",H0.version),this._svg.setAttribute("class","marks"),ha(e,1),this._root=Ye(this._svg,0,"g",qn),si(this._root,cp),ha(this._svg,1)),this.background(this._bgcolor),lp.initialize.call(this,e,r,a,s,l)},background(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),lp.background.apply(this,arguments)},resize(e,r,a,s){return lp.resize.call(this,e,r,a,s),this._svg&&(si(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){const e=this._svg,r=this._bgcolor;if(!e)return null;let a;r&&(e.removeAttribute("style"),a=Ye(e,0,"rect",qn),si(a,{width:this._width,height:this._height,fill:r}));const s=vM(e);return r&&(e.removeChild(a),this._svg.style.setProperty("background-color",r)),s},_render(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),ha(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const e=this._dirty;if(!e.length||!this._dirtyID)return!0;const r=++this._dirtyID;let a,s,l,f,d,h,p;for(d=0,h=e.length;d<h;++d)if(a=e[d],s=a.mark,s.marktype!==l&&(l=s.marktype,f=a1[l]),s.zdirty&&s.dirty!==r&&(this._dirtyAll=!1,bM(a,r),s.items.forEach(v=>{v.dirty=r})),!s.zdirty){if(a.exit){f.nested&&s.items.length?(p=s.items[0],p._svg&&this._update(f,p._svg,p)):a._svg&&(p=a._svg.parentNode,p&&p.removeChild(a._svg)),a._svg=null;continue}a=f.nested?s.items[0]:a,a._update!==r&&(a._svg&&a._svg.ownerSVGElement?this._update(f,a._svg,a):(this._dirtyAll=!1,bM(a,r)),a._update=r)}return!this._dirtyAll},mark(e,r,a){if(!this.isDirty(r))return r._svg;const s=this._svg,l=a1[r.marktype],f=!1===r.interactive?"none":null,d="g"===l.tag;let h=null,p=0;const v=Td(r,e,a,"g",s);v.setAttribute("class",Km(r));const _=hM(r);for(const C in _)pr(v,C,_[C]);d||pr(v,"pointer-events",f),pr(v,"clip-path",r.clip?Sm(this,r,r.group):null);const y=C=>{const M=this.isDirty(C),w=Td(C,v,h,l.tag,s);M&&(this._update(l,w,C),d&&function(e,r,a){r=r.lastChild.previousSibling;let s,l=0;is(a,f=>{s=e.mark(r,f,s),++l}),ha(r,1+l)}(this,w,C)),h=w,++p};return l.nested?r.items.length&&y(r.items[0]):is(r,y),ha(v,p),v},_update(e,r,a){ls=r,On=r.__values__,Ad(zd,a),e.attr(zd,a,this);const s=qN[e.type];s&&s.call(this,e,r,a),ls&&this.style(ls,a)},style(e,r){if(null!=r)for(const a in bu){let s="font"===a?pu(r):r[a];if(s===On[a])continue;const l=bu[a];null==s?e.removeAttribute(l):(bm(s)&&(s=X(s,this._defs.gradient,CM())),e.setAttribute(l,s+"")),On[a]=s}},defs(){const e=this._svg,r=this._defs;let a=r.el,s=0;for(const l in r.gradient)a||(r.el=a=Ye(e,1,"defs",qn)),s=UN(a,r.gradient[l],s);for(const l in r.clipping)a||(r.el=a=Ye(e,1,"defs",qn)),s=Cu(a,r.clipping[l],s);a&&(0===s?(e.removeChild(a),r.el=null):ha(a,s))},_clearDefs(){const e=this._defs;e.gradient={},e.clipping={}}});let ls=null,On=null;const qN={group(e,r,a){const s=ls=r.childNodes[2];On=s.__values__,e.foreground(zd,a,this),On=r.__values__,ls=r.childNodes[1],e.content(zd,a,this);const l=ls=r.childNodes[0];e.background(zd,a,this);const f=!1===a.mark.interactive?"none":null;if(f!==On.events&&(pr(s,"pointer-events",f),pr(l,"pointer-events",f),On.events=f),a.strokeForeground&&a.stroke){const d=a.fill;pr(s,"display",null),this.style(l,a),pr(l,"stroke",null),d&&(a.fill=null),On=s.__values__,this.style(s,a),d&&(a.fill=d),ls=null}else pr(s,"display","none")},image(e,r,a){!1===a.smooth?(up(r,"image-rendering","optimizeSpeed"),up(r,"image-rendering","pixelated")):up(r,"image-rendering",null)},text(e,r,a){const s=mu(a);let l,f,d,h;(0,E.kJ)(s)?(f=s.map(p=>C2(a,p)),l=f.join("\n"),l!==On.text&&(ha(r,0),d=r.ownerDocument,h=b2(a),f.forEach((p,v)=>{const _=as(d,"tspan",qn);_.__data__=a,_.textContent=p,v&&(_.setAttribute("x",0),_.setAttribute("dy",h)),r.appendChild(_)}),On.text=l)):(f=C2(a,s),f!==On.text&&(r.textContent=f,On.text=f)),pr(r,"font-family",pu(a)),pr(r,"font-size",os(a)+"px"),pr(r,"font-style",a.fontStyle),pr(r,"font-variant",a.fontVariant),pr(r,"font-weight",a.fontWeight)}};function zd(e,r,a){r!==On[e]&&(a?function(e,r,a,s){null!=a?e.setAttributeNS(s,r,a):e.removeAttributeNS(s,r)}(ls,e,r,a):pr(ls,e,r),On[e]=r)}function up(e,r,a){a!==On[r]&&(null==a?e.style.removeProperty(r):e.style.setProperty(r,a+""),On[r]=a)}function si(e,r){for(const a in r)pr(e,a,r[a])}function pr(e,r,a){null!=a?e.setAttribute(r,a):e.removeAttribute(r)}function CM(){let e;return"undefined"==typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function xu(e){ji.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}(0,E.XW)(xu,ji,{svg(){return this._text},_render(e){const r=ap();r.open("svg",(0,E.l7)({},H0,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const a=this._bgcolor;return a&&"transparent"!==a&&"none"!==a&&r.open("rect",{width:this._width,height:this._height,fill:a}).close(),r.open("g",cp,{transform:"translate("+this._origin+")"}),this.mark(r,e),r.close(),this.defs(r),this._text=r.close()+"",this},mark(e,r){const a=a1[r.marktype],s=a.tag,l=[Ad,a.attr];e.open("g",{class:Km(r),"clip-path":r.clip?Sm(this,r,r.group):null},hM(r),{"pointer-events":"g"!==s&&!1===r.interactive?"none":null});const f=d=>{const h=this.href(d);if(h&&e.open("a",h),e.open(s,this.attr(r,d,l,"g"!==s?s:null)),"text"===s){const p=mu(d);if((0,E.kJ)(p)){const v={x:0,dy:b2(d)};for(let _=0;_<p.length;++_)e.open("tspan",_?v:null).text(C2(d,p[_])).close()}else e.text(C2(d,p))}else if("g"===s){const p=d.strokeForeground,v=d.fill,_=d.stroke;p&&_&&(d.stroke=null),e.open("path",this.attr(r,d,a.background,"bgrect")).close(),e.open("g",this.attr(r,d,a.content)),is(d,y=>this.mark(e,y)),e.close(),p&&_?(v&&(d.fill=null),d.stroke=_,e.open("path",this.attr(r,d,a.foreground,"bgrect")).close(),v&&(d.fill=v)):e.open("path",this.attr(r,d,a.foreground,"bgfore")).close()}e.close(),h&&e.close()};return a.nested?r.items&&r.items.length&&f(r.items[0]):is(r,f),e.close()},href(e){const r=e.href;let a;if(r){if(a=this._hrefs&&this._hrefs[r])return a;this.sanitizeURL(r).then(s=>{s["xlink:href"]=s.href,s.href=null,(this._hrefs||(this._hrefs={}))[r]=s})}return null},attr(e,r,a,s){const l={},f=(d,h,p,v)=>{l[v||d]=h};return Array.isArray(a)?a.forEach(d=>d(f,r,this)):a(f,r,this),s&&function(e,r,a,s,l){if(null==r||("bgrect"===s&&!1===a.interactive&&(e["pointer-events"]="none"),"bgfore"===s&&(!1===a.interactive&&(e["pointer-events"]="none"),e.display="none",null!==r.fill)))return e;"image"===s&&!1===r.smooth&&(e.style="image-rendering: optimizeSpeed; image-rendering: pixelated;"),"text"===s&&(e["font-family"]=pu(r),e["font-size"]=os(r)+"px",e["font-style"]=r.fontStyle,e["font-variant"]=r.fontVariant,e["font-weight"]=r.fontWeight);for(const f in bu){let d=r[f];const h=bu[f];"transparent"===d&&("fill"===h||"stroke"===h)||null!=d&&(bm(d)&&(d=X(d,l.gradient,"")),e[h]=d)}}(l,r,e,s,this._defs),l},defs(e){const r=this._defs.gradient,a=this._defs.clipping;if(Object.keys(r).length+Object.keys(a).length!==0){e.open("defs");for(const l in r){const f=r[l],d=f.stops;"radial"===f.gradient?(e.open("pattern",{id:"p_"+l,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+l+")"}).close(),e.close(),e.open("radialGradient",{id:l,fx:f.x1,fy:f.y1,fr:f.r1,cx:f.x2,cy:f.y2,r:f.r2})):e.open("linearGradient",{id:l,x1:f.x1,x2:f.x2,y1:f.y1,y2:f.y2});for(let h=0;h<d.length;++h)e.open("stop",{offset:d[h].offset,"stop-color":d[h].color}).close();e.close()}for(const l in a){const f=a[l];e.open("clipPath",{id:l}),f.path?e.open("path",{d:f.path}).close():e.open("rect",{x:0,y:0,width:f.width,height:f.height}).close(),e.close()}e.close()}}});const Xc={};function Nd(e,r){return e=String(e||"").toLowerCase(),arguments.length>1?(Xc[e]=r,this):Xc[e]}function dp(e,r,a,s){if(function(e,r,a){return e.bounds&&r.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!a||a(e)))}(e,r,a)){const l=e.items,f=e.marktype,d=l.length;let h=0;if("group"===f)for(;h<d;++h)wM(l[h],r,a,s);else for(const p=a1[f].isect;h<d;++h){const v=l[h];ZN(v,r,p)&&s.push(v)}}return s}function wM(e,r,a,s){a&&a(e.mark)&&ZN(e,r,a1.group.isect)&&s.push(e);const l=e.items,f=l&&l.length;if(f){const d=e.x||0,h=e.y||0;r.translate(-d,-h);for(let p=0;p<f;++p)dp(l[p],r,a,s);r.translate(d,h)}return s}function ZN(e,r,a){const s=e.bounds;return r.encloses(s)||r.intersects(s)&&a(e,r)}Xc.canvas=Xc.png={renderer:np,headless:np,handler:qc},Xc.svg={renderer:yM,headless:xu,handler:w2},Xc.none={};const Mu=new Qn,W0="top",bo="left",P1="right",pa="bottom",pp="start",Ld="middle",Ui="end",Fd="group",Di="axis",E2="title",SM="legend",G0="row-header",AM="row-footer",Rd="row-title",kM="column-header",gp="column-footer",TM="column-title",NM="none",wu="all",bp="each",Od="flush",Co="column",us="row";function IM(e){te.call(this,null,e)}function X0(e,r,a){return r(e.bounds.clear(),e,a)}(0,E.XW)(IM,te,{transform(e,r){const a=r.dataflow,s=e.mark,l=s.marktype,f=a1[l],d=f.bound;let p,h=s.bounds;if(f.nested)s.items.length&&a.dirty(s.items[0]),h=X0(s,d),s.items.forEach(v=>{v.bounds.clear().union(h)});else if(l===Fd||e.modified())switch(r.visit(r.MOD,v=>a.dirty(v)),h.clear(),s.items.forEach(v=>h.union(X0(v,d))),s.role){case Di:case SM:case E2:r.reflow()}else p=r.changed(r.REM),r.visit(r.ADD,v=>{h.union(X0(v,d))}),r.visit(r.MOD,v=>{p=p||h.alignsWith(v.bounds),a.dirty(v),h.union(X0(v,d))}),p&&(h.clear(),s.items.forEach(v=>h.union(v.bounds)));return function(e){const r=e.clip;if((0,E.mf)(r))r(ad(Mu.clear()));else{if(!r)return;Mu.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(Mu)}(s),r.modifies("bounds")}});const Pd=":vega_identifier:";function Cp(e){te.call(this,0,e)}function xp(e){te.call(this,null,e)}function Mp(e){te.call(this,null,e)}Cp.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},(0,E.XW)(Cp,te,{transform(e,r){const a=function(e){return e._signals[Pd]||(e._signals[Pd]=e.add(0))}(r.dataflow),s=e.as;let l=a.value;return r.visit(r.ADD,f=>f[s]=f[s]||++l),a.set(this.value=l),r}}),(0,E.XW)(xp,te,{transform(e,r){let a=this.value;a||(a=r.dataflow.scenegraph().mark(e.markdef,function(e){const r=e.groups,a=e.parent;return r&&1===r.size?r.get(Object.keys(r.object)[0]):r&&a?r.lookup(a):null}(e),e.index),a.group.context=e.context,e.context.group||(e.context.group=a.group),a.source=this.source,a.clip=e.clip,a.interactive=e.interactive,this.value=a);const s=a.marktype===Fd?V1:je;return r.visit(r.ADD,l=>s.call(l,a)),(e.modified("clip")||e.modified("interactive"))&&(a.clip=e.clip,a.interactive=!!e.interactive,a.zdirty=!0,r.reflow()),a.items=r.source,r}});const FM={parity:e=>e.filter((r,a)=>a%2?r.opacity=0:1),greedy:(e,r)=>{let a;return e.filter((s,l)=>l&&wp(a.bounds,s.bounds,r)?s.opacity=0:(a=s,1))}},wp=(e,r,a)=>a>Math.max(r.x1-e.x2,e.x1-r.x2,r.y1-e.y2,e.y1-r.y2),Ep=(e,r)=>{for(var f,a=1,s=e.length,l=e[0].bounds;a<s;l=f,++a)if(wp(l,f=e[a].bounds,r))return!0},iI=e=>{const r=e.bounds;return r.width()>1&&r.height()>1},Dp=e=>(e.forEach(r=>r.opacity=1),e),RM=(e,r)=>e.reflow(r.modified()).modifies("opacity");function Sp(e){te.call(this,null,e)}(0,E.XW)(Mp,te,{transform(e,r){const a=FM[e.method]||FM.parity,s=e.separation||0;let f,d,l=r.materialize(r.SOURCE).source;if(!l||!l.length)return;if(!e.method)return e.modified("method")&&(Dp(l),r=RM(r,e)),r;if(l=l.filter(iI),!l.length)return;if(e.sort&&(l=l.slice().sort(e.sort)),f=Dp(l),r=RM(r,e),f.length>=3&&Ep(f,s)){do{f=a(f,s)}while(f.length>=3&&Ep(f,s));f.length<3&&!(0,E.fj)(l).opacity&&(f.length>1&&((0,E.fj)(f).opacity=0),(0,E.fj)(l).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(d=((e,r,a)=>{var s=e.range(),l=new Qn;return r===W0||r===pa?l.set(s[0],-1/0,s[1],1/0):l.set(-1/0,s[0],1/0,s[1]),l.expand(a||1),f=>l.encloses(f.bounds)})(e.boundScale,e.boundOrient,+e.boundTolerance),l.forEach(p=>{d(p)||(p.opacity=0)}));const h=f[0].mark.bounds.clear();return l.forEach(p=>{p.opacity&&h.union(p.bounds)}),r}}),(0,E.XW)(Sp,te,{transform(e,r){const a=r.dataflow;if(r.visit(r.ALL,s=>a.dirty(s)),r.fields&&r.fields.zindex){const s=r.source&&r.source[0];s&&(s.mark.zdirty=!0)}}});const Si=new Qn;function Yc(e,r,a){return e[r]===a?0:(e[r]=a,1)}function VM(e){var r=e.items[0].orient;return r===bo||r===P1}function aI(e,r,a,s){var F,O,l=r.items[0],f=l.datum,d=null!=l.translate?l.translate:.5,h=l.orient,p=function(e){let r=+e.grid;return[e.ticks?r++:-1,e.labels?r++:-1,r+ +e.domain]}(f),v=l.range,_=l.offset,y=l.position,C=l.minExtent,M=l.maxExtent,w=f.title&&l.items[p[2]].items[0],S=l.titlePadding,A=l.bounds,T=w&&Zx(w),N=0,I=0;switch(Si.clear().union(A),A.clear(),(F=p[0])>-1&&A.union(l.items[F].bounds),(F=p[1])>-1&&A.union(l.items[F].bounds),h){case W0:N=y||0,I=-_,O=Math.max(C,Math.min(M,-A.y1)),A.add(0,-O).add(v,0),w&&Hd(e,w,O,S,T,0,-1,A);break;case bo:N=-_,I=y||0,O=Math.max(C,Math.min(M,-A.x1)),A.add(-O,0).add(0,v),w&&Hd(e,w,O,S,T,1,-1,A);break;case P1:N=a+_,I=y||0,O=Math.max(C,Math.min(M,A.x2)),A.add(0,0).add(O,v),w&&Hd(e,w,O,S,T,1,1,A);break;case pa:N=y||0,I=s+_,O=Math.max(C,Math.min(M,A.y2)),A.add(0,0).add(v,O),w&&Hd(e,w,O,S,0,0,1,A);break;default:N=l.x,I=l.y}return ts(A.translate(N,I),l),Yc(l,"x",N+d)|Yc(l,"y",I+d)&&(l.bounds=Si,e.dirty(l),l.bounds=A,e.dirty(l)),l.mark.bounds.clear().union(A)}function Hd(e,r,a,s,l,f,d,h){const p=r.bounds;if(r.auto){const v=d*(a+l+s);let _=0,y=0;e.dirty(r),f?_=(r.x||0)-(r.x=v):y=(r.y||0)-(r.y=v),r.mark.bounds.clear().union(p.translate(-_,-y)),e.dirty(r)}h.union(p)}const Ap=(e,r)=>Math.floor(Math.min(e,r)),sI=(e,r)=>Math.ceil(Math.max(e,r));function sq(e){return(new Qn).set(0,0,e.width||0,e.height||0)}function cq(e){const r=e.bounds.clone();return r.empty()?r.set(0,0,0,0):r.translate(-(e.x||0),-(e.y||0))}function Cn(e,r,a){const s=(0,E.Kn)(e)?e[r]:e;return null!=s?s:void 0!==a?a:0}function cI(e){return e<0?Math.ceil(-e):0}function lI(e,r,a){var P,V,W,Y,q,G,re,ie,fe,J,ue,s=!a.nodirty,l=a.bounds===Od?sq:cq,f=Si.set(0,0,0,0),d=Cn(a.align,Co),h=Cn(a.align,us),p=Cn(a.padding,Co),v=Cn(a.padding,us),_=a.columns||r.length,y=_<=0?1:Math.ceil(r.length/_),C=r.length,M=Array(C),w=Array(_),S=0,A=Array(C),T=Array(y),N=0,I=Array(C),F=Array(C),O=Array(C);for(V=0;V<_;++V)w[V]=0;for(V=0;V<y;++V)T[V]=0;for(V=0;V<C;++V)q=O[V]=l(G=r[V]),G.x=G.x||0,I[V]=0,G.y=G.y||0,F[V]=0,W=V%_,Y=~~(V/_),S=Math.max(S,re=Math.ceil(q.x2)),N=Math.max(N,ie=Math.ceil(q.y2)),w[W]=Math.max(w[W],re),T[Y]=Math.max(T[Y],ie),M[V]=p+cI(q.x1),A[V]=v+cI(q.y1),s&&e.dirty(r[V]);for(V=0;V<C;++V)V%_==0&&(M[V]=0),V<_&&(A[V]=0);if(d===bp)for(W=1;W<_;++W){for(ue=0,V=W;V<C;V+=_)ue<M[V]&&(ue=M[V]);for(V=W;V<C;V+=_)M[V]=ue+w[W-1]}else if(d===wu){for(ue=0,V=0;V<C;++V)V%_&&ue<M[V]&&(ue=M[V]);for(V=0;V<C;++V)V%_&&(M[V]=ue+S)}else for(d=!1,W=1;W<_;++W)for(V=W;V<C;V+=_)M[V]+=w[W-1];if(h===bp)for(Y=1;Y<y;++Y){for(ue=0,P=(V=Y*_)+_;V<P;++V)ue<A[V]&&(ue=A[V]);for(V=Y*_;V<P;++V)A[V]=ue+T[Y-1]}else if(h===wu){for(ue=0,V=_;V<C;++V)ue<A[V]&&(ue=A[V]);for(V=_;V<C;++V)A[V]=ue+N}else for(h=!1,Y=1;Y<y;++Y)for(P=(V=Y*_)+_;V<P;++V)A[V]+=T[Y-1];for(fe=0,V=0;V<C;++V)I[V]+=(fe=M[V]+(V%_?fe:0))-r[V].x;for(W=0;W<_;++W)for(J=0,V=W;V<C;V+=_)F[V]+=(J+=A[V])-r[V].y;if(d&&Cn(a.center,Co)&&y>1)for(V=0;V<C;++V)(fe=(q=d===wu?S:w[V%_])-O[V].x2-r[V].x-I[V])>0&&(I[V]+=fe/2);if(h&&Cn(a.center,us)&&1!==_)for(V=0;V<C;++V)(J=(q=h===wu?N:T[~~(V/_)])-O[V].y2-r[V].y-F[V])>0&&(F[V]+=J/2);for(V=0;V<C;++V)f.union(O[V].translate(I[V],F[V]));switch(fe=Cn(a.anchor,"x"),J=Cn(a.anchor,"y"),Cn(a.anchor,Co)){case Ui:fe-=f.width();break;case Ld:fe-=f.width()/2}switch(Cn(a.anchor,us)){case Ui:J-=f.height();break;case Ld:J-=f.height()/2}for(fe=Math.round(fe),J=Math.round(J),f.clear(),V=0;V<C;++V)r[V].mark.bounds.clear();for(V=0;V<C;++V)(G=r[V]).x+=I[V]+=fe,G.y+=F[V]+=J,f.union(G.mark.bounds.union(G.bounds.translate(I[V],F[V]))),s&&e.dirty(G);return f}function fI(e,r){return"x1"===r?e.x||0:"y1"===r?e.y||0:"x2"===r?(e.x||0)+(e.width||0):"y2"===r?(e.y||0)+(e.height||0):void 0}function dI(e,r){return e.bounds[r]}function kp(e,r,a,s,l,f,d,h,p,v,_,y,C,M){var T,N,I,F,O,P,V,W,Y,w=a.length,S=0,A=0;if(!w)return S;for(T=_;T<w;T+=y)a[T]&&(S=d(S,p(a[T],v)));if(!r.length)return S;for(r.length>l&&(e.warn("Grid headers exceed limit: "+l),r=r.slice(0,l)),S+=f,N=0,F=r.length;N<F;++N)e.dirty(r[N]),r[N].mark.bounds.clear();for(T=_,N=0,F=r.length;N<F;++N,T+=y){for(O=(P=r[N]).mark.bounds,I=T;I>=0&&null==(V=a[I]);I-=C);h?(W=null==M?V.x:Math.round(V.bounds.x1+M*V.bounds.width()),Y=S):(W=S,Y=null==M?V.y:Math.round(V.bounds.y1+M*V.bounds.height())),O.union(P.bounds.translate(W-(P.x||0),Y-(P.y||0))),P.x=W,P.y=Y,e.dirty(P),A=d(A,O[v])}return A}function hI(e,r,a,s,l,f){if(r){e.dirty(r);var d=a,h=a;s?d=Math.round(l.x1+f*l.width()):h=Math.round(l.y1+f*l.height()),r.bounds.translate(d-(r.x||0),h-(r.y||0)),r.mark.bounds.clear().union(r.bounds),r.x=d,r.y=h,e.dirty(r)}}function pI(e,r,a,s,l,f,d){const h=function(e,r){const a=e[r]||{};return(s,l)=>null!=a[s]?a[s]:null!=e[s]?e[s]:l}(a,r),p=function(e,r){let a=-1/0;return e.forEach(s=>{null!=s.offset&&(a=Math.max(a,s.offset))}),a>-1/0?a:r}(e,h("offset",0)),v=h("anchor",pp),_=v===Ui?1:v===Ld?.5:0,y={align:bp,bounds:h("bounds",Od),columns:"vertical"===h("direction")?1:e.length,padding:h("margin",8),center:h("center"),nodirty:!0};switch(r){case bo:y.anchor={x:Math.floor(s.x1)-p,column:Ui,y:_*(d||s.height()+2*s.y1),row:v};break;case P1:y.anchor={x:Math.ceil(s.x2)+p,y:_*(d||s.height()+2*s.y1),row:v};break;case W0:y.anchor={y:Math.floor(l.y1)-p,row:Ui,x:_*(f||l.width()+2*l.x1),column:v};break;case pa:y.anchor={y:Math.ceil(l.y2)+p,x:_*(f||l.width()+2*l.x1),column:v};break;case"top-left":y.anchor={x:p,y:p};break;case"top-right":y.anchor={x:f-p,y:p,column:Ui};break;case"bottom-left":y.anchor={x:p,y:d-p,row:Ui};break;case"bottom-right":y.anchor={x:f-p,y:d-p,column:Ui,row:Ui}}return y}function gI(e,r){var p,v,a=r.items[0],s=a.datum,l=a.orient,f=a.bounds,d=a.x,h=a.y;return a._bounds?a._bounds.clear().union(f):a._bounds=f.clone(),f.clear(),function(e,r,a){var s=r.padding,l=s-a.x,f=s-a.y;if(r.datum.title){var d=r.items[1].items[0],h=d.anchor,p=r.titlePadding||0,v=s-d.x,_=s-d.y;switch(d.orient){case bo:l+=Math.ceil(d.bounds.width())+p;break;case P1:case pa:break;default:f+=d.bounds.height()+p}switch((l||f)&&Bd(e,a,l,f),d.orient){case bo:_+=Y0(r,a,d,h,1,1);break;case P1:v+=Y0(r,a,d,Ui,0,0)+p,_+=Y0(r,a,d,h,1,1);break;case pa:v+=Y0(r,a,d,h,0,0),_+=Y0(r,a,d,Ui,-1,0,1)+p;break;default:v+=Y0(r,a,d,h,0,0)}(v||_)&&Bd(e,d,v,_),(v=Math.round(d.bounds.x1-s))<0&&(Bd(e,a,-v,0),Bd(e,d,-v,0))}else(l||f)&&Bd(e,a,l,f)}(e,a,a.items[0].items[0]),f=function(e,r){return e.items.forEach(a=>r.union(a.bounds)),r.x1=e.padding,r.y1=e.padding,r}(a,f),p=2*a.padding,v=2*a.padding,f.empty()||(p=Math.ceil(f.width()+p),v=Math.ceil(f.height()+v)),"symbol"===s.type&&function(e){const r=e.reduce((a,s)=>(a[s.column]=Math.max(s.bounds.x2-s.x,a[s.column]||0),a),{});e.forEach(a=>{a.width=r[a.column],a.height=a.bounds.y2-a.y})}(a.items[0].items[0].items[0].items),l!==NM&&(a.x=d=0,a.y=h=0),a.width=p,a.height=v,ts(f.set(d,h,d+p,h+v),a),a.mark.bounds.clear().union(f),a}function Y0(e,r,a,s,l,f,d){const p=a.datum.vgrad,_=("symbol"===e.datum.type||!f&&p||d?r:r.items[0]).bounds[l?"y2":"x2"]-e.padding,y=p&&f?_:0,C=p&&f?0:_,M=l<=0?0:Zx(a);return Math.round(s===pp?y:s===Ui?C-M:.5*(_-M))}function Bd(e,r,a,s){r.x+=a,r.y+=s,r.bounds.translate(a,s),r.mark.bounds.translate(a,s),e.dirty(r)}function Eu(e){te.call(this,null,e)}function OM(e,r){let a=0;if(void 0===r)for(let s of e)(s=+s)&&(a+=s);else{let s=-1;for(let l of e)(l=+r(l,++s,e))&&(a+=l)}return a}function jd(e){te.call(this,null,e)}function Tp(e){te.call(this,null,e)}function Su(){return $t({})}function bI(e){te.call(this,null,e)}function Ud(e){te.call(this,[],e)}(0,E.XW)(Eu,te,{transform(e,r){const a=r.dataflow;return e.mark.items.forEach(s=>{e.layout&&function(e,r,a){var _,y,C,M,w,S,A,s=function(e){var l,f,r=e.items,a=r.length,s=0;const d={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;s<a;++s)if(f=(l=r[s]).items,l.marktype===Fd)switch(l.role){case Di:case SM:case E2:break;case G0:d.rowheaders.push(...f);break;case AM:d.rowfooters.push(...f);break;case kM:d.colheaders.push(...f);break;case gp:d.colfooters.push(...f);break;case Rd:d.rowtitle=f[0];break;case TM:d.coltitle=f[0];break;default:d.marks.push(...f)}return d}(r),l=s.marks,f=a.bounds===Od?fI:dI,d=a.offset,h=a.columns||l.length,p=h<=0?1:Math.ceil(l.length/h),v=p*h;const T=lI(e,l,a);T.empty()&&T.set(0,0,0,0),s.rowheaders&&(S=Cn(a.headerBand,us,null),_=kp(e,s.rowheaders,l,0,p,-Cn(d,"rowHeader"),Ap,0,f,"x1",0,h,1,S)),s.colheaders&&(S=Cn(a.headerBand,Co,null),y=kp(e,s.colheaders,l,0,h,-Cn(d,"columnHeader"),Ap,1,f,"y1",0,1,h,S)),s.rowfooters&&(S=Cn(a.footerBand,us,null),C=kp(e,s.rowfooters,l,0,p,Cn(d,"rowFooter"),sI,0,f,"x2",h-1,h,1,S)),s.colfooters&&(S=Cn(a.footerBand,Co,null),M=kp(e,s.colfooters,l,0,h,Cn(d,"columnFooter"),sI,1,f,"y2",v-h,1,h,S)),s.rowtitle&&(w=Cn(a.titleAnchor,us),A=Cn(d,"rowTitle"),A=w===Ui?C+A:_-A,S=Cn(a.titleBand,us,.5),hI(e,s.rowtitle,A,0,T,S)),s.coltitle&&(w=Cn(a.titleAnchor,Co),A=Cn(d,"columnTitle"),A=w===Ui?M+A:y-A,S=Cn(a.titleBand,Co,.5),hI(e,s.coltitle,A,1,T,S))}(a,s,e.layout),function(e,r,a){var _,y,C,w,S,s=r.items,l=Math.max(0,r.width||0),f=Math.max(0,r.height||0),d=(new Qn).set(0,0,l,f),h=d.clone(),p=d.clone(),v=[];for(w=0,S=s.length;w<S;++w)switch(y=s[w],y.role){case Di:(VM(y)?h:p).union(aI(e,y,l,f));break;case E2:_=y;break;case SM:v.push(gI(e,y));break;case"frame":case"scope":case G0:case AM:case Rd:case kM:case gp:case TM:h.union(y.bounds),p.union(y.bounds);break;default:d.union(y.bounds)}if(v.length){const A={};v.forEach(T=>{(C=T.orient||P1)!==NM&&(A[C]||(A[C]=[])).push(T)});for(const T in A){const N=A[T];lI(e,N,pI(N,T,a.legends,h,p,l,f))}v.forEach(T=>{const N=T.bounds;if(N.equals(T._bounds)||(T.bounds=T._bounds,e.dirty(T),T.bounds=N,e.dirty(T)),a.autosize&&"fit"===a.autosize.type)switch(T.orient){case bo:case P1:d.add(N.x1,0).add(N.x2,0);break;case W0:case pa:d.add(0,N.y1).add(0,N.y2)}else d.union(N)})}d.union(h).union(p),_&&d.union(function(e,r,a,s,l){var I,f=r.items[0],h=f.orient,p=f.anchor,v=f.offset,_=f.padding,y=f.items[0].items[0],C=f.items[1]&&f.items[1].items[0],M=h===bo||h===P1?s:a,w=0,S=0,A=0,T=0,N=0;if(f.frame!==Fd?h===bo?(w=l.y2,M=l.y1):h===P1?(w=l.y1,M=l.y2):(w=l.x1,M=l.x2):h===bo&&(w=s,M=0),I=p===pp?w:p===Ui?M:(w+M)/2,C&&C.text){switch(h){case W0:case pa:N=y.bounds.height()+_;break;case bo:T=y.bounds.width()+_;break;case P1:T=-y.bounds.width()-_}Si.clear().union(C.bounds),Si.translate(T-(C.x||0),N-(C.y||0)),Yc(C,"x",T)|Yc(C,"y",N)&&(e.dirty(C),C.bounds.clear().union(Si),C.mark.bounds.clear().union(Si),e.dirty(C)),Si.clear().union(C.bounds)}else Si.clear();switch(Si.union(y.bounds),h){case W0:S=I,A=l.y1-Si.height()-v;break;case bo:S=l.x1-Si.width()-v,A=I;break;case P1:S=l.x2+Si.width()+v,A=I;break;case pa:S=I,A=l.y2+v;break;default:S=f.x,A=f.y}return Yc(f,"x",S)|Yc(f,"y",A)&&(Si.translate(S,A),e.dirty(f),f.bounds.clear().union(Si),r.bounds.clear().union(Si),e.dirty(f)),f.bounds}(e,_,l,f,d)),r.clip&&d.set(0,0,r.width||0,r.height||0),function(e,r,a,s){const l=s.autosize||{},f=l.type;if(e._autosize<1||!f)return;let d=e._width,h=e._height,p=Math.max(0,r.width||0),v=Math.max(0,Math.ceil(-a.x1)),_=Math.max(0,r.height||0),y=Math.max(0,Math.ceil(-a.y1));const C=Math.max(0,Math.ceil(a.x2-p)),M=Math.max(0,Math.ceil(a.y2-_));if("padding"===l.contains){const w=e.padding();d-=w.left+w.right,h-=w.top+w.bottom}f===NM?(v=0,y=0,p=d,_=h):"fit"===f?(p=Math.max(0,d-v-C),_=Math.max(0,h-y-M)):"fit-x"===f?(p=Math.max(0,d-v-C),h=_+y+M):"fit-y"===f?(d=p+v+C,_=Math.max(0,h-y-M)):"pad"===f&&(d=p+v+C,h=_+y+M),e._resizeView(d,h,p,_,[v,y],l.resize)}(e,r,d,a)}(a,s,e)}),function(e){return e&&"legend-entry"!==e.mark.role}(e.mark.group)?r.reflow():r}}),(0,E.XW)(jd,te,{transform(e,r){if(this.value&&!e.modified())return r.StopPropagation;var a=r.dataflow.locale(),s=r.fork(r.NO_SOURCE|r.NO_FIELDS),l=this.value,f=e.scale,h=W8(f,null==e.count?e.values?e.values.length:10:e.count,e.minstep),p=e.format||eu(a,f,h,e.formatSpecifier,e.formatType,!!e.values),v=e.values?nx(f,e.values,h):G8(f,h);return l&&(s.rem=l),l=v.map((_,y)=>$t({index:y/(v.length-1||1),value:_,label:p(_)})),e.extra&&l.length&&l.push($t({index:-1,extra:{value:l[0].value},label:""})),s.source=l,s.add=l,this.value=l,s}}),(0,E.XW)(Tp,te,{transform(e,r){var a=r.dataflow,s=r.fork(r.NO_SOURCE|r.NO_FIELDS),l=e.item||Su,f=e.key||Ne,d=this.value;return(0,E.kJ)(s.encode)&&(s.encode=null),d&&(e.modified("key")||r.modified(f))&&(0,E.vU)("DataJoin does not support modified key function or fields."),d||(r=r.addAll(),this.value=d=function(e){const r=(0,E.Xr)().test(a=>a.exit);return r.lookup=a=>r.get(e(a)),r}(f)),r.visit(r.ADD,h=>{const p=f(h);let v=d.get(p);v?v.exit?(d.empty--,s.add.push(v)):s.mod.push(v):(v=l(h),d.set(p,v),s.add.push(v)),v.datum=h,v.exit=!1}),r.visit(r.MOD,h=>{const p=f(h),v=d.get(p);v&&(v.datum=h,s.mod.push(v))}),r.visit(r.REM,h=>{const p=f(h),v=d.get(p);h===v.datum&&!v.exit&&(s.rem.push(v),v.exit=!0,++d.empty)}),r.changed(r.ADD_MOD)&&s.modifies("datum"),(r.clean()||e.clean&&d.empty>a.cleanThreshold)&&a.runAfter(d.clean),s}}),(0,E.XW)(bI,te,{transform(e,r){var a=r.fork(r.ADD_REM),s=e.mod||!1,l=e.encoders,f=r.encode;if((0,E.kJ)(f)){if(!a.changed()&&!f.every(y=>l[y]))return r.StopPropagation;f=f[0],a.encode=null}var d="enter"===f,h=l.update||E.k,p=l.enter||E.k,v=l.exit||E.k,_=(f&&!d?l[f]:h)||E.k;if(r.changed(r.ADD)&&(r.visit(r.ADD,y=>{p(y,e),h(y,e)}),a.modifies(p.output),a.modifies(h.output),_!==E.k&&_!==h&&(r.visit(r.ADD,y=>{_(y,e)}),a.modifies(_.output))),r.changed(r.REM)&&v!==E.k&&(r.visit(r.REM,y=>{v(y,e)}),a.modifies(v.output)),d||_!==E.k){const y=r.MOD|(e.modified()?r.REFLOW:0);d?(r.visit(y,C=>{const M=p(C,e)||s;(_(C,e)||M)&&a.mod.push(C)}),a.mod.length&&a.modifies(p.output)):r.visit(y,C=>{(_(C,e)||s)&&a.mod.push(C)}),a.mod.length&&a.modifies(_.output)}return a.changed()?a:r.StopPropagation}}),(0,E.XW)(Ud,te,{transform(e,r){if(null!=this.value&&!e.modified())return r.StopPropagation;var C,M,w,S,A,a=r.dataflow.locale(),s=r.fork(r.NO_SOURCE|r.NO_FIELDS),l=this.value,f=e.type||q8,d=e.scale,h=+e.limit,p=W8(d,null==e.count?5:e.count,e.minstep),_=e.format||sx(a,d,p,f,e.formatSpecifier,e.formatType,!!e.values||f===q8),y=e.values||ox(d,p);return l&&(s.rem=l),f===q8?(h&&y.length>h?(r.dataflow.warn("Symbol legend count exceeds limit, filtering items."),l=y.slice(0,h-1),A=!0):l=y,(0,E.mf)(w=e.size)?(!e.values&&0===d(l[0])&&(l=l.slice(1)),S=l.reduce((T,N)=>Math.max(T,w(N,e)),0)):w=(0,E.a9)(S=w||8),l=l.map((T,N)=>$t({index:N,label:_(T,N,l),value:T,offset:S,size:w(T,e)})),A&&(A=y[l.length],l.push($t({index:l.length,label:"\u2026".concat(y.length-l.length," entries"),value:A,offset:S,size:w(A,e)})))):"gradient"===f?(C=d.domain(),M=Sz(d,C[0],(0,E.fj)(C)),y.length<3&&!e.values&&C[0]!==(0,E.fj)(C)&&(y=[C[0],(0,E.fj)(C)]),l=y.map((T,N)=>$t({index:N,label:_(T,N,y),value:T,perc:M(T)}))):(w=y.length-1,M=function(e){const r=e.domain(),a=r.length-1;let s=+r[0],l=+(0,E.fj)(r),f=l-s;if(e.type===dt){const d=a?f/a:.1;s-=d,l+=d,f=l-s}return d=>(d-s)/f}(d),l=y.map((T,N)=>$t({index:N,label:_(T,N,y),value:T,perc:N?M(T):0,perc2:N===w?1:M(y[N+1])}))),s.source=l,s.add=l,this.value=l,s}});const fs=e=>e.source.x,PM=e=>e.source.y,hq=e=>e.target.x,mq=e=>e.target.y;function HM(e){te.call(this,{},e)}HM.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},(0,E.XW)(HM,te,{transform(e,r){var a=e.sourceX||fs,s=e.sourceY||PM,l=e.targetX||hq,f=e.targetY||mq,d=e.as||"path",p=e.shape||"line",v=Ip.get(p+"-"+(e.orient||"vertical"))||Ip.get(p);return v||(0,E.vU)("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),r.visit(r.SOURCE,_=>{_[d]=v(a(_),s(_),l(_),f(_))}),r.reflow(e.modified()).modifies(d)}});const BM=(e,r,a,s)=>"M"+e+","+r+"L"+a+","+s,zp=(e,r,a,s)=>{var l=a-e,f=s-r,d=Math.sqrt(l*l+f*f)/2;return"M"+e+","+r+"A"+d+","+d+" "+180*Math.atan2(f,l)/Math.PI+" 0 1 "+a+","+s},xI=(e,r,a,s)=>{const l=a-e,f=s-r,d=.2*(l+f),h=.2*(f-l);return"M"+e+","+r+"C"+(e+d)+","+(r+h)+" "+(a+h)+","+(s-d)+" "+a+","+s},Ip=(0,E.Xr)({line:BM,"line-radial":(e,r,a,s)=>BM(r*Math.cos(e),r*Math.sin(e),s*Math.cos(a),s*Math.sin(a)),arc:zp,"arc-radial":(e,r,a,s)=>zp(r*Math.cos(e),r*Math.sin(e),s*Math.cos(a),s*Math.sin(a)),curve:xI,"curve-radial":(e,r,a,s)=>xI(r*Math.cos(e),r*Math.sin(e),s*Math.cos(a),s*Math.sin(a)),"orthogonal-horizontal":(e,r,a,s)=>"M"+e+","+r+"V"+s+"H"+a,"orthogonal-vertical":(e,r,a,s)=>"M"+e+","+r+"H"+a+"V"+s,"orthogonal-radial":(e,r,a,s)=>{const l=Math.cos(e),f=Math.sin(e),d=Math.cos(a),h=Math.sin(a);return"M"+r*l+","+r*f+"A"+r+","+r+" 0 0,"+((Math.abs(a-e)>Math.PI?a<=e:a>e)?1:0)+" "+r*d+","+r*h+"L"+s*d+","+s*h},"diagonal-horizontal":(e,r,a,s)=>{const l=(e+a)/2;return"M"+e+","+r+"C"+l+","+r+" "+l+","+s+" "+a+","+s},"diagonal-vertical":(e,r,a,s)=>{const l=(r+s)/2;return"M"+e+","+r+"C"+e+","+l+" "+a+","+l+" "+a+","+s},"diagonal-radial":(e,r,a,s)=>{const l=Math.cos(e),f=Math.sin(e),d=Math.cos(a),h=Math.sin(a),p=(r+s)/2;return"M"+r*l+","+r*f+"C"+p*l+","+p*f+" "+p*d+","+p*h+" "+s*d+","+s*h}});function Lp(e){te.call(this,null,e)}function jM(e){return pm(e)&&e!==fn}Lp.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},(0,E.XW)(Lp,te,{transform(e,r){var w,S,A,a=e.as||["startAngle","endAngle"],s=a[0],l=a[1],d=e.startAngle||0,h=null!=e.endAngle?e.endAngle:2*Math.PI,p=r.source,v=p.map(e.field||E.kX),_=v.length,y=d,C=(h-d)/OM(v),M=ur(_);for(e.sort&&M.sort((T,N)=>v[T]-v[N]),w=0;w<_;++w)A=v[M[w]],(S=p[M[w]])[s]=y,S[l]=y+=A*C;return this.value=v,r.reflow(e.modified()).modifies(a)}});const UM=(0,E.Rg)(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function $M(e){te.call(this,null,e),this.modified(!0)}function qM(e,r,a){return GC(e)&&Math.abs(r.reduce((l,f)=>l+(f<0?-1:f>0?1:0),0))!==r.length&&a.warn("Log scale domain includes zero: "+(0,E.m8)(r)),r}function Op(e,r,a){return(0,E.mf)(e)&&(r||a)?function(e,r){const a=r[0],s=(0,E.fj)(r)-a;return function(l){return e(a+l*s)}}(e,$d(r||[0,1],a)):e}function $d(e,r){return r?e.slice().reverse():e}function WM(e){te.call(this,null,e)}(0,E.XW)($M,te,{transform(e,r){var a=r.dataflow,s=this.value,l=function(e){var s,r=e.type,a="";return r===fn?fn+"-"+Oc:(function(e){const r=e.type;return pm(r)&&r!==Pi&&r!==go&&(e.scheme||e.range&&e.range.length&&e.range.every(E.HD))}(e)&&(a=2===(s=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0)?fn+"-":3===s?F1+"-":""),(a+r||Oc).toLowerCase())}(e);for(l in(!s||l!==s.type)&&(this.value=s=Ht(l)()),e)if(!UM[l]){if("padding"===l&&jM(s.type))continue;(0,E.mf)(s[l])?s[l](e[l]):a.warn("Unsupported scale property: "+l)}return function(e,r,a){var s=e.type,l=r.round||!1,f=r.range;if(null!=r.rangeStep)f=function(e,r,a){return"band"!==e&&e!==c2&&(0,E.vU)("Only band and point scales support rangeStep."),[0,r.rangeStep*A0(a,e===c2?1:(null!=r.paddingInner?r.paddingInner:r.padding)||0,(null!=r.paddingOuter?r.paddingOuter:r.padding)||0)]}(s,r,a);else if(r.scheme&&(f=function(e,r,a){var f,s=r.schemeExtent;return(0,E.kJ)(r.scheme)?f=QC(r.scheme,r.interpolate,r.interpolateGamma):(f=zz(r.scheme.toLowerCase()))||(0,E.vU)("Unrecognized scheme name: ".concat(r.scheme)),a=e===dt?a+1:e===l2?a-1:e===Qa||e===hr?+r.schemeCount||5:a,YC(e)?Op(f,s,r.reverse):(0,E.mf)(f)?function(e,r){const a=new Array(r),s=r+1;for(let l=0;l<r;)a[l]=e(++l/s);return a}(Op(f,s),a):e===s2?f:f.slice(0,a)}(s,r,a),(0,E.mf)(f))){if(e.interpolator)return e.interpolator(f);(0,E.vU)("Scale type ".concat(s," does not support interpolating color schemes."))}if(f&&YC(s))return e.interpolator(QC($d(f,r.reverse),r.interpolate,r.interpolateGamma));f&&r.interpolate&&e.interpolate?e.interpolate(JC(r.interpolate,r.interpolateGamma)):(0,E.mf)(e.round)?e.round(l):(0,E.mf)(e.rangeRound)&&e.interpolate(l?M0:aa),f&&e.range($d(f,r.reverse))}(s,e,function(e,r,a){let s=r.bins;if(s&&!(0,E.kJ)(s)){const l=e.domain(),f=l[0],d=(0,E.fj)(l),h=s.step;let p=null==s.start?f:s.start,v=null==s.stop?d:s.stop;h||(0,E.vU)("Scale bins parameter missing step property."),p<f&&(p=h*Math.ceil(f/h)),v>d&&(v=h*Math.floor(d/h)),s=ur(p,v+h/2,h)}return s?e.bins=s:e.bins&&delete e.bins,e.type===l2&&(s?!r.domain&&!r.domainRaw&&(e.domain(s),a=s.length):e.bins=e.domain()),a}(s,e,function(e,r,a){const s=function(e,r,a){return r?(e.domain(qM(e.type,r,a)),r.length):-1}(e,r.domainRaw,a);if(s>-1)return s;var h,p,l=r.domain,f=e.type,d=r.zero||void 0===r.zero&&function(e){const r=e.type;return!e.bins&&(r===Oc||r===Q6||r===J6)}(e);if(!l)return 0;if(jM(f)&&r.padding&&l[0]!==(0,E.fj)(l)&&(l=function(e,r,a,s,l,f){var d=Math.abs((0,E.fj)(a)-a[0]),h=d/(d-2*s),p=e===o1?(0,E.dH)(r,null,h):e===J6?(0,E.mK)(r,null,h,.5):e===Q6?(0,E.mK)(r,null,h,l||1):e===T0?(0,E.bV)(r,null,h,f||1):(0,E.ay)(r,null,h);return(r=r.slice())[0]=p[0],r[r.length-1]=p[1],r}(f,l,r.range,r.padding,r.exponent,r.constant)),(d||null!=r.domainMin||null!=r.domainMax||null!=r.domainMid)&&(h=(l=l.slice()).length-1||1,d&&(l[0]>0&&(l[0]=0),l[h]<0&&(l[h]=0)),null!=r.domainMin&&(l[0]=r.domainMin),null!=r.domainMax&&(l[h]=r.domainMax),null!=r.domainMid)){const v=(p=r.domainMid)>l[h]?h+1:p<l[0]?0:h;v!==h&&a.warn("Scale domainMid exceeds domain min or max.",p),l.splice(v,0,p)}return e.domain(qM(f,l,a)),f===s2&&e.unknown(r.domainImplicit?eC:void 0),r.nice&&e.nice&&e.nice(!0!==r.nice&&W8(e,r.nice)||null),l.length}(s,e,a))),r.fork(r.NO_SOURCE|r.NO_FIELDS)}}),(0,E.XW)(WM,te,{transform(e,r){const a=e.modified("sort")||r.changed(r.ADD)||r.modified(e.sort.fields)||r.modified("datum");return a&&r.source.sort(gc(e.sort)),this.modified(a),r}});const GM="normalize",XM=["y0","y1"];function Au(e){te.call(this,null,e)}function YM(e,r,a,s,l){for(var p,f=(r-e.sum)/2,d=e.length,h=0;h<d;++h)(p=e[h])[s]=f,p[l]=f+=Math.abs(a(p))}function ZM(e,r,a,s,l){for(var _,f=1/e.sum,d=0,h=e.length,p=0,v=0;p<h;++p)(_=e[p])[s]=d,_[l]=d=f*(v+=Math.abs(a(_)))}function Hp(e,r,a,s,l){for(var v,_,f=0,d=0,h=e.length,p=0;p<h;++p)(v=+a(_=e[p]))<0?(_[s]=d,_[l]=d+=v):(_[s]=f,_[l]=f+=v)}Au.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center",GM]},{name:"as",type:"string",array:!0,length:2,default:XM}]},(0,E.XW)(Au,te,{transform(e,r){var p,v,_,y,a=e.as||XM,s=a[0],l=a[1],f=gc(e.sort),d=e.field||E.kX,h="center"===e.offset?YM:e.offset===GM?ZM:Hp;for(p=function(e,r,a,s){var d,h,p,v,_,y,C,M,w,l=[],f=S=>S(_);if(null==r)l.push(e.slice());else for(d={},h=0,p=e.length;h<p;++h)_=e[h],(C=d[y=r.map(f)])||(d[y]=C=[],l.push(C)),C.push(_);for(y=0,w=0,v=l.length;y<v;++y){for(h=0,M=0,p=(C=l[y]).length;h<p;++h)M+=Math.abs(s(C[h]));C.sum=M,M>w&&(w=M),a&&C.sort(a)}return l.max=w,l}(r.source,e.groupby,f,d),v=0,_=p.length,y=p.max;v<_;++v)h(p[v],y,d,s,l);return r.reflow(e.modified()).modifies(a)}});const vr=e=>e;function Wd(e,r){e&&KM.hasOwnProperty(e.type)&&KM[e.type](e,r)}var zI={Feature:function(e,r){Wd(e.geometry,r)},FeatureCollection:function(e,r){for(var a=e.features,s=-1,l=a.length;++s<l;)Wd(a[s].geometry,r)}},KM={Sphere:function(e,r){r.sphere()},Point:function(e,r){r.point((e=e.coordinates)[0],e[1],e[2])},MultiPoint:function(e,r){for(var a=e.coordinates,s=-1,l=a.length;++s<l;)r.point((e=a[s])[0],e[1],e[2])},LineString:function(e,r){QM(e.coordinates,r,0)},MultiLineString:function(e,r){for(var a=e.coordinates,s=-1,l=a.length;++s<l;)QM(a[s],r,0)},Polygon:function(e,r){JM(e.coordinates,r)},MultiPolygon:function(e,r){for(var a=e.coordinates,s=-1,l=a.length;++s<l;)JM(a[s],r)},GeometryCollection:function(e,r){for(var a=e.geometries,s=-1,l=a.length;++s<l;)Wd(a[s],r)}};function QM(e,r,a){var f,s=-1,l=e.length-a;for(r.lineStart();++s<l;)r.point((f=e[s])[0],f[1],f[2]);r.lineEnd()}function JM(e,r){var a=-1,s=e.length;for(r.polygonStart();++a<s;)QM(e[a],r,1);r.polygonEnd()}function ds(e,r){e&&zI.hasOwnProperty(e.type)?zI[e.type](e,r):Wd(e,r)}class Ai{constructor(){this._partials=new Float64Array(32),this._n=0}add(r){const a=this._partials;let s=0;for(let l=0;l<this._n&&l<32;l++){const f=a[l],d=r+f,h=Math.abs(r)<Math.abs(f)?r-(d-f):f-(d-r);h&&(a[s++]=h),r=d}return a[s]=r,this._n=s+1,this}valueOf(){const r=this._partials;let s,l,f,a=this._n,d=0;if(a>0){for(d=r[--a];a>0&&(s=d,l=r[--a],d=s+l,f=l-(d-s),!f););a>0&&(f<0&&r[a-1]<0||f>0&&r[a-1]>0)&&(l=2*f,s=d+l,l==s-d&&(d=s))}return d}}var Oe=1e-6,Gd=1e-12,yt=Math.PI,xn=yt/2,Xd=yt/4,Hr=2*yt,Nn=180/yt,pt=yt/180,Tt=Math.abs,K0=Math.atan,s1=Math.atan2,Le=Math.cos,Q0=Math.ceil,Bp=Math.exp,ew=(Math,Math.hypot),jp=Math.log,tw=Math.pow,Re=Math.sin,xo=Math.sign||function(e){return e>0?1:e<0?-1:0},Br=Math.sqrt,ku=Math.tan;function nw(e){return e>1?0:e<-1?yt:Math.acos(e)}function c1(e){return e>1?xn:e<-1?-xn:Math.asin(e)}function Bt(){}var NI,II,iw,qp,Up=new Ai,$p=new Ai,ga={point:Bt,lineStart:Bt,lineEnd:Bt,polygonStart:function(){ga.lineStart=ci,ga.lineEnd=rw},polygonEnd:function(){ga.lineStart=ga.lineEnd=ga.point=Bt,Up.add(Tt($p)),$p=new Ai},result:function(){var e=Up/2;return Up=new Ai,e}};function ci(){ga.point=Eq}function Eq(e,r){ga.point=Wp,NI=iw=e,II=qp=r}function Wp(e,r){$p.add(qp*e-iw*r),iw=e,qp=r}function rw(){Wp(NI,II)}const ow=ga;var hs=1/0,Yd=hs,Tu=-hs,zu=Tu,Zc={point:function(e,r){e<hs&&(hs=e),e>Tu&&(Tu=e),r<Yd&&(Yd=r),r>zu&&(zu=r)},lineStart:Bt,lineEnd:Bt,polygonStart:Bt,polygonEnd:Bt,result:function(){var e=[[hs,Yd],[Tu,zu]];return Tu=zu=-(Yd=hs=1/0),e}};const J0=Zc;var cw,LI,l1,va,Nu=0,Gp=0,D2=0,Zd=0,e4=0,Kc=0,Wn=0,sw=0,Iu=0,_a={point:t4,lineStart:Xp,lineEnd:lw,polygonStart:function(){_a.lineStart=VI,_a.lineEnd=uw},polygonEnd:function(){_a.point=t4,_a.lineStart=Xp,_a.lineEnd=lw},result:function(){var e=Iu?[Wn/Iu,sw/Iu]:Kc?[Zd/Kc,e4/Kc]:D2?[Nu/D2,Gp/D2]:[NaN,NaN];return Nu=Gp=D2=Zd=e4=Kc=Wn=sw=Iu=0,e}};function t4(e,r){Nu+=e,Gp+=r,++D2}function Xp(){_a.point=FI}function FI(e,r){_a.point=RI,t4(l1=e,va=r)}function RI(e,r){var a=e-l1,s=r-va,l=Br(a*a+s*s);Zd+=l*(l1+e)/2,e4+=l*(va+r)/2,Kc+=l,t4(l1=e,va=r)}function lw(){_a.point=t4}function VI(){_a.point=fw}function uw(){Yp(cw,LI)}function fw(e,r){_a.point=Yp,t4(cw=l1=e,LI=va=r)}function Yp(e,r){var a=e-l1,s=r-va,l=Br(a*a+s*s);Zd+=l*(l1+e)/2,e4+=l*(va+r)/2,Kc+=l,Wn+=(l=va*e-l1*r)*(l1+e),sw+=l*(va+r),Iu+=3*l,t4(l1=e,va=r)}const dw=_a;function hw(e){this._context=e}hw.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,r){switch(this._point){case 0:this._context.moveTo(e,r),this._point=1;break;case 1:this._context.lineTo(e,r);break;default:this._context.moveTo(e+this._radius,r),this._context.arc(e,r,this._radius,0,Hr)}},result:Bt};var Qc,mw,Zp,ya,Lu,Kd=new Ai,Qd={point:Bt,lineStart:function(){Qd.point=OI},lineEnd:function(){Qc&&pw(mw,Zp),Qd.point=Bt},polygonStart:function(){Qc=!0},polygonEnd:function(){Qc=null},result:function(){var e=+Kd;return Kd=new Ai,e}};function OI(e,r){Qd.point=pw,mw=ya=e,Zp=Lu=r}function pw(e,r){Kd.add(Br((ya-=e)*ya+(Lu-=r)*Lu)),ya=e,Lu=r}const PI=Qd;function gw(){this._string=[]}function vw(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function _w(e,r){var s,l,a=4.5;function f(d){return d&&("function"==typeof a&&l.pointRadius(+a.apply(this,arguments)),ds(d,s(l))),l.result()}return f.area=function(d){return ds(d,s(ow)),ow.result()},f.measure=function(d){return ds(d,s(PI)),PI.result()},f.bounds=function(d){return ds(d,s(J0)),J0.result()},f.centroid=function(d){return ds(d,s(dw)),dw.result()},f.projection=function(d){return arguments.length?(s=null==d?(e=null,vr):(e=d).stream,f):e},f.context=function(d){return arguments.length?(l=null==d?(r=null,new gw):new hw(r=d),"function"!=typeof a&&l.pointRadius(a),f):r},f.pointRadius=function(d){return arguments.length?(a="function"==typeof d?d:(l.pointRadius(+d),+d),f):a},f.projection(e).context(r)}function yw(){var r,e=[];return{point:function(a,s,l){r.push([a,s,l])},lineStart:function(){e.push(r=[])},lineEnd:Bt,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var a=e;return e=[],r=null,a}}}function Jd(e,r){return Tt(e[0]-r[0])<Oe&&Tt(e[1]-r[1])<Oe}function eh(e,r,a,s){this.x=e,this.z=r,this.o=a,this.e=s,this.v=!1,this.n=this.p=null}function bw(e,r,a,s,l){var h,p,f=[],d=[];if(e.forEach(function(w){if(!((S=w.length-1)<=0)){var S,N,A=w[0],T=w[S];if(Jd(A,T)){if(!A[2]&&!T[2]){for(l.lineStart(),h=0;h<S;++h)l.point((A=w[h])[0],A[1]);return void l.lineEnd()}T[0]+=2*Oe}f.push(N=new eh(A,w,null,!0)),d.push(N.o=new eh(A,null,N,!1)),f.push(N=new eh(T,w,null,!1)),d.push(N.o=new eh(T,null,N,!0))}}),f.length){for(d.sort(r),Cw(f),Cw(d),h=0,p=d.length;h<p;++h)d[h].e=a=!a;for(var _,y,v=f[0];;){for(var C=v,M=!0;C.v;)if((C=C.n)===v)return;_=C.z,l.lineStart();do{if(C.v=C.o.v=!0,C.e){if(M)for(h=0,p=_.length;h<p;++h)l.point((y=_[h])[0],y[1]);else s(C.x,C.n.x,1,l);C=C.n}else{if(M)for(h=(_=C.p.z).length-1;h>=0;--h)l.point((y=_[h])[0],y[1]);else s(C.x,C.p.x,-1,l);C=C.p}_=(C=C.o).z,M=!M}while(!C.v);l.lineEnd()}}}function Cw(e){if(r=e.length){for(var r,l,a=0,s=e[0];++a<r;)s.n=l=e[a],l.p=s,s=l;s.n=l=e[0],l.p=s}}function Jc(e){return[s1(e[1],e[0]),c1(e[2])]}function ba(e){var r=e[0],a=e[1],s=Le(a);return[s*Le(r),s*Re(r),Re(a)]}function Kp(e,r){return e[0]*r[0]+e[1]*r[1]+e[2]*r[2]}function Ca(e,r){return[e[1]*r[2]-e[2]*r[1],e[2]*r[0]-e[0]*r[2],e[0]*r[1]-e[1]*r[0]]}function Vt(e,r){e[0]+=r[0],e[1]+=r[1],e[2]+=r[2]}function Mo(e,r){return[e[0]*r,e[1]*r,e[2]*r]}function ms(e){var r=Br(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=r,e[1]/=r,e[2]/=r}function el(e){return Tt(e[0])<=yt?e[0]:xo(e[0])*((Tt(e[0])+yt)%Hr-yt)}function Qp(e){return Array.from(function*(e){for(const r of e)yield*r}(e))}function xw(e,r,a,s){return function(l){var v,_,y,f=r(l),d=yw(),h=r(d),p=!1,C={point:M,lineStart:S,lineEnd:A,polygonStart:function(){C.point=T,C.lineStart=N,C.lineEnd=I,_=[],v=[]},polygonEnd:function(){C.point=M,C.lineStart=S,C.lineEnd=A,_=Qp(_);var F=function(e,r){var a=el(r),s=r[1],l=Re(s),f=[Re(a),-Le(a),0],d=0,h=0,p=new Ai;1===l?s=xn+Oe:-1===l&&(s=-xn-Oe);for(var v=0,_=e.length;v<_;++v)if(C=(y=e[v]).length)for(var y,C,M=y[C-1],w=el(M),S=M[1]/2+Xd,A=Re(S),T=Le(S),N=0;N<C;++N,w=F,A=P,T=V,M=I){var I=y[N],F=el(I),O=I[1]/2+Xd,P=Re(O),V=Le(O),W=F-w,Y=W>=0?1:-1,q=Y*W,G=q>yt,re=A*P;if(p.add(s1(re*Y*Re(q),T*V+re*Le(q))),d+=G?W+Y*Hr:W,G^w>=a^F>=a){var ie=Ca(ba(M),ba(I));ms(ie);var fe=Ca(f,ie);ms(fe);var J=(G^W>=0?-1:1)*c1(fe[2]);(s>J||s===J&&(ie[0]||ie[1]))&&(h+=G^W>=0?1:-1)}}return(d<-Oe||d<Oe&&p<-Gd)^1&h}(v,s);_.length?(p||(l.polygonStart(),p=!0),bw(_,Mw,F,a,l)):F&&(p||(l.polygonStart(),p=!0),l.lineStart(),a(null,null,1,l),l.lineEnd()),p&&(l.polygonEnd(),p=!1),_=v=null},sphere:function(){l.polygonStart(),l.lineStart(),a(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function M(F,O){e(F,O)&&l.point(F,O)}function w(F,O){f.point(F,O)}function S(){C.point=w,f.lineStart()}function A(){C.point=M,f.lineEnd()}function T(F,O){y.push([F,O]),h.point(F,O)}function N(){h.lineStart(),y=[]}function I(){T(y[0][0],y[0][1]),h.lineEnd();var P,W,Y,q,F=h.clean(),O=d.result(),V=O.length;if(y.pop(),v.push(y),y=null,V){if(1&F){if((W=(Y=O[0]).length-1)>0){for(p||(l.polygonStart(),p=!0),l.lineStart(),P=0;P<W;++P)l.point((q=Y[P])[0],q[1]);l.lineEnd()}return}V>1&&2&F&&O.push(O.pop().concat(O.shift())),_.push(O.filter(HI))}}return C}}function HI(e){return e.length>1}function Mw(e,r){return((e=e.x)[0]<0?e[1]-xn-Oe:xn-e[1])-((r=r.x)[0]<0?r[1]-xn-Oe:xn-r[1])}gw.prototype={_radius:4.5,_circle:vw(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,r){switch(this._point){case 0:this._string.push("M",e,",",r),this._point=1;break;case 1:this._string.push("L",e,",",r);break;default:null==this._circle&&(this._circle=vw(this._radius)),this._string.push("M",e,",",r,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};const ww=xw(function(){return!0},function(e){var l,r=NaN,a=NaN,s=NaN;return{lineStart:function(){e.lineStart(),l=1},point:function(f,d){var h=f>0?yt:-yt,p=Tt(f-r);Tt(p-yt)<Oe?(e.point(r,a=(a+d)/2>0?xn:-xn),e.point(s,a),e.lineEnd(),e.lineStart(),e.point(h,a),e.point(f,a),l=0):s!==h&&p>=yt&&(Tt(r-s)<Oe&&(r-=s*Oe),Tt(f-h)<Oe&&(f-=h*Oe),a=function(e,r,a,s){var l,f,d=Re(e-a);return Tt(d)>Oe?K0((Re(r)*(f=Le(s))*Re(a)-Re(s)*(l=Le(r))*Re(e))/(l*f*d)):(r+s)/2}(r,a,f,d),e.point(s,a),e.lineEnd(),e.lineStart(),e.point(h,a),l=0),e.point(r=f,a=d),s=h},lineEnd:function(){e.lineEnd(),r=a=NaN},clean:function(){return 2-l}}},function(e,r,a,s){var l;if(null==e)s.point(-yt,l=a*xn),s.point(0,l),s.point(yt,l),s.point(yt,0),s.point(yt,-l),s.point(0,-l),s.point(-yt,-l),s.point(-yt,0),s.point(-yt,l);else if(Tt(e[0]-r[0])>Oe){var f=e[0]<r[0]?yt:-yt;s.point(-f,l=a*f/2),s.point(0,l),s.point(f,l)}else s.point(r[0],r[1])},[-yt,-xn]);function eg(e,r){(r=ba(r))[0]-=e,ms(r);var a=nw(-r[1]);return((-r[2]<0?-a:a)+Hr-Oe)%Hr}function Sq(e){var r=Le(e),a=6*pt,s=r>0,l=Tt(r)>Oe;function d(_,y){return Le(_)*Le(y)>r}function p(_,y,C){var S=[1,0,0],A=Ca(ba(_),ba(y)),T=Kp(A,A),N=A[0],I=T-N*N;if(!I)return!C&&_;var F=r*T/I,O=-r*N/I,P=Ca(S,A),V=Mo(S,F);Vt(V,Mo(A,O));var Y=P,q=Kp(V,Y),G=Kp(Y,Y),re=q*q-G*(Kp(V,V)-1);if(!(re<0)){var ie=Br(re),fe=Mo(Y,(-q-ie)/G);if(Vt(fe,V),fe=Jc(fe),!C)return fe;var $e,J=_[0],ue=y[0],ye=_[1],De=y[1];ue<J&&($e=J,J=ue,ue=$e);var xt=ue-J,hn=Tt(xt-yt)<Oe;if(!hn&&De<ye&&($e=ye,ye=De,De=$e),hn||xt<Oe?hn?ye+De>0^fe[1]<(Tt(fe[0]-J)<Oe?ye:De):ye<=fe[1]&&fe[1]<=De:xt>yt^(J<=fe[0]&&fe[0]<=ue)){var Er=Mo(Y,(-q+ie)/G);return Vt(Er,V),[fe,Jc(Er)]}}}function v(_,y){var C=s?e:yt-e,M=0;return _<-C?M|=1:_>C&&(M|=2),y<-C?M|=4:y>C&&(M|=8),M}return xw(d,function(_){var y,C,M,w,S;return{lineStart:function(){w=M=!1,S=1},point:function(A,T){var I,N=[A,T],F=d(A,T),O=s?F?0:v(A,T):F?v(A+(A<0?yt:-yt),T):0;if(!y&&(w=M=F)&&_.lineStart(),F!==M&&(!(I=p(y,N))||Jd(y,I)||Jd(N,I))&&(N[2]=1),F!==M)S=0,F?(_.lineStart(),I=p(N,y),_.point(I[0],I[1])):(I=p(y,N),_.point(I[0],I[1],2),_.lineEnd()),y=I;else if(l&&y&&s^F){var P;!(O&C)&&(P=p(N,y,!0))&&(S=0,s?(_.lineStart(),_.point(P[0][0],P[0][1]),_.point(P[1][0],P[1][1]),_.lineEnd()):(_.point(P[1][0],P[1][1]),_.lineEnd(),_.lineStart(),_.point(P[0][0],P[0][1],3)))}F&&(!y||!Jd(y,N))&&_.point(N[0],N[1]),y=N,M=F,C=O},lineEnd:function(){M&&_.lineEnd(),y=null},clean:function(){return S|(w&&M)<<1}}},function(_,y,C,M){!function(e,r,a,s,l,f){if(a){var d=Le(r),h=Re(r),p=s*a;null==l?(l=r+s*Hr,f=r-p/2):(l=eg(d,l),f=eg(d,f),(s>0?l<f:l>f)&&(l+=s*Hr));for(var v,_=l;s>0?_>f:_<f;_-=p)v=Jc([d,-h*Le(_),-h*Re(_)]),e.point(v[0],v[1])}}(M,e,a,C,_,y)},s?[0,-e]:[-yt,e-yt])}var Fu=1e9,_r=-Fu;function pn(e,r,a,s){function l(v,_){return e<=v&&v<=a&&r<=_&&_<=s}function f(v,_,y,C){var M=0,w=0;if(null==v||(M=d(v,y))!==(w=d(_,y))||p(v,_)<0^y>0)do{C.point(0===M||3===M?e:a,M>1?s:r)}while((M=(M+y+4)%4)!==w);else C.point(_[0],_[1])}function d(v,_){return Tt(v[0]-e)<Oe?_>0?0:3:Tt(v[0]-a)<Oe?_>0?2:1:Tt(v[1]-r)<Oe?_>0?1:0:_>0?3:2}function h(v,_){return p(v.x,_.x)}function p(v,_){var y=d(v,1),C=d(_,1);return y!==C?y-C:0===y?_[1]-v[1]:1===y?v[0]-_[0]:2===y?v[1]-_[1]:_[0]-v[0]}return function(v){var C,M,w,S,A,T,N,I,F,O,P,_=v,y=yw(),V={point:W,lineStart:function(){V.point=fe,M&&M.push(w=[]),O=!0,F=!1,N=I=NaN},lineEnd:function(){C&&(fe(S,A),T&&F&&y.rejoin(),C.push(y.result())),V.point=W,F&&_.lineEnd()},polygonStart:function(){_=y,C=[],M=[],P=!0},polygonEnd:function(){var J=function(){for(var J=0,ue=0,ye=M.length;ue<ye;++ue)for(var vn,Er,De=M[ue],$e=1,xt=De.length,hn=De[0],Zi=hn[0],Y1=hn[1];$e<xt;++$e)vn=Zi,Er=Y1,Zi=(hn=De[$e])[0],Y1=hn[1],Er<=s?Y1>s&&(Zi-vn)*(s-Er)>(Y1-Er)*(e-vn)&&++J:Y1<=s&&(Zi-vn)*(s-Er)<(Y1-Er)*(e-vn)&&--J;return J}(),ue=P&&J,ye=(C=Qp(C)).length;(ue||ye)&&(v.polygonStart(),ue&&(v.lineStart(),f(null,null,1,v),v.lineEnd()),ye&&bw(C,h,J,f,v),v.polygonEnd()),_=v,C=M=w=null}};function W(J,ue){l(J,ue)&&_.point(J,ue)}function fe(J,ue){var ye=l(J,ue);if(M&&w.push([J,ue]),O)S=J,A=ue,T=ye,O=!1,ye&&(_.lineStart(),_.point(J,ue));else if(ye&&F)_.point(J,ue);else{var De=[N=Math.max(_r,Math.min(Fu,N)),I=Math.max(_r,Math.min(Fu,I))],$e=[J=Math.max(_r,Math.min(Fu,J)),ue=Math.max(_r,Math.min(Fu,ue))];!function(e,r,a,s,l,f){var w,d=e[0],h=e[1],_=0,y=1,C=r[0]-d,M=r[1]-h;if(w=a-d,C||!(w>0)){if(w/=C,C<0){if(w<_)return;w<y&&(y=w)}else if(C>0){if(w>y)return;w>_&&(_=w)}if(w=l-d,C||!(w<0)){if(w/=C,C<0){if(w>y)return;w>_&&(_=w)}else if(C>0){if(w<_)return;w<y&&(y=w)}if(w=s-h,M||!(w>0)){if(w/=M,M<0){if(w<_)return;w<y&&(y=w)}else if(M>0){if(w>y)return;w>_&&(_=w)}if(w=f-h,M||!(w<0)){if(w/=M,M<0){if(w>y)return;w>_&&(_=w)}else if(M>0){if(w<_)return;w<y&&(y=w)}return _>0&&(e[0]=d+_*C,e[1]=h+_*M),y<1&&(r[0]=d+y*C,r[1]=h+y*M),!0}}}}}(De,$e,e,r,a,s)?ye&&(_.lineStart(),_.point(J,ue),P=!1):(F||(_.lineStart(),_.point(De[0],De[1])),_.point($e[0],$e[1]),ye||_.lineEnd(),P=!1)}N=J,I=ue,F=ye}return V}}function u1(e,r){function a(s,l){return s=e(s,l),r(s[0],s[1])}return e.invert&&r.invert&&(a.invert=function(s,l){return(s=r.invert(s,l))&&e.invert(s[0],s[1])}),a}function th(e,r){return[Tt(e)>yt?e+Math.round(-e/Hr)*Hr:e,r]}function Dw(e,r,a){return(e%=Hr)?r||a?u1(nh(e),tl(r,a)):nh(e):r||a?tl(r,a):th}function tg(e){return function(r,a){return[(r+=e)>yt?r-Hr:r<-yt?r+Hr:r,a]}}function nh(e){var r=tg(e);return r.invert=tg(-e),r}function tl(e,r){var a=Le(e),s=Re(e),l=Le(r),f=Re(r);function d(h,p){var v=Le(p),_=Le(h)*v,y=Re(h)*v,C=Re(p),M=C*a+_*s;return[s1(y*l-M*f,_*a-C*s),c1(M*l+y*f)]}return d.invert=function(h,p){var v=Le(p),_=Le(h)*v,y=Re(h)*v,C=Re(p),M=C*l-y*f;return[s1(y*l+C*f,_*a+M*s),c1(M*a-_*s)]},d}function wo(e){return function(r){var a=new ng;for(var s in e)a[s]=e[s];return a.stream=r,a}}function ng(){}function ih(e,r,a){var s=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=s&&e.clipExtent(null),ds(a,e.stream(J0)),r(J0.result()),null!=s&&e.clipExtent(s),e}function n4(e,r,a){return ih(e,function(s){var l=r[1][0]-r[0][0],f=r[1][1]-r[0][1],d=Math.min(l/(s[1][0]-s[0][0]),f/(s[1][1]-s[0][1])),h=+r[0][0]+(l-d*(s[1][0]+s[0][0]))/2,p=+r[0][1]+(f-d*(s[1][1]+s[0][1]))/2;e.scale(150*d).translate([h,p])},a)}function nl(e,r,a){return n4(e,[[0,0],r],a)}function Vu(e,r,a){return ih(e,function(s){var l=+r,f=l/(s[1][0]-s[0][0]),d=(l-f*(s[1][0]+s[0][0]))/2,h=-f*s[0][1];e.scale(150*f).translate([d,h])},a)}function rh(e,r,a){return ih(e,function(s){var l=+r,f=l/(s[1][1]-s[0][1]),d=-f*s[0][0],h=(l-f*(s[1][1]+s[0][1]))/2;e.scale(150*f).translate([d,h])},a)}th.invert=th,ng.prototype={constructor:ng,point:function(e,r){this.stream.point(e,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var UI=Le(30*pt);function Ou(e,r){return+r?function(e,r){function a(s,l,f,d,h,p,v,_,y,C,M,w,S,A){var T=v-s,N=_-l,I=T*T+N*N;if(I>4*r&&S--){var F=d+C,O=h+M,P=p+w,V=Br(F*F+O*O+P*P),W=c1(P/=V),Y=Tt(Tt(P)-1)<Oe||Tt(f-y)<Oe?(f+y)/2:s1(O,F),q=e(Y,W),G=q[0],re=q[1],ie=G-s,fe=re-l,J=N*ie-T*fe;(J*J/I>r||Tt((T*ie+N*fe)/I-.5)>.3||d*C+h*M+p*w<UI)&&(a(s,l,f,d,h,p,G,re,Y,F/=V,O/=V,P,S,A),A.point(G,re),a(G,re,Y,F,O,P,v,_,y,C,M,w,S,A))}}return function(s){var l,f,d,h,p,v,_,y,C,M,w,S,A={point:T,lineStart:N,lineEnd:F,polygonStart:function(){s.polygonStart(),A.lineStart=O},polygonEnd:function(){s.polygonEnd(),A.lineStart=N}};function T(W,Y){W=e(W,Y),s.point(W[0],W[1])}function N(){y=NaN,A.point=I,s.lineStart()}function I(W,Y){var q=ba([W,Y]),G=e(W,Y);a(y,C,_,M,w,S,y=G[0],C=G[1],_=W,M=q[0],w=q[1],S=q[2],16,s),s.point(y,C)}function F(){A.point=T,s.lineEnd()}function O(){N(),A.point=P,A.lineEnd=V}function P(W,Y){I(l=W,Y),f=y,d=C,h=M,p=w,v=S,A.point=I}function V(){a(y,C,_,M,w,S,f,d,l,h,p,v,16,s),A.lineEnd=F,F()}return A}}(e,r):function(e){return wo({point:function(r,a){r=e(r,a),this.stream.point(r[0],r[1])}})}(e)}var kw=wo({point:function(e,r){this.stream.point(e*pt,r*pt)}});function ah(e,r,a,s,l,f){if(!f)return function(e,r,a,s,l){function f(d,h){return[r+e*(d*=s),a-e*(h*=l)]}return f.invert=function(d,h){return[(d-r)/e*s,(a-h)/e*l]},f}(e,r,a,s,l);var d=Le(f),h=Re(f),p=d*e,v=h*e,_=d/e,y=h/e,C=(h*a-d*r)/e,M=(h*r+d*a)/e;function w(S,A){return[p*(S*=s)-v*(A*=l)+r,a-v*S-p*A]}return w.invert=function(S,A){return[s*(_*S-y*A+C),l*(M-y*S-_*A)]},w}function B1(e){return qI(function(){return e})()}function qI(e){var r,_,T,N,I,P,V,W,Y,q,a=150,s=480,l=250,f=0,d=0,h=0,p=0,v=0,y=0,C=1,M=1,w=null,S=ww,A=null,F=vr,O=.5;function G(J){return W(J[0]*pt,J[1]*pt)}function re(J){return(J=W.invert(J[0],J[1]))&&[J[0]*Nn,J[1]*Nn]}function ie(){var J=ah(a,0,0,C,M,y).apply(null,r(f,d)),ue=ah(a,s-J[0],l-J[1],C,M,y);return _=Dw(h,p,v),V=u1(r,ue),W=u1(_,V),P=Ou(V,O),fe()}function fe(){return Y=q=null,G}return G.stream=function(J){return Y&&q===J?Y:Y=kw(function(e){return wo({point:function(r,a){var s=e(r,a);return this.stream.point(s[0],s[1])}})}(_)(S(P(F(q=J)))))},G.preclip=function(J){return arguments.length?(S=J,w=void 0,fe()):S},G.postclip=function(J){return arguments.length?(F=J,A=T=N=I=null,fe()):F},G.clipAngle=function(J){return arguments.length?(S=+J?Sq(w=J*pt):(w=null,ww),fe()):w*Nn},G.clipExtent=function(J){return arguments.length?(F=null==J?(A=T=N=I=null,vr):pn(A=+J[0][0],T=+J[0][1],N=+J[1][0],I=+J[1][1]),fe()):null==A?null:[[A,T],[N,I]]},G.scale=function(J){return arguments.length?(a=+J,ie()):a},G.translate=function(J){return arguments.length?(s=+J[0],l=+J[1],ie()):[s,l]},G.center=function(J){return arguments.length?(f=J[0]%360*pt,d=J[1]%360*pt,ie()):[f*Nn,d*Nn]},G.rotate=function(J){return arguments.length?(h=J[0]%360*pt,p=J[1]%360*pt,v=J.length>2?J[2]%360*pt:0,ie()):[h*Nn,p*Nn,v*Nn]},G.angle=function(J){return arguments.length?(y=J%360*pt,ie()):y*Nn},G.reflectX=function(J){return arguments.length?(C=J?-1:1,ie()):C<0},G.reflectY=function(J){return arguments.length?(M=J?-1:1,ie()):M<0},G.precision=function(J){return arguments.length?(P=Ou(V,O=J*J),fe()):Br(O)},G.fitExtent=function(J,ue){return n4(G,J,ue)},G.fitSize=function(J,ue){return nl(G,J,ue)},G.fitWidth=function(J,ue){return Vu(G,J,ue)},G.fitHeight=function(J,ue){return rh(G,J,ue)},function(){return r=e.apply(this,arguments),G.invert=r.invert&&re,ie()}}function Tw(e){var r=0,a=yt/3,s=qI(e),l=s(r,a);return l.parallels=function(f){return arguments.length?s(r=f[0]*pt,a=f[1]*pt):[r*Nn,a*Nn]},l}function kq(e,r){var a=Re(e),s=(a+Re(r))/2;if(Tt(s)<Oe)return function(e){var r=Le(e);function a(s,l){return[s*r,Re(l)/r]}return a.invert=function(s,l){return[s/r,c1(l*r)]},a}(e);var l=1+a*(2*s-a),f=Br(l)/s;function d(h,p){var v=Br(l-2*s*Re(p))/s;return[v*Re(h*=s),f-v*Le(h)]}return d.invert=function(h,p){var v=f-p,_=s1(h,Tt(v))*xo(v);return v*s<0&&(_-=yt*xo(h)*xo(v)),[_/s,c1((l-(h*h+v*v)*s*s)/(2*s))]},d}function ig(){return Tw(kq).scale(155.424).center([0,33.6442])}function WI(){return ig().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function zw(e){return function(r,a){var s=Le(r),l=Le(a),f=e(s*l);return f===1/0?[2,0]:[f*l*Re(r),f*Re(a)]}}function Pu(e){return function(r,a){var s=Br(r*r+a*a),l=e(s),f=Re(l),d=Le(l);return[s1(r*f,s*d),c1(s&&a*f/s)]}}var Nw=zw(function(e){return Br(2/(1+e))});Nw.invert=Pu(function(e){return 2*c1(e/2)});var Iw=zw(function(e){return(e=nw(e))&&e/Re(e)});function sh(e,r){return[e,jp(ku((xn+r)/2))]}function i4(e){var h,p,v,r=B1(e),a=r.center,s=r.scale,l=r.translate,f=r.clipExtent,d=null;function _(){var y=yt*s(),C=r(function(e){function r(a){return(a=e(a[0]*pt,a[1]*pt))[0]*=Nn,a[1]*=Nn,a}return e=Dw(e[0]*pt,e[1]*pt,e.length>2?e[2]*pt:0),r.invert=function(a){return(a=e.invert(a[0]*pt,a[1]*pt))[0]*=Nn,a[1]*=Nn,a},r}(r.rotate()).invert([0,0]));return f(null==d?[[C[0]-y,C[1]-y],[C[0]+y,C[1]+y]]:e===sh?[[Math.max(C[0]-y,d),h],[Math.min(C[0]+y,p),v]]:[[d,Math.max(C[1]-y,h)],[p,Math.min(C[1]+y,v)]])}return r.scale=function(y){return arguments.length?(s(y),_()):s()},r.translate=function(y){return arguments.length?(l(y),_()):l()},r.center=function(y){return arguments.length?(a(y),_()):a()},r.clipExtent=function(y){return arguments.length?(null==y?d=h=p=v=null:(d=+y[0][0],h=+y[0][1],p=+y[1][0],v=+y[1][1]),_()):null==d?null:[[d,h],[p,v]]},_()}function ch(e){return ku((xn+e)/2)}function KI(e,r){var a=Le(e),s=e===r?Re(e):jp(a/Le(r))/jp(ch(r)/ch(e)),l=a*tw(ch(e),s)/s;if(!s)return sh;function f(d,h){l>0?h<-xn+Oe&&(h=-xn+Oe):h>xn-Oe&&(h=xn-Oe);var p=l/tw(ch(h),s);return[p*Re(s*d),l-p*Le(s*d)]}return f.invert=function(d,h){var p=l-h,v=xo(s)*Br(d*d+p*p),_=s1(d,Tt(p))*xo(p);return p*s<0&&(_-=yt*xo(d)*xo(p)),[_/s,2*K0(tw(l/v,1/s))-xn]},f}function rg(e,r){return[e,r]}function JI(e,r){var a=Le(e),s=e===r?Re(e):(a-Le(r))/(r-e),l=a/s+e;if(Tt(s)<Oe)return rg;function f(d,h){var p=l-h,v=s*d;return[p*Re(v),l-p*Le(v)]}return f.invert=function(d,h){var p=l-h,v=s1(d,Tt(p))*xo(p);return p*s<0&&(v-=yt*xo(d)*xo(p)),[v/s,l-xo(s)*Br(d*d+p*p)]},f}Iw.invert=Pu(function(e){return e}),sh.invert=function(e,r){return[e,2*K0(Bp(r))-xn]},rg.invert=rg;var Hu=1.340264,Bu=-.081106,rl=893e-6,ju=.003796,lh=Br(3)/2;function Lw(e,r){var a=c1(lh*Re(r)),s=a*a,l=s*s*s;return[e*Le(a)/(lh*(Hu+3*Bu*s+l*(7*rl+9*ju*s))),a*(Hu+Bu*s+l*(rl+ju*s))]}function Fw(e,r){var a=Le(r),s=Le(e)*a;return[a*Re(e)/s,Re(r)/s]}function Rw(e,r){var a=r*r,s=a*a;return[e*(.8707-.131979*a+s*(s*(.003971*a-.001529*s)-.013791)),r*(1.007226+a*(.015085+s*(.028874*a-.044475-.005916*s)))]}function uh(e,r){return[Le(r)*Re(e),Re(r)]}function rL(e,r){var a=Le(r),s=1+Le(e)*a;return[a*Re(e)/s,Re(r)/s]}function Ow(e,r){return[jp(ku((xn+r)/2)),-e]}Lw.invert=function(e,r){for(var d,a=r,s=a*a,l=s*s*s,f=0;f<12&&(l=(s=(a-=d=(a*(Hu+Bu*s+l*(rl+ju*s))-r)/(Hu+3*Bu*s+l*(7*rl+9*ju*s)))*a)*s*s,!(Tt(d)<Gd));++f);return[lh*e*(Hu+3*Bu*s+l*(7*rl+9*ju*s))/Le(a),c1(Re(a)/lh)]},Fw.invert=Pu(K0),Rw.invert=function(e,r){var l,a=r,s=25;do{var f=a*a,d=f*f;a-=l=(a*(1.007226+f*(.015085+d*(.028874*f-.044475-.005916*d)))-r)/(1.007226+f*(.045255+d*(.259866*f-.311325-.005916*11*d)))}while(Tt(l)>Oe&&--s>0);return[e/(.8707+(f=a*a)*(f*(f*f*f*(.003971-.001529*f)-.013791)-.131979)),a]},uh.invert=Pu(c1),rL.invert=Pu(function(e){return 2*K0(e)}),Ow.invert=function(e,r){return[-r,2*K0(Bp(e))-xn]};var sL=Math.abs,ag=(Math,Math,Math,Math.cos),dh=(Math,Math,Math,Math,Math,Math,Math,Math,Math.sin),A2=(Math,Math.PI),Hw=A2/2,hh=(Math,o4(2));function Bw(e){return e>1?Hw:e<-1?-Hw:Math.asin(e)}function o4(e){return e>0?Math.sqrt(e):0}function dL(e,r){var l,a=e*dh(r),s=30;do{r-=l=(r+dh(r)-a)/(1+ag(r))}while(sL(l)>1e-6&&--s>0);return r/2}o4(A2);var $q=function(e,r,a){function s(l,f){return[e*l*ag(f=dL(a,f)),r*dh(f)]}return s.invert=function(l,f){return f=Bw(f/r),[l/(e*ag(f)),Bw((2*f+dh(2*f))/a)]},s}(hh/Hw,hh,A2);const mL=_w(),sg=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function $u(e,r){return function a(){const s=r();return s.type=e,s.path=_w().projection(s),s.copy=s.copy||function(){const l=a();return sg.forEach(f=>{s[f]&&l[f](s[f]())}),l.path.pointRadius(s.path.pointRadius()),l},s}}function cg(e,r){if(!e||"string"!=typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(mh[e]=$u(e,r),this):mh[e]||null}function pL(e){return e&&e.path||mL}const mh={albers:WI,albersusa:function(){var e,r,s,f,h,p,a=WI(),l=ig().rotate([154,0]).center([-2,58.5]).parallels([55,65]),d=ig().rotate([157,0]).center([-3,19.9]).parallels([8,18]),v={point:function(C,M){p=[C,M]}};function _(C){var M=C[0],w=C[1];return p=null,s.point(M,w),p||(f.point(M,w),p)||(h.point(M,w),p)}function y(){return e=r=null,_}return _.invert=function(C){var M=a.scale(),w=a.translate(),S=(C[0]-w[0])/M,A=(C[1]-w[1])/M;return(A>=.12&&A<.234&&S>=-.425&&S<-.214?l:A>=.166&&A<.234&&S>=-.214&&S<-.115?d:a).invert(C)},_.stream=function(C){return e&&r===C?e:e=function(e){var r=e.length;return{point:function(a,s){for(var l=-1;++l<r;)e[l].point(a,s)},sphere:function(){for(var a=-1;++a<r;)e[a].sphere()},lineStart:function(){for(var a=-1;++a<r;)e[a].lineStart()},lineEnd:function(){for(var a=-1;++a<r;)e[a].lineEnd()},polygonStart:function(){for(var a=-1;++a<r;)e[a].polygonStart()},polygonEnd:function(){for(var a=-1;++a<r;)e[a].polygonEnd()}}}([a.stream(r=C),l.stream(C),d.stream(C)])},_.precision=function(C){return arguments.length?(a.precision(C),l.precision(C),d.precision(C),y()):a.precision()},_.scale=function(C){return arguments.length?(a.scale(C),l.scale(.35*C),d.scale(C),_.translate(a.translate())):a.scale()},_.translate=function(C){if(!arguments.length)return a.translate();var M=a.scale(),w=+C[0],S=+C[1];return s=a.translate(C).clipExtent([[w-.455*M,S-.238*M],[w+.455*M,S+.238*M]]).stream(v),f=l.translate([w-.307*M,S+.201*M]).clipExtent([[w-.425*M+Oe,S+.12*M+Oe],[w-.214*M-Oe,S+.234*M-Oe]]).stream(v),h=d.translate([w-.205*M,S+.212*M]).clipExtent([[w-.214*M+Oe,S+.166*M+Oe],[w-.115*M-Oe,S+.234*M-Oe]]).stream(v),y()},_.fitExtent=function(C,M){return n4(_,C,M)},_.fitSize=function(C,M){return nl(_,C,M)},_.fitWidth=function(C,M){return Vu(_,C,M)},_.fitHeight=function(C,M){return rh(_,C,M)},_.scale(1070)},azimuthalequalarea:function(){return B1(Nw).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return B1(Iw).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return Tw(KI).scale(109.5).parallels([30,30])},conicequalarea:ig,conicequidistant:function(){return Tw(JI).scale(131.154).center([0,13.9389])},equalEarth:function(){return B1(Lw).scale(177.158)},equirectangular:function(){return B1(rg).scale(152.63)},gnomonic:function(){return B1(Fw).scale(144.049).clipAngle(60)},identity:function(){var d,h,v,_,y,A,T,e=1,r=0,a=0,s=1,l=1,f=0,p=null,C=1,M=1,w=wo({point:function(F,O){var P=I([F,O]);this.stream.point(P[0],P[1])}}),S=vr;function N(){return C=e*s,M=e*l,A=T=null,I}function I(F){var O=F[0]*C,P=F[1]*M;if(f){var V=P*d-O*h;O=O*d+P*h,P=V}return[O+r,P+a]}return I.invert=function(F){var O=F[0]-r,P=F[1]-a;if(f){var V=P*d+O*h;O=O*d-P*h,P=V}return[O/C,P/M]},I.stream=function(F){return A&&T===F?A:A=w(S(T=F))},I.postclip=function(F){return arguments.length?(S=F,p=v=_=y=null,N()):S},I.clipExtent=function(F){return arguments.length?(S=null==F?(p=v=_=y=null,vr):pn(p=+F[0][0],v=+F[0][1],_=+F[1][0],y=+F[1][1]),N()):null==p?null:[[p,v],[_,y]]},I.scale=function(F){return arguments.length?(e=+F,N()):e},I.translate=function(F){return arguments.length?(r=+F[0],a=+F[1],N()):[r,a]},I.angle=function(F){return arguments.length?(h=Re(f=F%360*pt),d=Le(f),N()):f*Nn},I.reflectX=function(F){return arguments.length?(s=F?-1:1,N()):s<0},I.reflectY=function(F){return arguments.length?(l=F?-1:1,N()):l<0},I.fitExtent=function(F,O){return n4(I,F,O)},I.fitSize=function(F,O){return nl(I,F,O)},I.fitWidth=function(F,O){return Vu(I,F,O)},I.fitHeight=function(F,O){return rh(I,F,O)},I},mercator:function(){return i4(sh).scale(961/Hr)},mollweide:function(){return B1($q).scale(169.529)},naturalEarth1:function(){return B1(Rw).scale(175.295)},orthographic:function(){return B1(uh).scale(249.5).clipAngle(90+Oe)},stereographic:function(){return B1(rL).scale(250).clipAngle(142)},transversemercator:function(){var e=i4(Ow),r=e.center,a=e.rotate;return e.center=function(s){return arguments.length?r([-s[1],s[0]]):[(s=r())[1],-s[0]]},e.rotate=function(s){return arguments.length?a([s[0],s[1],s.length>2?s[2]+90:90]):[(s=a())[0],s[1],s[2]-90]},a([0,0,90]).scale(159.155)}};for(const e in mh)cg(e,mh[e]);function gL(e,r,a){var s=ur(e,r-Oe,a).concat(r);return function(l){return s.map(function(f){return[l,f]})}}function vL(e,r,a){var s=ur(e,r-Oe,a).concat(r);return function(l){return s.map(function(f){return[f,l]})}}function yL(){}const ps=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function qw(){var e=1,r=1,a=h;function s(p,v){return v.map(_=>l(p,_))}function l(p,v){var _=[],y=[];return function(p,v,_){var M,w,A,T,N,y=new Array,C=new Array;for(M=w=-1,ps[(A=p[0]>=v)<<1].forEach(I);++M<e-1;)ps[A|(A=p[M+1]>=v)<<1].forEach(I);for(ps[A<<0].forEach(I);++w<r-1;){for(M=-1,ps[(A=p[w*e+e]>=v)<<1|(T=p[w*e]>=v)<<2].forEach(I);++M<e-1;)N=T,ps[A|(A=p[w*e+e+M+1]>=v)<<1|(T=p[w*e+M+1]>=v)<<2|N<<3].forEach(I);ps[A|T<<3].forEach(I)}for(M=-1,ps[(T=p[w*e]>=v)<<2].forEach(I);++M<e-1;)N=T,ps[(T=p[w*e+M+1]>=v)<<2|N<<3].forEach(I);function I(F){var Y,q,O=[F[0][0]+M,F[0][1]+w],P=[F[1][0]+M,F[1][1]+w],V=d(O),W=d(P);(Y=C[V])?(q=y[W])?(delete C[Y.end],delete y[q.start],Y===q?(Y.ring.push(P),_(Y.ring)):y[Y.start]=C[q.end]={start:Y.start,end:q.end,ring:Y.ring.concat(q.ring)}):(delete C[Y.end],Y.ring.push(P),C[Y.end=W]=Y):(Y=y[W])?(q=C[V])?(delete y[Y.start],delete C[q.end],Y===q?(Y.ring.push(P),_(Y.ring)):y[q.start]=C[Y.end]={start:q.start,end:Y.end,ring:q.ring.concat(Y.ring)}):(delete y[Y.start],Y.ring.unshift(O),y[Y.start=V]=Y):y[V]=C[W]={start:V,end:W,ring:[O,P]}}ps[T<<3].forEach(I)}(p,v,C=>{a(C,p,v),function(e){for(var r=0,a=e.length,s=e[a-1][1]*e[0][0]-e[a-1][0]*e[0][1];++r<a;)s+=e[r-1][1]*e[r][0]-e[r-1][0]*e[r][1];return s}(C)>0?_.push([C]):y.push(C)}),y.forEach(C=>{for(var S,M=0,w=_.length;M<w;++M)if(-1!==bL((S=_[M])[0],C))return void S.push(C)}),{type:"MultiPolygon",value:v,coordinates:_}}function d(p){return 2*p[0]+p[1]*(e+1)*4}function h(p,v,_){p.forEach(y=>{var A,C=y[0],M=y[1],w=0|C,S=0|M,T=v[S*e+w];C>0&&C<e&&w===C&&(y[0]=C+(_-(A=v[S*e+w-1]))/(T-A)-.5),M>0&&M<r&&S===M&&(y[1]=M+(_-(A=v[(S-1)*e+w]))/(T-A)-.5)})}return s.contour=l,s.size=function(p){if(!arguments.length)return[e,r];var v=Math.floor(p[0]),_=Math.floor(p[1]);return v>=0&&_>=0||(0,E.vU)("invalid size"),e=v,r=_,s},s.smooth=function(p){return arguments.length?(a=p?h:yL,s):a===h},s}function bL(e,r){for(var l,a=-1,s=r.length;++a<s;)if(l=CL(e,r[a]))return l;return 0}function CL(e,r){for(var a=r[0],s=r[1],l=-1,f=0,d=e.length,h=d-1;f<d;h=f++){var p=e[f],v=p[0],_=p[1],y=e[h],C=y[0],M=y[1];if(xL(p,y,r))return 0;_>s!=M>s&&a<(C-v)*(s-_)/(M-_)+v&&(l=-l)}return l}function xL(e,r,a){var s;return function(e,r,a){return(r[0]-e[0])*(a[1]-e[1])==(a[0]-e[0])*(r[1]-e[1])}(e,r,a)&&function(e,r,a){return e<=r&&r<=a||a<=r&&r<=e}(e[s=+(e[0]===r[0])],a[s],r[s])}function lg(e,r,a){return function(s){var l=(0,E.We)(s),f=a?Math.min(l[0],0):l[0],d=l[1],h=d-f,p=r?La(f,d,e):h/(e+1);return ur(f+p,d,p)}}function ug(e){te.call(this,null,e)}function fg(e,r,a,s,l){const f=e.x1||0,d=e.y1||0,h=r*a<0;function p(y){y.forEach(v)}function v(y){h&&y.reverse(),y.forEach(_)}function _(y){y[0]=(y[0]-f)*r+s,y[1]=(y[1]-d)*a+l}return function(y){return y.coordinates.forEach(p),y}}function ph(e,r,a){const s=e>=0?e:Qy(r,a);return Math.round((Math.sqrt(4*s*s+1)-1)/2)}function qu(e){return(0,E.mf)(e)?e:(0,E.a9)(+e)}function gh(){var e=p=>p[0],r=p=>p[1],a=E.kX,s=[-1,-1],l=960,f=500,d=2;function h(p,v){const _=ph(s[0],p,e)>>d,y=ph(s[1],p,r)>>d,C=_?_+2:0,M=y?y+2:0,w=2*C+(l>>d),S=2*M+(f>>d),A=new Float32Array(w*S),T=new Float32Array(w*S);let N=A;p.forEach(F=>{const O=C+(+e(F)>>d),P=M+(+r(F)>>d);O>=0&&O<w&&P>=0&&P<S&&(A[O+P*w]+=+a(F))}),_>0&&y>0?(gs(w,S,A,T,_),vs(w,S,T,A,y),gs(w,S,A,T,_),vs(w,S,T,A,y),gs(w,S,A,T,_),vs(w,S,T,A,y)):_>0?(gs(w,S,A,T,_),gs(w,S,T,A,_),gs(w,S,A,T,_),N=T):y>0&&(vs(w,S,A,T,y),vs(w,S,T,A,y),vs(w,S,A,T,y),N=T);const I=v?Math.pow(2,-2*d):1/OM(N);for(let F=0,O=w*S;F<O;++F)N[F]*=I;return{values:N,scale:1<<d,width:w,height:S,x1:C,y1:M,x2:C+(l>>d),y2:M+(f>>d)}}return h.x=function(p){return arguments.length?(e=qu(p),h):e},h.y=function(p){return arguments.length?(r=qu(p),h):r},h.weight=function(p){return arguments.length?(a=qu(p),h):a},h.size=function(p){if(!arguments.length)return[l,f];var v=+p[0],_=+p[1];return v>=0&&_>=0||(0,E.vU)("invalid size"),l=v,f=_,h},h.cellSize=function(p){return arguments.length?((p=+p)>=1||(0,E.vU)("invalid cell size"),d=Math.floor(Math.log(p)/Math.LN2),h):1<<d},h.bandwidth=function(p){return arguments.length?(1===(p=(0,E.IX)(p)).length&&(p=[+p[0],+p[0]]),2!==p.length&&(0,E.vU)("invalid bandwidth"),s=p,h):s},h}function gs(e,r,a,s,l){const f=1+(l<<1);for(let d=0;d<r;++d)for(let h=0,p=0;h<e+l;++h)h<e&&(p+=a[h+d*e]),h>=l&&(h>=f&&(p-=a[h-f+d*e]),s[h-l+d*e]=p/Math.min(h+1,e-1+f-h,f))}function vs(e,r,a,s,l){const f=1+(l<<1);for(let d=0;d<e;++d)for(let h=0,p=0;h<r+l;++h)h<r&&(p+=a[d+h*e]),h>=l&&(h>=f&&(p-=a[d+(h-f)*e]),s[d+(h-l)*e]=p/Math.min(h+1,r-1+f-h,f))}function vh(e){te.call(this,null,e)}ug.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},(0,E.XW)(ug,te,{transform(e,r){if(this.value&&!r.changed()&&!e.modified())return r.StopPropagation;var a=r.fork(r.NO_SOURCE|r.NO_FIELDS),s=r.materialize(r.SOURCE).source,l=e.field||E.yR,f=qw().smooth(!1!==e.smooth),d=e.thresholds||function(e,r,a){const s=lg(a.levels||10,a.nice,!1!==a.zero);return"shared"!==a.resolve?s:s(e.map(l=>Xs(r(l).values)))}(s,l,e),h=null===e.as?null:e.as||"contour",p=[];return s.forEach(v=>{const _=l(v),y=f.size([_.width,_.height])(_.values,(0,E.kJ)(d)?d:d(_.values));(function(e,r,a,s){let l=s.scale||r.scale,f=s.translate||r.translate;if((0,E.mf)(l)&&(l=l(a,s)),(0,E.mf)(f)&&(f=f(a,s)),(1===l||null==l)&&!f)return;const d=((0,E.hj)(l)?l:l[0])||1,h=((0,E.hj)(l)?l:l[1])||1;e.forEach(fg(r,d,h,f&&f[0]||0,f&&f[1]||0))})(y,_,v,e),y.forEach(C=>{p.push(Ql(v,$t(null!=h?{[h]:C}:C)))})}),this.value&&(a.rem=this.value),this.value=a.source=a.add=p,a}}),vh.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const Xw=["x","y","weight","size","cellSize","bandwidth"];function Yw(e,r){return Xw.forEach(a=>null!=r[a]?e[a](r[a]):0),e}function _h(e){te.call(this,null,e)}(0,E.XW)(vh,te,{transform(e,r){if(this.value&&!r.changed()&&!e.modified())return r.StopPropagation;var p,a=r.fork(r.NO_SOURCE|r.NO_FIELDS),l=function(e,r){var l,f,d,h,p,v,a=[],s=_=>_(h);if(null==r)a.push(e);else for(l={},f=0,d=e.length;f<d;++f)h=e[f],(v=l[p=r.map(s)])||(l[p]=v=[],v.dims=p,a.push(v)),v.push(h);return a}(r.materialize(r.SOURCE).source,e.groupby),f=(e.groupby||[]).map(E.el),d=Yw(gh(),e),h=e.as||"grid";return p=l.map(_=>$t(function(_,y){for(let C=0;C<f.length;++C)_[f[C]]=y[C];return _}({[h]:d(_,e.counts)},_.dims))),this.value&&(a.rem=this.value),this.value=a.source=a.add=p,a}}),_h.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},(0,E.XW)(_h,te,{transform(e,r){if(this.value&&!r.changed()&&!e.modified())return r.StopPropagation;var h,p,a=r.fork(r.NO_SOURCE|r.NO_FIELDS),s=qw().smooth(!1!==e.smooth),l=e.values,f=e.thresholds||lg(e.count||10,e.nice,!!l),d=e.size;return l||(l=r.materialize(r.SOURCE).source,p=fg(h=Yw(gh(),e)(l,!0),h.scale||1,h.scale||1,0,0),d=[h.width,h.height],l=h.values),f=(0,E.kJ)(f)?f:f(l),l=s.size(d)(l,f),p&&l.forEach(p),this.value&&(a.rem=this.value),this.value=a.source=a.add=(l||[]).map($t),a}});const dg="Feature",hg="FeatureCollection";function Wu(e){te.call(this,null,e)}function mg(e){te.call(this,null,e)}function ol(e){te.call(this,null,e)}function a4(e){te.call(this,null,e)}function s4(e){te.call(this,[],e),this.generator=function(){var e,r,a,s,l,f,d,h,C,M,w,S,p=10,v=p,_=90,y=360,A=2.5;function T(){return{type:"MultiLineString",coordinates:N()}}function N(){return ur(Q0(s/_)*_,a,_).map(w).concat(ur(Q0(h/y)*y,d,y).map(S)).concat(ur(Q0(r/p)*p,e,p).filter(function(I){return Tt(I%_)>Oe}).map(C)).concat(ur(Q0(f/v)*v,l,v).filter(function(I){return Tt(I%y)>Oe}).map(M))}return T.lines=function(){return N().map(function(I){return{type:"LineString",coordinates:I}})},T.outline=function(){return{type:"Polygon",coordinates:[w(s).concat(S(d).slice(1),w(a).reverse().slice(1),S(h).reverse().slice(1))]}},T.extent=function(I){return arguments.length?T.extentMajor(I).extentMinor(I):T.extentMinor()},T.extentMajor=function(I){return arguments.length?(h=+I[0][1],d=+I[1][1],(s=+I[0][0])>(a=+I[1][0])&&(I=s,s=a,a=I),h>d&&(I=h,h=d,d=I),T.precision(A)):[[s,h],[a,d]]},T.extentMinor=function(I){return arguments.length?(f=+I[0][1],l=+I[1][1],(r=+I[0][0])>(e=+I[1][0])&&(I=r,r=e,e=I),f>l&&(I=f,f=l,l=I),T.precision(A)):[[r,f],[e,l]]},T.step=function(I){return arguments.length?T.stepMajor(I).stepMinor(I):T.stepMinor()},T.stepMajor=function(I){return arguments.length?(_=+I[0],y=+I[1],T):[_,y]},T.stepMinor=function(I){return arguments.length?(p=+I[0],v=+I[1],T):[p,v]},T.precision=function(I){return arguments.length?(A=+I,C=gL(f,l,90),M=vL(r,e,A),w=gL(h,d,90),S=vL(s,a,A),T):A},T.extentMajor([[-180,-90+Oe],[180,90-Oe]]).extentMinor([[-180,-80-Oe],[180,80+Oe]])}()}function Gu(e){te.call(this,null,e)}function Qw(e){if(!(0,E.mf)(e))return!1;const r=(0,E.Rg)((0,E.Oj)(e));return r.$x||r.$y||r.$value||r.$max}function Jw(e){te.call(this,null,e),this.modified(!0)}function tE(e,r,a){(0,E.mf)(e[r])&&e[r](a)}function bh(e,r,a,s){if(isNaN(r)||isNaN(a))return e;var l,y,C,M,w,S,A,T,N,f=e._root,d={data:s},h=e._x0,p=e._y0,v=e._x1,_=e._y1;if(!f)return e._root=d,e;for(;f.length;)if((S=r>=(y=(h+v)/2))?h=y:v=y,(A=a>=(C=(p+_)/2))?p=C:_=C,l=f,!(f=f[T=A<<1|S]))return l[T]=d,e;if(M=+e._x.call(null,f.data),w=+e._y.call(null,f.data),r===M&&a===w)return d.next=f,l?l[T]=d:e._root=d,e;do{l=l?l[T]=new Array(4):e._root=new Array(4),(S=r>=(y=(h+v)/2))?h=y:v=y,(A=a>=(C=(p+_)/2))?p=C:_=C}while((T=A<<1|S)==(N=(w>=C)<<1|M>=y));return l[N]=f,l[T]=d,e}function Cr(e,r,a,s,l){this.node=e,this.x0=r,this.y0=a,this.x1=s,this.y1=l}function c4(e){return e[0]}function l4(e){return e[1]}function gg(e,r,a){var s=new vg(null==r?c4:r,null==a?l4:a,NaN,NaN,NaN,NaN);return null==e?s:s.addAll(e)}function vg(e,r,a,s,l,f){this._x=e,this._y=r,this._x0=a,this._y0=s,this._x1=l,this._y1=f,this._root=void 0}function _g(e){for(var r={data:e.data},a=r;e=e.next;)a=a.next={data:e.data};return r}Wu.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},(0,E.XW)(Wu,te,{transform(e,r){var v,a=this._features,s=this._points,l=e.fields,f=l&&l[0],d=l&&l[1],h=e.geojson||!l&&E.yR,p=r.ADD;v=e.modified()||r.changed(r.REM)||r.modified((0,E.Oj)(h))||f&&r.modified((0,E.Oj)(f))||d&&r.modified((0,E.Oj)(d)),(!this.value||v)&&(p=r.SOURCE,this._features=a=[],this._points=s=[]),h&&r.visit(p,_=>a.push(h(_))),f&&d&&(r.visit(p,_=>{var y=f(_),C=d(_);null!=y&&null!=C&&(y=+y)===y&&(C=+C)===C&&s.push([y,C])}),a=a.concat({type:dg,geometry:{type:"MultiPoint",coordinates:s}})),this.value={type:hg,features:a}}}),mg.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},(0,E.XW)(mg,te,{transform(e,r){var a=r.fork(r.ALL),s=this.value,l=e.field||E.yR,f=e.as||"path",d=a.SOURCE;!s||e.modified()?(this.value=s=pL(e.projection),a.materialize().reflow()):d=l===E.yR||r.modified(l.fields)?a.ADD_MOD:a.ADD;const h=function(e,r){const a=e.pointRadius();return e.context(null),null!=r&&e.pointRadius(r),a}(s,e.pointRadius);return a.visit(d,p=>p[f]=s(l(p))),s.pointRadius(h),a.modifies(f)}}),ol.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},(0,E.XW)(ol,te,{transform(e,r){var p,a=e.projection,s=e.fields[0],l=e.fields[1],f=e.as||["x","y"],d=f[0],h=f[1];function v(_){const y=a([s(_),l(_)]);y?(_[d]=y[0],_[h]=y[1]):(_[d]=void 0,_[h]=void 0)}return e.modified()?r=r.materialize().reflow(!0).visit(r.SOURCE,v):(p=r.modified(s.fields)||r.modified(l.fields),r.visit(p?r.ADD_MOD:r.ADD,v)),r.modifies(f)}}),a4.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},(0,E.XW)(a4,te,{transform(e,r){var a=r.fork(r.ALL),s=this.value,l=e.as||"shape",f=a.ADD;return(!s||e.modified())&&(this.value=s=function(e,r,a){const s=null==a?l=>e(r(l)):l=>{var f=e.pointRadius(),d=e.pointRadius(a)(r(l));return e.pointRadius(f),d};return s.context=l=>(e.context(l),s),s}(pL(e.projection),e.field||(0,E.EP)("datum"),e.pointRadius),a.materialize().reflow(),f=a.SOURCE),a.visit(f,d=>d[l]=s),a.modifies(l)}}),s4.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},(0,E.XW)(s4,te,{transform(e,r){var l,a=this.value,s=this.generator;if(!a.length||e.modified())for(const f in e)(0,E.mf)(s[f])&&s[f](e[f]);return l=s(),a.length?r.mod.push(Oy(a[0],l)):r.add.push($t(l)),a[0]=l,r}}),Gu.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},(0,E.XW)(Gu,te,{transform(e,r){if(!r.changed()&&!e.modified())return r.StopPropagation;var a=r.materialize(r.SOURCE).source,s="shared"===e.resolve,l=e.field||E.yR,f=function(e,r){let a;return(0,E.mf)(e)?(a=s=>e(s,r),a.dep=Qw(e)):e?a=(0,E.a9)(e):(a=s=>s.$value/s.$max||0,a.dep=!0),a}(e.opacity,e),d=function(e,r){let a;return(0,E.mf)(e)?(a=s=>oa(e(s,r)),a.dep=Qw(e)):a=(0,E.a9)(oa(e||"#888")),a}(e.color,e),h=e.as||"image",p={$x:0,$y:0,$value:0,$max:s?Xs(a.map(v=>Xs(l(v).values))):0};return a.forEach(v=>{const _=l(v),y=(0,E.l7)({},v,p);s||(y.$max=Xs(_.values||[])),v[h]=function(e,r,a,s){const l=e.width,d=e.x1||0,h=e.y1||0,p=e.x2||l,v=e.y2||e.height,_=e.values,y=_?A=>_[A]:E.bM,C=n2(p-d,v-h),M=C.getContext("2d"),w=M.getImageData(0,0,p-d,v-h),S=w.data;for(let A=h,T=0;A<v;++A){r.$y=A-h;for(let N=d,I=A*l;N<p;++N,T+=4){r.$x=N-d,r.$value=y(N+I);const F=a(r);S[T+0]=F.r,S[T+1]=F.g,S[T+2]=F.b,S[T+3]=~~(255*s(r))}}return M.putImageData(w,0,0),C}(_,y,d.dep?d:(0,E.a9)(d(y)),f.dep?f:(0,E.a9)(f(y)))}),r.reflow(!0).modifies(h)}}),(0,E.XW)(Jw,te,{transform(e,r){let a=this.value;return!a||e.modified("type")?(this.value=a=function(e){const r=cg((e||"mercator").toLowerCase());return r||(0,E.vU)("Unrecognized projection type: "+e),r()}(e.type),sg.forEach(s=>{null!=e[s]&&tE(a,s,e[s])})):sg.forEach(s=>{e.modified(s)&&tE(a,s,e[s])}),null!=e.pointRadius&&a.path.pointRadius(e.pointRadius),e.fit&&function(e,r){const a=function(e){return 1===(e=(0,E.IX)(e)).length?e[0]:{type:hg,features:e.reduce((r,a)=>r.concat(function(e){return e.type===hg?e.features:(0,E.IX)(e).filter(r=>null!=r).map(r=>r.type===dg?r:{type:dg,geometry:r})}(a)),[])}}(r.fit);r.extent?e.fitExtent(r.extent,a):r.size&&e.fitSize(r.size,a)}(a,e),r.fork(r.NO_SOURCE|r.NO_FIELDS)}});var qi=gg.prototype=vg.prototype;function Wi(e){return function(){return e}}function ys(e){return 1e-6*(e()-.5)}function yg(e){return e.x+e.vx}function RL(e){return e.y+e.vy}qi.copy=function(){var a,s,e=new vg(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=_g(r),e;for(a=[{source:r,target:e._root=new Array(4)}];r=a.pop();)for(var l=0;l<4;++l)(s=r.source[l])&&(s.length?a.push({source:s,target:r.target[l]=new Array(4)}):r.target[l]=_g(s));return e},qi.add=function(e){const r=+this._x.call(null,e),a=+this._y.call(null,e);return bh(this.cover(r,a),r,a,e)},qi.addAll=function(e){var r,a,l,f,s=e.length,d=new Array(s),h=new Array(s),p=1/0,v=1/0,_=-1/0,y=-1/0;for(a=0;a<s;++a)isNaN(l=+this._x.call(null,r=e[a]))||isNaN(f=+this._y.call(null,r))||(d[a]=l,h[a]=f,l<p&&(p=l),l>_&&(_=l),f<v&&(v=f),f>y&&(y=f));if(p>_||v>y)return this;for(this.cover(p,v).cover(_,y),a=0;a<s;++a)bh(this,d[a],h[a],e[a]);return this},qi.cover=function(e,r){if(isNaN(e=+e)||isNaN(r=+r))return this;var a=this._x0,s=this._y0,l=this._x1,f=this._y1;if(isNaN(a))l=(a=Math.floor(e))+1,f=(s=Math.floor(r))+1;else{for(var p,v,d=l-a||1,h=this._root;a>e||e>=l||s>r||r>=f;)switch(v=(r<s)<<1|e<a,p=new Array(4),p[v]=h,h=p,d*=2,v){case 0:l=a+d,f=s+d;break;case 1:a=l-d,f=s+d;break;case 2:l=a+d,s=f-d;break;case 3:a=l-d,s=f-d}this._root&&this._root.length&&(this._root=h)}return this._x0=a,this._y0=s,this._x1=l,this._y1=f,this},qi.data=function(){var e=[];return this.visit(function(r){if(!r.length)do{e.push(r.data)}while(r=r.next)}),e},qi.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},qi.find=function(e,r,a){var s,d,h,p,v,w,S,l=this._x0,f=this._y0,_=this._x1,y=this._y1,C=[],M=this._root;for(M&&C.push(new Cr(M,l,f,_,y)),null==a?a=1/0:(l=e-a,f=r-a,_=e+a,y=r+a,a*=a);w=C.pop();)if(!(!(M=w.node)||(d=w.x0)>_||(h=w.y0)>y||(p=w.x1)<l||(v=w.y1)<f))if(M.length){var A=(d+p)/2,T=(h+v)/2;C.push(new Cr(M[3],A,T,p,v),new Cr(M[2],d,T,A,v),new Cr(M[1],A,h,p,T),new Cr(M[0],d,h,A,T)),(S=(r>=T)<<1|e>=A)&&(w=C[C.length-1],C[C.length-1]=C[C.length-1-S],C[C.length-1-S]=w)}else{var N=e-+this._x.call(null,M.data),I=r-+this._y.call(null,M.data),F=N*N+I*I;if(F<a){var O=Math.sqrt(a=F);l=e-O,f=r-O,_=e+O,y=r+O,s=M.data}}return s},qi.remove=function(e){if(isNaN(_=+this._x.call(null,e))||isNaN(y=+this._y.call(null,e)))return this;var r,s,l,f,_,y,C,M,w,S,A,T,a=this._root,d=this._x0,h=this._y0,p=this._x1,v=this._y1;if(!a)return this;if(a.length)for(;;){if((w=_>=(C=(d+p)/2))?d=C:p=C,(S=y>=(M=(h+v)/2))?h=M:v=M,r=a,!(a=a[A=S<<1|w]))return this;if(!a.length)break;(r[A+1&3]||r[A+2&3]||r[A+3&3])&&(s=r,T=A)}for(;a.data!==e;)if(l=a,!(a=a.next))return this;return(f=a.next)&&delete a.next,l?(f?l.next=f:delete l.next,this):r?(f?r[A]=f:delete r[A],(a=r[0]||r[1]||r[2]||r[3])&&a===(r[3]||r[2]||r[1]||r[0])&&!a.length&&(s?s[T]=a:this._root=a),this):(this._root=f,this)},qi.removeAll=function(e){for(var r=0,a=e.length;r<a;++r)this.remove(e[r]);return this},qi.root=function(){return this._root},qi.size=function(){var e=0;return this.visit(function(r){if(!r.length)do{++e}while(r=r.next)}),e},qi.visit=function(e){var a,l,f,d,h,p,r=[],s=this._root;for(s&&r.push(new Cr(s,this._x0,this._y0,this._x1,this._y1));a=r.pop();)if(!e(s=a.node,f=a.x0,d=a.y0,h=a.x1,p=a.y1)&&s.length){var v=(f+h)/2,_=(d+p)/2;(l=s[3])&&r.push(new Cr(l,v,_,h,p)),(l=s[2])&&r.push(new Cr(l,f,_,v,p)),(l=s[1])&&r.push(new Cr(l,v,d,h,_)),(l=s[0])&&r.push(new Cr(l,f,d,v,_))}return this},qi.visitAfter=function(e){var s,r=[],a=[];for(this._root&&r.push(new Cr(this._root,this._x0,this._y0,this._x1,this._y1));s=r.pop();){var l=s.node;if(l.length){var f,d=s.x0,h=s.y0,p=s.x1,v=s.y1,_=(d+p)/2,y=(h+v)/2;(f=l[0])&&r.push(new Cr(f,d,h,_,y)),(f=l[1])&&r.push(new Cr(f,_,h,p,y)),(f=l[2])&&r.push(new Cr(f,d,y,_,v)),(f=l[3])&&r.push(new Cr(f,_,y,p,v))}a.push(s)}for(;s=a.pop();)e(s.node,s.x0,s.y0,s.x1,s.y1);return this},qi.x=function(e){return arguments.length?(this._x=e,this):this._x},qi.y=function(e){return arguments.length?(this._y=e,this):this._y};var rE={value:()=>{}};function T2(){for(var s,e=0,r=arguments.length,a={};e<r;++e){if(!(s=arguments[e]+"")||s in a||/[\s.]/.test(s))throw new Error("illegal type: "+s);a[s]=[]}return new u4(a)}function u4(e){this._=e}function OL(e,r){return e.trim().split(/^|\s+/).map(function(a){var s="",l=a.indexOf(".");if(l>=0&&(s=a.slice(l+1),a=a.slice(0,l)),a&&!r.hasOwnProperty(a))throw new Error("unknown type: "+a);return{type:a,name:s}})}function PL(e,r){for(var l,a=0,s=e.length;a<s;++a)if((l=e[a]).name===r)return l.value}function HL(e,r,a){for(var s=0,l=e.length;s<l;++s)if(e[s].name===r){e[s]=rE,e=e.slice(0,s).concat(e.slice(s+1));break}return null!=a&&e.push({name:r,value:a}),e}u4.prototype=T2.prototype={constructor:u4,on:function(e,r){var l,a=this._,s=OL(e+"",a),f=-1,d=s.length;if(!(arguments.length<2)){if(null!=r&&"function"!=typeof r)throw new Error("invalid callback: "+r);for(;++f<d;)if(l=(e=s[f]).type)a[l]=HL(a[l],e.name,r);else if(null==r)for(l in a)a[l]=HL(a[l],e.name,null);return this}for(;++f<d;)if((l=(e=s[f]).type)&&(l=PL(a[l],e.name)))return l},copy:function(){var e={},r=this._;for(var a in r)e[a]=r[a].slice();return new u4(e)},call:function(e,r){if((l=arguments.length-2)>0)for(var l,f,a=new Array(l),s=0;s<l;++s)a[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=0,l=(f=this._[e]).length;s<l;++s)f[s].value.apply(r,a)},apply:function(e,r,a){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],l=0,f=s.length;l<f;++l)s[l].value.apply(r,a)}};const Gq=T2;var bg,Mh,Zu=0,xh=0,Ku=0,Cg=0,f4=0,wh=0,Eh="object"==typeof performance&&performance.now?performance:Date,BL="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function aE(){return f4||(BL(Xq),f4=Eh.now()+wh)}function Xq(){f4=0}function al(){this._call=this._time=this._next=null}function So(e,r,a){var s=new al;return s.restart(e,r,a),s}function sE(){f4=(Cg=Eh.now())+wh,Zu=xh=0;try{!function(){aE(),++Zu;for(var r,e=bg;e;)(r=f4-e._time)>=0&&e._call.call(null,r),e=e._next;--Zu}()}finally{Zu=0,function(){for(var e,a,r=bg,s=1/0;r;)r._call?(s>r._time&&(s=r._time),e=r,r=r._next):(a=r._next,r._next=null,r=e?e._next=a:bg=a);Mh=e,sl(s)}(),f4=0}}function jL(){var e=Eh.now(),r=e-Cg;r>1e3&&(wh-=r,Cg=e)}function sl(e){Zu||(xh&&(xh=clearTimeout(xh)),e-f4>24?(e<1/0&&(xh=setTimeout(sE,e-Eh.now()-wh)),Ku&&(Ku=clearInterval(Ku))):(Ku||(Cg=Eh.now(),Ku=setInterval(jL,1e3)),Zu=1,BL(sE)))}al.prototype=So.prototype={constructor:al,restart:function(e,r,a){if("function"!=typeof e)throw new TypeError("callback is not a function");a=(null==a?aE():+a)+(null==r?0:+r),!this._next&&Mh!==this&&(Mh?Mh._next=this:bg=this,Mh=this),this._call=e,this._time=a,sl()},stop:function(){this._call&&(this._call=null,this._time=1/0,sl())}};const xg=4294967296;function $L(e){return e.x}function lE(e){return e.y}var cl=Math.PI*(3-Math.sqrt(5));function WL(e){return e.index}function fE(e,r){var a=e.get(r);if(!a)throw new Error("node not found: "+r);return a}const hE={center:function(e,r){var a,s=1;function l(){var f,h,d=a.length,p=0,v=0;for(f=0;f<d;++f)p+=(h=a[f]).x,v+=h.y;for(p=(p/d-e)*s,v=(v/d-r)*s,f=0;f<d;++f)(h=a[f]).x-=p,h.y-=v}return null==e&&(e=0),null==r&&(r=0),l.initialize=function(f){a=f},l.x=function(f){return arguments.length?(e=+f,l):e},l.y=function(f){return arguments.length?(r=+f,l):r},l.strength=function(f){return arguments.length?(s=+f,l):s},l},collide:function(e){var r,a,s,l=1,f=1;function d(){for(var v,y,C,M,w,S,A,_=r.length,T=0;T<f;++T)for(y=gg(r,yg,RL).visitAfter(h),v=0;v<_;++v)A=(S=a[(C=r[v]).index])*S,M=C.x+C.vx,w=C.y+C.vy,y.visit(N);function N(I,F,O,P,V){var W=I.data,Y=I.r,q=S+Y;if(!W)return F>M+q||P<M-q||O>w+q||V<w-q;if(W.index>C.index){var G=M-W.x-W.vx,re=w-W.y-W.vy,ie=G*G+re*re;ie<q*q&&(0===G&&(ie+=(G=ys(s))*G),0===re&&(ie+=(re=ys(s))*re),ie=(q-(ie=Math.sqrt(ie)))/ie*l,C.vx+=(G*=ie)*(q=(Y*=Y)/(A+Y)),C.vy+=(re*=ie)*q,W.vx-=G*(q=1-q),W.vy-=re*q)}}}function h(v){if(v.data)return v.r=a[v.data.index];for(var _=v.r=0;_<4;++_)v[_]&&v[_].r>v.r&&(v.r=v[_].r)}function p(){if(r){var v,y,_=r.length;for(a=new Array(_),v=0;v<_;++v)a[(y=r[v]).index]=+e(y,v,r)}}return"function"!=typeof e&&(e=Wi(null==e?1:+e)),d.initialize=function(v,_){r=v,s=_,p()},d.iterations=function(v){return arguments.length?(f=+v,d):f},d.strength=function(v){return arguments.length?(l=+v,d):l},d.radius=function(v){return arguments.length?(e="function"==typeof v?v:Wi(+v),p(),d):e},d},nbody:function(){var e,r,a,s,f,l=Wi(-30),d=1,h=1/0,p=.81;function v(M){var w,S=e.length,A=gg(e,$L,lE).visitAfter(y);for(s=M,w=0;w<S;++w)r=e[w],A.visit(C)}function _(){if(e){var M,S,w=e.length;for(f=new Array(w),M=0;M<w;++M)f[(S=e[M]).index]=+l(S,M,e)}}function y(M){var S,A,N,I,F,w=0,T=0;if(M.length){for(N=I=F=0;F<4;++F)(S=M[F])&&(A=Math.abs(S.value))&&(w+=S.value,T+=A,N+=A*S.x,I+=A*S.y);M.x=N/T,M.y=I/T}else{(S=M).x=S.data.x,S.y=S.data.y;do{w+=f[S.data.index]}while(S=S.next)}M.value=w}function C(M,w,S,A){if(!M.value)return!0;var T=M.x-r.x,N=M.y-r.y,I=A-w,F=T*T+N*N;if(I*I/p<F)return F<h&&(0===T&&(F+=(T=ys(a))*T),0===N&&(F+=(N=ys(a))*N),F<d&&(F=Math.sqrt(d*F)),r.vx+=T*M.value*s/F,r.vy+=N*M.value*s/F),!0;if(!(M.length||F>=h)){(M.data!==r||M.next)&&(0===T&&(F+=(T=ys(a))*T),0===N&&(F+=(N=ys(a))*N),F<d&&(F=Math.sqrt(d*F)));do{M.data!==r&&(r.vx+=T*(I=f[M.data.index]*s/F),r.vy+=N*I)}while(M=M.next)}}return v.initialize=function(M,w){e=M,a=w,_()},v.strength=function(M){return arguments.length?(l="function"==typeof M?M:Wi(+M),_(),v):l},v.distanceMin=function(M){return arguments.length?(d=M*M,v):Math.sqrt(d)},v.distanceMax=function(M){return arguments.length?(h=M*M,v):Math.sqrt(h)},v.theta=function(M){return arguments.length?(p=M*M,v):Math.sqrt(p)},v},link:function(e){var s,f,d,h,p,v,r=WL,a=function(A){return 1/Math.min(h[A.source.index],h[A.target.index])},l=Wi(30),_=1;function C(A){for(var T=0,N=e.length;T<_;++T)for(var F,O,P,V,W,Y,q,I=0;I<N;++I)V=(P=(F=e[I]).target).x+P.vx-(O=F.source).x-O.vx||ys(v),W=P.y+P.vy-O.y-O.vy||ys(v),W*=Y=((Y=Math.sqrt(V*V+W*W))-f[I])/Y*A*s[I],P.vx-=(V*=Y)*(q=p[I]),P.vy-=W*q,O.vx+=V*(q=1-q),O.vy+=W*q}function M(){if(d){var A,F,T=d.length,N=e.length,I=new Map(d.map((O,P)=>[r(O,P,d),O]));for(A=0,h=new Array(T);A<N;++A)(F=e[A]).index=A,"object"!=typeof F.source&&(F.source=fE(I,F.source)),"object"!=typeof F.target&&(F.target=fE(I,F.target)),h[F.source.index]=(h[F.source.index]||0)+1,h[F.target.index]=(h[F.target.index]||0)+1;for(A=0,p=new Array(N);A<N;++A)p[A]=h[(F=e[A]).source.index]/(h[F.source.index]+h[F.target.index]);s=new Array(N),w(),f=new Array(N),S()}}function w(){if(d)for(var A=0,T=e.length;A<T;++A)s[A]=+a(e[A],A,e)}function S(){if(d)for(var A=0,T=e.length;A<T;++A)f[A]=+l(e[A],A,e)}return null==e&&(e=[]),C.initialize=function(A,T){d=A,v=T,M()},C.links=function(A){return arguments.length?(e=A,M(),C):e},C.id=function(A){return arguments.length?(r=A,C):r},C.iterations=function(A){return arguments.length?(_=+A,C):_},C.strength=function(A){return arguments.length?(a="function"==typeof A?A:Wi(+A),w(),C):a},C.distance=function(A){return arguments.length?(l="function"==typeof A?A:Wi(+A),S(),C):l},C},x:function(e){var a,s,l,r=Wi(.1);function f(h){for(var _,p=0,v=a.length;p<v;++p)(_=a[p]).vx+=(l[p]-_.x)*s[p]*h}function d(){if(a){var h,p=a.length;for(s=new Array(p),l=new Array(p),h=0;h<p;++h)s[h]=isNaN(l[h]=+e(a[h],h,a))?0:+r(a[h],h,a)}}return"function"!=typeof e&&(e=Wi(null==e?0:+e)),f.initialize=function(h){a=h,d()},f.strength=function(h){return arguments.length?(r="function"==typeof h?h:Wi(+h),d(),f):r},f.x=function(h){return arguments.length?(e="function"==typeof h?h:Wi(+h),d(),f):e},f},y:function(e){var a,s,l,r=Wi(.1);function f(h){for(var _,p=0,v=a.length;p<v;++p)(_=a[p]).vy+=(l[p]-_.y)*s[p]*h}function d(){if(a){var h,p=a.length;for(s=new Array(p),l=new Array(p),h=0;h<p;++h)s[h]=isNaN(l[h]=+e(a[h],h,a))?0:+r(a[h],h,a)}}return"function"!=typeof e&&(e=Wi(null==e?0:+e)),f.initialize=function(h){a=h,d()},f.strength=function(h){return arguments.length?(r="function"==typeof h?h:Wi(+h),d(),f):r},f.y=function(h){return arguments.length?(e="function"==typeof h?h:Wi(+h),d(),f):e},f}},d4="forces",Dh=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],jr=["static","iterations"],Hn=["x","y","vx","vy"];function Mn(e){te.call(this,null,e)}function Ue(e,r,a,s){var f,d,h,p,l=(0,E.IX)(r.forces);for(f=0,d=Dh.length;f<d;++f)(h=Dh[f])!==d4&&r.modified(h)&&e[h](r[h]);for(f=0,d=l.length;f<d;++f)p=d4+f,(h=a||r.modified(d4,f)?XL(l[f]):s&&Qq(l[f],s)?e.force(p):null)&&e.force(p,h);for(d=e.numForces||0;f<d;++f)e.force(d4+f,null);return e.numForces=l.length,e}function Qq(e,r){var a,s;for(a in e)if((0,E.mf)(s=e[a])&&r.modified((0,E.Oj)(s)))return 1;return 0}function XL(e){var r,a;for(a in(0,E.nr)(hE,e.force)||(0,E.vU)("Unrecognized force: "+e.force),r=hE[e.force](),e)(0,E.mf)(r[a])&&YL(r[a],e[a],e);return r}function YL(e,r,a){e((0,E.mf)(r)?s=>r(s,a):r)}function ZL(e){var r=0,a=e.children,s=a&&a.length;if(s)for(;--s>=0;)r+=a[s].value;else r=1;e.value=r}function Th(e,r){e instanceof Map?(e=[void 0,e],void 0===r&&(r=rW)):void 0===r&&(r=nF);for(var s,f,d,h,p,a=new h4(e),l=[a];s=l.pop();)if((d=r(s.data))&&(p=(d=Array.from(d)).length))for(s.children=d,h=p-1;h>=0;--h)l.push(f=d[h]=new h4(d[h])),f.parent=s,f.depth=s.depth+1;return a.eachBefore(zh)}function nF(e){return e.children}function rW(e){return Array.isArray(e)?e[1]:null}function U1(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function zh(e){var r=0;do{e.height=r}while((e=e.parent)&&e.height<++r)}function h4(e){this.data=e,this.depth=this.height=0,this.parent=null}function Qu(e,r){var a,s;if(We(r,e))return[r];for(a=0;a<e.length;++a)if(Nh(r,e[a])&&We(z2(e[a],r),e))return[e[a],r];for(a=0;a<e.length-1;++a)for(s=a+1;s<e.length;++s)if(Nh(z2(e[a],e[s]),r)&&Nh(z2(e[a],r),e[s])&&Nh(z2(e[s],r),e[a])&&We(Ma(e[a],e[s],r),e))return[e[a],e[s],r];throw new Error}function Nh(e,r){var a=e.r-r.r,s=r.x-e.x,l=r.y-e.y;return a<0||a*a<s*s+l*l}function Gn(e,r){var a=e.r-r.r+1e-9*Math.max(e.r,r.r,1),s=r.x-e.x,l=r.y-e.y;return a>0&&a*a>s*s+l*l}function We(e,r){for(var a=0;a<r.length;++a)if(!Gn(e,r[a]))return!1;return!0}function ht(e){switch(e.length){case 1:return function(e){return{x:e.x,y:e.y,r:e.r}}(e[0]);case 2:return z2(e[0],e[1]);case 3:return Ma(e[0],e[1],e[2])}}function z2(e,r){var a=e.x,s=e.y,l=e.r,f=r.x,d=r.y,h=r.r,p=f-a,v=d-s,_=h-l,y=Math.sqrt(p*p+v*v);return{x:(a+f+p/y*_)/2,y:(s+d+v/y*_)/2,r:(y+l+h)/2}}function Ma(e,r,a){var s=e.x,l=e.y,f=e.r,d=r.x,h=r.y,p=r.r,v=a.x,_=a.y,y=a.r,C=s-d,M=s-v,w=l-h,S=l-_,A=p-f,T=y-f,N=s*s+l*l-f*f,I=N-d*d-h*h+p*p,F=N-v*v-_*_+y*y,O=M*w-C*S,P=(w*F-S*I)/(2*O)-s,V=(S*A-w*T)/O,W=(M*I-C*F)/(2*O)-l,Y=(C*T-M*A)/O,q=V*V+Y*Y-1,G=2*(f+P*V+W*Y),re=P*P+W*W-f*f,ie=-(q?(G+Math.sqrt(G*G-4*q*re))/(2*q):re/G);return{x:s+P+V*ie,y:l+W+Y*ie,r:ie}}function Ju(e,r,a){var l,f,h,p,s=e.x-r.x,d=e.y-r.y,v=s*s+d*d;v?(f=r.r+a.r,p=e.r+a.r,(f*=f)>(p*=p)?(l=(v+p-f)/(2*v),h=Math.sqrt(Math.max(0,p/v-l*l)),a.x=e.x-l*s-h*d,a.y=e.y-l*d+h*s):(l=(v+f-p)/(2*v),h=Math.sqrt(Math.max(0,f/v-l*l)),a.x=r.x+l*s-h*d,a.y=r.y+l*d+h*s)):(a.x=r.x+a.r,a.y=r.y)}function $1(e,r){var a=e.r+r.r-1e-6,s=r.x-e.x,l=r.y-e.y;return a>0&&a*a>s*s+l*l}function mE(e){var r=e._,a=e.next._,s=r.r+a.r,l=(r.x*a.r+a.x*r.r)/s,f=(r.y*a.r+a.y*r.r)/s;return l*l+f*f}function En(e){this._=e,this.next=null,this.previous=null}function pE(e){if(!(l=(e=function(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}(e)).length))return 0;var r,a,s,l,f,d,h,p,v,_,y;if((r=e[0]).x=0,r.y=0,!(l>1))return r.r;if(r.x=-(a=e[1]).r,a.x=r.r,a.y=0,!(l>2))return r.r+a.r;Ju(a,r,s=e[2]),r=new En(r),a=new En(a),s=new En(s),r.next=s.previous=a,a.next=r.previous=s,s.next=a.previous=r;e:for(h=3;h<l;++h){Ju(r._,a._,s=e[h]),s=new En(s),p=a.next,v=r.previous,_=a._.r,y=r._.r;do{if(_<=y){if($1(p._,s._)){r.next=a=p,a.previous=r,--h;continue e}_+=p._.r,p=p.next}else{if($1(v._,s._)){(r=v).next=a,a.previous=r,--h;continue e}y+=v._.r,v=v.previous}}while(p!==v.next);for(s.previous=r,s.next=a,r.next=a.previous=a=s,f=mE(r);(s=s.next)!==a;)(d=mE(s))<f&&(r=s,f=d);a=r.next}for(r=[a._],s=a;(s=s.next)!==a;)r.push(s._);for(s=function(e){for(var l,f,r=0,a=(e=function(e){for(var a,s,r=e.length;r;)s=Math.random()*r--|0,a=e[r],e[r]=e[s],e[s]=a;return e}(Array.from(e))).length,s=[];r<a;)l=e[r],f&&Gn(f,l)?++r:(f=ht(s=Qu(s,l)),r=0);return f}(r),h=0;h<l;++h)(r=e[h]).x-=s.x,r.y-=s.y;return s.r}function sF(e){return null==e?null:ll(e)}function ll(e){if("function"!=typeof e)throw new Error;return e}function ul(){return 0}function bs(e){return function(){return e}}function cF(e){return Math.sqrt(e.value)}function Ih(e){return function(r){r.children||(r.r=Math.max(0,+e(r)||0))}}function m4(e,r){return function(a){if(s=a.children){var s,l,h,f=s.length,d=e(a)*r||0;if(d)for(l=0;l<f;++l)s[l].r+=d;if(h=pE(s),d)for(l=0;l<f;++l)s[l].r-=d;a.r=h+d}}}function Lh(e){return function(r){var a=r.parent;r.r*=e,a&&(r.x=a.x+e*r.x,r.y=a.y+e*r.y)}}function vE(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function p4(e,r,a,s,l){for(var d,f=e.children,h=-1,p=f.length,v=e.value&&(s-r)/e.value;++h<p;)(d=f[h]).y0=a,d.y1=l,d.x0=r,d.x1=r+=d.value*v}Mn.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:Hn}]},(0,E.XW)(Mn,te,{transform(e,r){var a=this.value,s=r.changed(r.ADD_REM),l=e.modified(Dh),f=e.iterations||300;if(a?(s&&(r.modifies("index"),a.nodes(r.source)),(l||r.changed(r.MOD))&&Ue(a,e,0,r)):(this.value=a=function(e,r){const a=function(e){var r,a=1,s=.001,l=1-Math.pow(s,1/300),f=0,d=.6,h=new Map,p=So(y),v=Gq("tick","end"),_=function(){let e=1;return()=>(e=(1664525*e+1013904223)%xg)/xg}();function y(){C(),v.call("tick",r),a<s&&(p.stop(),v.call("end",r))}function C(S){var A,N,T=e.length;void 0===S&&(S=1);for(var I=0;I<S;++I)for(a+=(f-a)*l,h.forEach(function(F){F(a)}),A=0;A<T;++A)null==(N=e[A]).fx?N.x+=N.vx*=d:(N.x=N.fx,N.vx=0),null==N.fy?N.y+=N.vy*=d:(N.y=N.fy,N.vy=0);return r}function M(){for(var T,S=0,A=e.length;S<A;++S){if((T=e[S]).index=S,null!=T.fx&&(T.x=T.fx),null!=T.fy&&(T.y=T.fy),isNaN(T.x)||isNaN(T.y)){var N=10*Math.sqrt(.5+S),I=S*cl;T.x=N*Math.cos(I),T.y=N*Math.sin(I)}(isNaN(T.vx)||isNaN(T.vy))&&(T.vx=T.vy=0)}}function w(S){return S.initialize&&S.initialize(e,_),S}return null==e&&(e=[]),M(),r={tick:C,restart:function(){return p.restart(y),r},stop:function(){return p.stop(),r},nodes:function(S){return arguments.length?(e=S,M(),h.forEach(w),r):e},alpha:function(S){return arguments.length?(a=+S,r):a},alphaMin:function(S){return arguments.length?(s=+S,r):s},alphaDecay:function(S){return arguments.length?(l=+S,r):+l},alphaTarget:function(S){return arguments.length?(f=+S,r):f},velocityDecay:function(S){return arguments.length?(d=1-S,r):1-d},randomSource:function(S){return arguments.length?(_=S,h.forEach(w),r):_},force:function(S,A){return arguments.length>1?(null==A?h.delete(S):h.set(S,w(A)),r):h.get(S)},find:function(S,A,T){var F,O,P,V,W,N=0,I=e.length;for(null==T?T=1/0:T*=T,N=0;N<I;++N)(P=(F=S-(V=e[N]).x)*F+(O=A-V.y)*O)<T&&(W=V,T=P);return W},on:function(S,A){return arguments.length>1?(v.on(S,A),r):v.on(S)}}}(e),s=a.stop,l=a.restart;let f=!1;return a.stopped=()=>f,a.restart=()=>(f=!1,l()),a.stop=()=>(f=!0,s()),Ue(a,r,!0).on("end",()=>f=!0)}(r.source,e),a.on("tick",function(e,r){return()=>e.touch(r).run()}(r.dataflow,this)),e.static||(s=!0,a.tick()),r.modifies("index")),l||s||e.modified(jr)||r.changed()&&e.restart)if(a.alpha(Math.max(a.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(a.alphaMin(),1/f)),e.static)for(a.stop();--f>=0;)a.tick();else if(a.stopped()&&a.restart(),!s)return r.StopPropagation;return this.finish(e,r)},finish(e,r){const a=r.dataflow;for(let _,h=this._argops,p=0,v=h.length;p<v;++p)if(_=h[p],_.name===d4&&"link"===_.op._argval.force)for(var d,s=_.op._argops,l=0,f=s.length;l<f;++l)if("links"===s[l].name&&(d=s[l].op.source)){a.pulse(d,a.changeset().reflow());break}return r.reflow(e.modified()).modifies(Hn)}}),h4.prototype=Th.prototype={constructor:h4,count:function(){return this.eachAfter(ZL)},each:function(e,r){let a=-1;for(const s of this)e.call(r,s,++a,this);return this},eachAfter:function(e,r){for(var f,d,h,a=this,s=[a],l=[],p=-1;a=s.pop();)if(l.push(a),f=a.children)for(d=0,h=f.length;d<h;++d)s.push(f[d]);for(;a=l.pop();)e.call(r,a,++p,this);return this},eachBefore:function(e,r){for(var l,f,a=this,s=[a],d=-1;a=s.pop();)if(e.call(r,a,++d,this),l=a.children)for(f=l.length-1;f>=0;--f)s.push(l[f]);return this},find:function(e,r){let a=-1;for(const s of this)if(e.call(r,s,++a,this))return s},sum:function(e){return this.eachAfter(function(r){for(var a=+e(r.data)||0,s=r.children,l=s&&s.length;--l>=0;)a+=s[l].value;r.value=a})},sort:function(e){return this.eachBefore(function(r){r.children&&r.children.sort(e)})},path:function(e){for(var r=this,a=function(e,r){if(e===r)return e;var a=e.ancestors(),s=r.ancestors(),l=null;for(e=a.pop(),r=s.pop();e===r;)l=e,e=a.pop(),r=s.pop();return l}(r,e),s=[r];r!==a;)s.push(r=r.parent);for(var l=s.length;e!==a;)s.splice(l,0,e),e=e.parent;return s},ancestors:function(){for(var e=this,r=[e];e=e.parent;)r.push(e);return r},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore(function(r){r.children||e.push(r)}),e},links:function(){var e=this,r=[];return e.each(function(a){a!==e&&r.push({source:a.parent,target:a})}),r},copy:function(){return Th(this).eachBefore(U1)},[Symbol.iterator]:function*(){var r,s,l,f,e=this,a=[e];do{for(r=a.reverse(),a=[];e=r.pop();)if(yield e,s=e.children)for(l=0,f=s.length;l<f;++l)a.push(s[l])}while(a.length)}};var uF={depth:-1},_E={};function fF(e){return e.id}function yE(e){return e.parentId}function bE(){var e=fF,r=yE;function a(s){var d,h,p,v,_,y,C,l=Array.from(s),f=l.length,M=new Map;for(h=0;h<f;++h)_=l[h]=new h4(d=l[h]),null!=(y=e(d,h,s))&&(y+="")&&(C=_.id=y,M.set(C,M.has(C)?_E:_)),null!=(y=r(d,h,s))&&(y+="")&&(_.parent=y);for(h=0;h<f;++h)if(y=(_=l[h]).parent){if(!(v=M.get(y)))throw new Error("missing: "+y);if(v===_E)throw new Error("ambiguous: "+y);v.children?v.children.push(_):v.children=[_],_.parent=v}else{if(p)throw new Error("multiple roots");p=_}if(!p)throw new Error("no root");if(p.parent=uF,p.eachBefore(function(w){w.depth=w.parent.depth+1,--f}).eachBefore(zh),p.parent=null,f>0)throw new Error("cycle");return p}return a.id=function(s){return arguments.length?(e=ll(s),a):e},a.parentId=function(s){return arguments.length?(r=ll(s),a):r},a}function CE(e,r){return e.parent===r.parent?1:2}function g4(e){var r=e.children;return r?r[0]:e.t}function fl(e){var r=e.children;return r?r[r.length-1]:e.t}function dF(e,r,a){var s=a/(r.i-e.i);r.c-=s,r.s+=a,e.c+=s,r.z+=a,r.m+=a}function Eg(e,r,a){return e.a.parent===r.parent?e.a:a}function e3(e,r){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=r}function pF(e,r){return e.parent===r.parent?1:2}function vF(e,r){return e+r.x}function _F(e,r){return Math.max(e,r.y)}function t3(e,r,a,s,l){for(var d,f=e.children,h=-1,p=f.length,v=e.value&&(l-a)/e.value;++h<p;)(d=f[h]).x0=r,d.x1=s,d.y0=a,d.y1=a+=d.value*v}e3.prototype=Object.create(h4.prototype);var xF=(1+Math.sqrt(5))/2;function xE(e,r,a,s,l,f){for(var p,v,M,w,A,T,N,I,F,O,P,d=[],h=r.children,_=0,y=0,C=h.length,S=r.value;_<C;){M=l-a,w=f-s;do{A=h[y++].value}while(!A&&y<C);for(T=N=A,P=A*A*(O=Math.max(w/M,M/w)/(S*e)),F=Math.max(N/P,P/T);y<C;++y){if(A+=v=h[y].value,v<T&&(T=v),v>N&&(N=v),P=A*A*O,(I=Math.max(N/P,P/T))>F){A-=v;break}F=I}d.push(p={value:A,dice:M<w,children:h.slice(_,y)}),p.dice?p4(p,a,s,l,S?s+=w*A/S:f):t3(p,a,s,S?a+=M*A/S:l,f),S-=A,_=y}return d}const Rh=function e(r){function a(s,l,f,d,h){xE(r,s,l,f,d,h)}return a.ratio=function(s){return e((s=+s)>1?s:1)},a}(xF),MF=function e(r){function a(s,l,f,d,h){if((p=s._squarify)&&p.ratio===r)for(var p,v,_,y,M,C=-1,w=p.length,S=s.value;++C<w;){for(_=(v=p[C]).children,y=v.value=0,M=_.length;y<M;++y)v.value+=_[y].value;v.dice?p4(v,l,f,d,S?f+=(h-f)*v.value/S:h):t3(v,l,f,S?l+=(d-l)*v.value/S:d,h),S-=v.value}else s._squarify=p=xE(r,s,l,f,d,h),p.ratio=r}return a.ratio=function(s){return e((s=+s)>1?s:1)},a}(xF);function dl(e,r,a){const s={};return e.each(l=>{const f=l.data;a(f)&&(s[r(f)]=l)}),e.lookup=s,e}function Vh(e){te.call(this,null,e)}Vh.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const EF=e=>e.values;function N2(){const e=[],r={entries:l=>s(a(l,0),0),key:l=>(e.push(l),r)};function a(l,f){if(f>=e.length)return l;const d=l.length,h=e[f++],p={},v={};let y,C,M,_=-1;for(;++_<d;)y=h(C=l[_])+"",(M=p[y])?M.push(C):p[y]=[C];for(y in p)v[y]=a(p[y],f);return v}function s(l,f){if(++f>e.length)return l;const d=[];for(const h in l)d.push({key:h,values:s(l[h],f)});return d}return r}function Cs(e){te.call(this,null,e)}(0,E.XW)(Vh,te,{transform(e,r){r.source||(0,E.vU)("Nest transform requires an upstream data source.");var a=e.generate,s=e.modified(),l=r.clone(),f=this.value;return(!f||s||r.changed())&&(f&&f.each(d=>{d.children&&Qo(d.data)&&l.rem.push(d.data)}),this.value=f=Th({values:(0,E.IX)(e.keys).reduce((d,h)=>(d.key(h),d),N2()).entries(l.source)},EF),a&&f.each(d=>{d.children&&(d=$t(d.data),l.add.push(d),l.source.push(d))}),dl(f,Ne,Ne)),l.source.root=f,l}});const ME=(e,r)=>e.parent===r.parent?1:2;(0,E.XW)(Cs,te,{transform(e,r){(!r.source||!r.source.root)&&(0,E.vU)(this.constructor.name+" transform requires a backing tree data source.");const a=this.layout(e.method),s=this.fields,l=r.source.root,f=e.as||s;e.field?l.sum(e.field):l.count(),e.sort&&l.sort(gc(e.sort,d=>d.data)),function(e,r,a){for(let s,l=0,f=r.length;l<f;++l)s=r[l],s in a&&e[s](a[s])}(a,this.params,e),a.separation&&a.separation(!1!==e.separation?ME:E.kX);try{this.value=a(l)}catch(d){(0,E.vU)(d)}return l.each(d=>function(e,r,a){const s=e.data,l=r.length-1;for(let f=0;f<l;++f)s[a[f]]=e[r[f]];s[a[l]]=e.children?e.children.length:0}(d,s,f)),r.reflow(e.modified()).modifies(f).modifies("leaf")}});const ml=["x","y","r","depth","children"];function Oh(e){Cs.call(this,e)}Oh.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:ml.length,default:ml}]},(0,E.XW)(Oh,Cs,{layout:function(){var e=null,r=1,a=1,s=ul;function l(f){return f.x=r/2,f.y=a/2,e?f.eachBefore(Ih(e)).eachAfter(m4(s,.5)).eachBefore(Lh(1)):f.eachBefore(Ih(cF)).eachAfter(m4(ul,1)).eachAfter(m4(s,f.r/Math.min(r,a))).eachBefore(Lh(Math.min(r,a)/(2*f.r))),f}return l.radius=function(f){return arguments.length?(e=sF(f),l):e},l.size=function(f){return arguments.length?(r=+f[0],a=+f[1],l):[r,a]},l.padding=function(f){return arguments.length?(s="function"==typeof f?f:bs(+f),l):s},l},params:["radius","size","padding"],fields:ml});const wE=["x0","y0","x1","y1","depth","children"];function Ph(e){Cs.call(this,e)}function Tg(e){te.call(this,null,e)}Ph.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:wE.length,default:wE}]},(0,E.XW)(Ph,Cs,{layout:function(){var e=1,r=1,a=0,s=!1;function l(d){var h=d.height+1;return d.x0=d.y0=a,d.x1=e,d.y1=r/h,d.eachBefore(function(d,h){return function(p){p.children&&p4(p,p.x0,d*(p.depth+1)/h,p.x1,d*(p.depth+2)/h);var v=p.x0,_=p.y0,y=p.x1-a,C=p.y1-a;y<v&&(v=y=(v+y)/2),C<_&&(_=C=(_+C)/2),p.x0=v,p.y0=_,p.x1=y,p.y1=C}}(r,h)),s&&d.eachBefore(vE),d}return l.round=function(d){return arguments.length?(s=!!d,l):s},l.size=function(d){return arguments.length?(e=+d[0],r=+d[1],l):[e,r]},l.padding=function(d){return arguments.length?(a=+d,l):a},l},params:["size","round","padding"],fields:wE}),Tg.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},(0,E.XW)(Tg,te,{transform(e,r){r.source||(0,E.vU)("Stratify transform requires an upstream data source.");let a=this.value;const s=e.modified(),l=r.fork(r.ALL).materialize(r.SOURCE),f=!a||s||r.changed(r.ADD_REM)||r.modified(e.key.fields)||r.modified(e.parentKey.fields);return l.source=l.source.slice(),f&&(a=l.source.length?dl(bE().id(e.key).parentId(e.parentKey)(l.source),e.key,E.yb):dl(bE()([{}]),e.key,e.key)),l.source.root=this.value=a,l}});const zg={tidy:function(){var e=CE,r=1,a=1,s=null;function l(v){var _=function(e){for(var a,l,f,d,h,r=new e3(e,0),s=[r];a=s.pop();)if(f=a._.children)for(a.children=new Array(h=f.length),d=h-1;d>=0;--d)s.push(l=a.children[d]=new e3(f[d],d)),l.parent=a;return(r.parent=new e3(null,0)).children=[r],r}(v);if(_.eachAfter(f),_.parent.m=-_.z,_.eachBefore(d),s)v.eachBefore(p);else{var y=v,C=v,M=v;v.eachBefore(function(N){N.x<y.x&&(y=N),N.x>C.x&&(C=N),N.depth>M.depth&&(M=N)});var w=y===C?1:e(y,C)/2,S=w-y.x,A=r/(C.x+w+S),T=a/(M.depth||1);v.eachBefore(function(N){N.x=(N.x+S)*A,N.y=N.depth*T})}return v}function f(v){var _=v.children,y=v.parent.children,C=v.i?y[v.i-1]:null;if(_){!function(e){for(var f,r=0,a=0,s=e.children,l=s.length;--l>=0;)(f=s[l]).z+=r,f.m+=r,r+=f.s+(a+=f.c)}(v);var M=(_[0].z+_[_.length-1].z)/2;C?(v.z=C.z+e(v._,C._),v.m=v.z-M):v.z=M}else C&&(v.z=C.z+e(v._,C._));v.parent.A=function(v,_,y){if(_){for(var F,C=v,M=v,w=_,S=C.parent.children[0],A=C.m,T=M.m,N=w.m,I=S.m;w=fl(w),C=g4(C),w&&C;)S=g4(S),(M=fl(M)).a=v,(F=w.z+N-C.z-A+e(w._,C._))>0&&(dF(Eg(w,v,y),v,F),A+=F,T+=F),N+=w.m,A+=C.m,I+=S.m,T+=M.m;w&&!fl(M)&&(M.t=w,M.m+=N-T),C&&!g4(S)&&(S.t=C,S.m+=A-I,y=v)}return y}(v,C,v.parent.A||y[0])}function d(v){v._.x=v.z+v.parent.m,v.m+=v.parent.m}function p(v){v.x*=r,v.y=v.depth*a}return l.separation=function(v){return arguments.length?(e=v,l):e},l.size=function(v){return arguments.length?(s=!1,r=+v[0],a=+v[1],l):s?null:[r,a]},l.nodeSize=function(v){return arguments.length?(s=!0,r=+v[0],a=+v[1],l):s?[r,a]:null},l},cluster:function(){var e=pF,r=1,a=1,s=!1;function l(f){var d,h=0;f.eachAfter(function(C){var M=C.children;M?(C.x=function(e){return e.reduce(vF,0)/e.length}(M),C.y=function(e){return 1+e.reduce(_F,0)}(M)):(C.x=d?h+=e(C,d):0,C.y=0,d=C)});var p=function(e){for(var r;r=e.children;)e=r[0];return e}(f),v=function(e){for(var r;r=e.children;)e=r[r.length-1];return e}(f),_=p.x-e(p,v)/2,y=v.x+e(v,p)/2;return f.eachAfter(s?function(C){C.x=(C.x-f.x)*r,C.y=(f.y-C.y)*a}:function(C){C.x=(C.x-_)/(y-_)*r,C.y=(1-(f.y?C.y/f.y:1))*a})}return l.separation=function(f){return arguments.length?(e=f,l):e},l.size=function(f){return arguments.length?(s=!1,r=+f[0],a=+f[1],l):s?null:[r,a]},l.nodeSize=function(f){return arguments.length?(s=!0,r=+f[0],a=+f[1],l):s?[r,a]:null},l}},Ng=["x","y","depth","children"];function EE(e){Cs.call(this,e)}function f1(e){te.call(this,[],e)}EE.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:Ng.length,default:Ng}]},(0,E.XW)(EE,Cs,{layout(e){const r=e||"tidy";if((0,E.nr)(zg,r))return zg[r]();(0,E.vU)("Unrecognized Tree layout method: "+r)},params:["size","nodeSize"],fields:Ng}),f1.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},(0,E.XW)(f1,te,{transform(e,r){const a=this.value,s=r.source&&r.source.root,l=r.fork(r.NO_SOURCE),f={};return s||(0,E.vU)("TreeLinks transform requires a tree data source."),r.changed(r.ADD_REM)?(l.rem=a,r.visit(r.SOURCE,d=>f[Ne(d)]=1),s.each(d=>{const h=d.data,p=d.parent&&d.parent.data;p&&f[Ne(h)]&&f[Ne(p)]&&l.add.push($t({source:p,target:h}))}),this.value=l.add):r.changed(r.MOD)&&(r.visit(r.MOD,d=>f[Ne(d)]=1),a.forEach(d=>{(f[Ne(d.source)]||f[Ne(d.target)])&&l.mod.push(d)})),l}});const DE={binary:function(e,r,a,s,l){var d,p,f=e.children,h=f.length,v=new Array(h+1);for(v[0]=p=d=0;d<h;++d)v[d+1]=p+=f[d].value;!function _(y,C,M,w,S,A,T){if(y>=C-1){var N=f[y];return N.x0=w,N.y0=S,N.x1=A,void(N.y1=T)}for(var I=v[y],F=M/2+I,O=y+1,P=C-1;O<P;){var V=O+P>>>1;v[V]<F?O=V+1:P=V}F-v[O-1]<v[O]-F&&y+1<O&&--O;var W=v[O]-I,Y=M-W;if(A-w>T-S){var q=M?(w*Y+A*W)/M:A;_(y,O,W,w,S,q,T),_(O,C,Y,q,S,A,T)}else{var G=M?(S*Y+T*W)/M:T;_(y,O,W,w,S,A,G),_(O,C,Y,w,G,A,T)}}(0,h,e.value,r,a,s,l)},dice:p4,slice:t3,slicedice:function(e,r,a,s,l){(1&e.depth?t3:p4)(e,r,a,s,l)},squarify:Rh,resquarify:MF},Ig=["x0","y0","x1","y1","depth","children"];function Lg(e){Cs.call(this,e)}function kF(e,r,a,s){const l=e.width,f=e.height,d=a||s,h=n2(l,f).getContext("2d");r.forEach(A=>AE(h,A,d));const p=new Uint32Array(h.getImageData(0,0,l,f).data.buffer),v=e.bitmap(),_=d&&e.bitmap();let y,C,M,w,S;for(C=0;C<f;++C)for(y=0;y<l;++y)S=4278190080&p[C*l+y],S&&(M=e(y),w=e(C),s||v.set(M,w),d&&268435456^S&&_.set(M,w));return[v,_]}function AE(e,r,a){if(!r.length)return;const s=r[0].mark.marktype;"group"===s?r.forEach(l=>{l.items.forEach(f=>AE(e,f.items,a))}):a1[s].draw(e,{items:a?r.map(TF):r})}function TF(e){const r=Ql(e,{});return r.stroke&&(r.strokeOpacity=1),r.fill&&(r.fillOpacity=.0625,r.stroke="#000",r.strokeOpacity=1,r.strokeWidth=2),r}Lg.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Ig.length,default:Ig}]},(0,E.XW)(Lg,Cs,{layout(){const e=function(){var e=Rh,r=!1,a=1,s=1,l=[0],f=ul,d=ul,h=ul,p=ul,v=ul;function _(C){return C.x0=C.y0=0,C.x1=a,C.y1=s,C.eachBefore(y),l=[0],r&&C.eachBefore(vE),C}function y(C){var M=l[C.depth],w=C.x0+M,S=C.y0+M,A=C.x1-M,T=C.y1-M;A<w&&(w=A=(w+A)/2),T<S&&(S=T=(S+T)/2),C.x0=w,C.y0=S,C.x1=A,C.y1=T,C.children&&(M=l[C.depth+1]=f(C)/2,w+=v(C)-M,S+=d(C)-M,(A-=h(C)-M)<w&&(w=A=(w+A)/2),(T-=p(C)-M)<S&&(S=T=(S+T)/2),e(C,w,S,A,T))}return _.round=function(C){return arguments.length?(r=!!C,_):r},_.size=function(C){return arguments.length?(a=+C[0],s=+C[1],_):[a,s]},_.tile=function(C){return arguments.length?(e=ll(C),_):e},_.padding=function(C){return arguments.length?_.paddingInner(C).paddingOuter(C):_.paddingInner()},_.paddingInner=function(C){return arguments.length?(f="function"==typeof C?C:bs(+C),_):f},_.paddingOuter=function(C){return arguments.length?_.paddingTop(C).paddingRight(C).paddingBottom(C).paddingLeft(C):_.paddingTop()},_.paddingTop=function(C){return arguments.length?(d="function"==typeof C?C:bs(+C),_):d},_.paddingRight=function(C){return arguments.length?(h="function"==typeof C?C:bs(+C),_):h},_.paddingBottom=function(C){return arguments.length?(p="function"==typeof C?C:bs(+C),_):p},_.paddingLeft=function(C){return arguments.length?(v="function"==typeof C?C:bs(+C),_):v},_}();return e.ratio=r=>{const a=e.tile();a.ratio&&e.tile(a.ratio(r))},e.method=r=>{(0,E.nr)(DE,r)?e.tile(DE[r]):(0,E.vU)("Unrecognized Treemap layout method: "+r)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:Ig});const I2=new Uint32Array(33),Ao=new Uint32Array(33);Ao[0]=0,I2[0]=~Ao[0];for(let e=1;e<=32;++e)Ao[e]=Ao[e-1]<<1|1,I2[e]=~Ao[e];function IF(e,r,a,s,l,f){let d=a/2;return e-d<0||e+d>l||r-(d=s/2)<0||r+d>f}function LF(){return!1}function FF(e,r,a,s,l,f,d,h){const p=l*f/(2*s),v=e(r-p),_=e(r+p),y=e(a-(f/=2)),C=e(a+f);return d.outOfBounds(v,y,_,C)||d.getRange(v,y,_,C)||h&&h.getRange(v,y,_,C)}function Fg(e,r,a,s,l,f,d,h){const p=l*f/(2*s);let v=e(r-p),_=e(r+p),y=e(a-(f/=2)),C=e(a+f);return v=v>0?v:0,y=y>0?y:0,_=_<e.width?_:e.width-1,C=C<e.height?C:e.height-1,d.getRange(v,y,_,C)||h&&h.getRange(v,y,_,C)}function Hh(e){return e?[Fg,LF]:[FF,IF]}const oW=[-1,-1,1,1],L2=[-1,1,-1,1],VF=["right","center","left"],OF=["bottom","middle","top"];function Rg(e,r,a,s,l,f,d,h,p,v,_,y){return!(l.outOfBounds(e,a,r,s)||(y&&f?f.getRange(e,a,r,s)||!function(e,r,a,s,l){return l[0]<=e&&a<=l[2]&&l[3]<=r&&s<=l[5]}(d,p,h,v,_):l.getRange(e,a,r,s)))}const HF={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},sW={naive:function(e,r,a,s){const l=e.width,f=e.height;return function(d){const h=d.datum.datum.items[s].items,p=h.length,v=d.datum.fontSize,_=rs.width(d.datum,d.datum.text);let C,M,w,S,A,T,N,y=0;for(let I=0;I<p;++I)C=h[I].x,w=h[I].y,M=void 0===h[I].x2?C:h[I].x2,S=void 0===h[I].y2?w:h[I].y2,A=(C+M)/2,T=(w+S)/2,N=Math.abs(M-C+S-w),N>=y&&(y=N,d.x=A,d.y=T);return A=_/2,T=v/2,C=d.x-A,M=d.x+A,w=d.y-T,S=d.y+T,d.align="center",C<0&&M<=l?d.align="left":0<=C&&l<M&&(d.align="right"),d.baseline="middle",w<0&&S<=f?d.baseline="top":0<=w&&f<S&&(d.baseline="bottom"),!0}},"reduced-search":function(e,r,a,s,l){const f=e.width,d=e.height,[h,p]=Hh(l),v=r[0],_=r[1];function y(C,M,w,S,A){const T=e.invert(C),N=e.invert(M);let O,I=w,F=d;if(!p(T,N,S,A,f,d)&&!h(e,T,N,A,S,I,v,_)&&!h(e,T,N,A,S,A,v,null)){for(;F-I>=1;)O=(I+F)/2,h(e,T,N,A,S,O,v,_)?F=O:I=O;if(I>w)return[T,N,I,!0]}}return function(C){const M=C.datum.datum.items[s].items,w=M.length,S=C.datum.fontSize,A=rs.width(C.datum,C.datum.text);let O,P,V,W,Y,q,G,re,ie,fe,J,ue,ye,De,$e,xt,hn,T=a?S:0,N=!1,I=!1,F=0;for(let vn=0;vn<w;++vn){for(O=M[vn].x,V=M[vn].y,P=void 0===M[vn].x2?O:M[vn].x2,W=void 0===M[vn].y2?V:M[vn].y2,O>P&&(hn=O,O=P,P=hn),V>W&&(hn=V,V=W,W=hn),ie=e(O),J=e(P),fe=~~((ie+J)/2),ue=e(V),De=e(W),ye=~~((ue+De)/2),G=fe;G>=ie;--G)for(re=ye;re>=ue;--re)xt=y(G,re,T,A,S),xt&&([C.x,C.y,T,N]=xt);for(G=fe;G<=J;++G)for(re=ye;re<=De;++re)xt=y(G,re,T,A,S),xt&&([C.x,C.y,T,N]=xt);!N&&!a&&($e=Math.abs(P-O+W-V),Y=(O+P)/2,q=(V+W)/2,$e>=F&&!p(Y,q,A,S,f,d)&&!h(e,Y,q,S,A,S,v,null)&&(F=$e,C.x=Y,C.y=q,I=!0))}return!(!N&&!I||(Y=A/2,q=S/2,v.setRange(e(C.x-Y),e(C.y-q),e(C.x+Y),e(C.y+q)),C.align="center",C.baseline="middle",0))}},floodfill:function(e,r,a,s,l){const f=e.width,d=e.height,[h,p]=Hh(l),v=r[0],_=r[1],y=e.bitmap();return function(C){const M=C.datum.datum.items[s].items,w=M.length,S=C.datum.fontSize,A=rs.width(C.datum,C.datum.text),T=[];let P,V,W,Y,q,G,re,ie,fe,J,ue,ye,N=a?S:0,I=!1,F=!1,O=0;for(let De=0;De<w;++De){for(P=M[De].x,W=M[De].y,V=void 0===M[De].x2?P:M[De].x2,Y=void 0===M[De].y2?W:M[De].y2,T.push([e((P+V)/2),e((W+Y)/2)]);T.length;)if([re,ie]=T.pop(),!(v.get(re,ie)||_.get(re,ie)||y.get(re,ie))){y.set(re,ie);for(let $e=0;$e<4;++$e)q=re+oW[$e],G=ie+L2[$e],y.outOfBounds(q,G,q,G)||T.push([q,G]);if(q=e.invert(re),G=e.invert(ie),fe=N,J=d,!p(q,G,A,S,f,d)&&!h(e,q,G,S,A,fe,v,_)&&!h(e,q,G,S,A,S,v,null)){for(;J-fe>=1;)ue=(fe+J)/2,h(e,q,G,S,A,ue,v,_)?J=ue:fe=ue;fe>N&&(C.x=q,C.y=G,N=fe,I=!0)}}!I&&!a&&(ye=Math.abs(V-P+Y-W),q=(P+V)/2,G=(W+Y)/2,ye>=O&&!p(q,G,A,S,f,d)&&!h(e,q,G,S,A,S,v,null)&&(O=ye,C.x=q,C.y=G,F=!0))}return!(!I&&!F||(q=A/2,G=S/2,v.setRange(e(C.x-q),e(C.y-G),e(C.x+q),e(C.y+G)),C.align="center",C.baseline="middle",0))}}};function BF(e,r,a,s,l,f,d,h,p,v,_){if(!e.length)return e;const y=Math.max(s.length,l.length),C=function(e,r){const a=new Float64Array(r),s=e.length;for(let l=0;l<s;++l)a[l]=e[l]||0;for(let l=s;l<r;++l)a[l]=a[s-1];return a}(s,y),M=function(e,r){const a=new Int8Array(r),s=e.length;for(let l=0;l<s;++l)a[l]|=HF[e[l]];for(let l=s;l<r;++l)a[l]=a[s-1];return a}(l,y),w=function(e){return e&&e.mark&&e.mark.marktype}(e[0].datum),S="group"===w&&e[0].datum.items[p].marktype,A="area"===S,T=function(e,r,a,s){const l=f=>[f.x,f.x,f.x,f.y,f.y,f.y];return e?"line"===e||"area"===e?f=>l(f.datum):"line"===r?f=>{const d=f.datum.items[s].items;return l(d.length?d["start"===a?0:d.length-1]:{x:NaN,y:NaN})}:f=>{const d=f.datum.bounds;return[d.x1,(d.x1+d.x2)/2,d.x2,d.y1,(d.y1+d.y2)/2,d.y2]}:l}(w,S,h,p),N=null===v||v===1/0,I=function(e,r,a){const s=Math.max(1,Math.sqrt(e*r/1e6)),l=~~((e+2*a+s)/s),f=~~((r+2*a+s)/s),d=h=>~~((h+a)/s);return d.invert=h=>h*s-a,d.bitmap=()=>function(e,r){const a=new Uint32Array(~~((e*r+32)/32));function s(f,d){a[f]|=d}function l(f,d){a[f]&=d}return{array:a,get:(f,d)=>{const h=d*e+f;return a[h>>>5]&1<<(31&h)},set:(f,d)=>{const h=d*e+f;s(h>>>5,1<<(31&h))},clear:(f,d)=>{const h=d*e+f;l(h>>>5,~(1<<(31&h)))},getRange:(f,d,h,p)=>{let _,y,C,M,v=p;for(;v>=d;--v)if(_=v*e+f,y=v*e+h,C=_>>>5,M=y>>>5,C===M){if(a[C]&I2[31&_]&Ao[1+(31&y)])return!0}else{if(a[C]&I2[31&_]||a[M]&Ao[1+(31&y)])return!0;for(let w=C+1;w<M;++w)if(a[w])return!0}return!1},setRange:(f,d,h,p)=>{let v,_,y,C,M;for(;d<=p;++d)if(v=d*e+f,_=d*e+h,y=v>>>5,C=_>>>5,y===C)s(y,I2[31&v]&Ao[1+(31&_)]);else for(s(y,I2[31&v]),s(C,Ao[1+(31&_)]),M=y+1;M<C;++M)s(M,4294967295)},clearRange:(f,d,h,p)=>{let v,_,y,C,M;for(;d<=p;++d)if(v=d*e+f,_=d*e+h,y=v>>>5,C=_>>>5,y===C)l(y,Ao[31&v]|I2[1+(31&_)]);else for(l(y,Ao[31&v]),l(C,I2[1+(31&_)]),M=y+1;M<C;++M)l(M,0)},outOfBounds:(f,d,h,p)=>f<0||d<0||p>=r||h>=e}}(l,f),d.ratio=s,d.padding=a,d.width=e,d.height=r,d}(r[0],r[1],N?0:v),F=A&&"naive"===_,O=e.map(W=>({datum:W,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:T(W)}));let P;if(!F){a&&O.sort((Y,q)=>a(Y.datum,q.datum));let W=!1;for(let Y=0;Y<M.length&&!W;++Y)W=5===M[Y]||C[Y]<0;w&&(d||A)&&(f=[e.map(Y=>Y.datum)].concat(f)),P=f.length?kF(I,f,W,A):function(e,r){const a=e.bitmap();return(r||[]).forEach(s=>a.set(e(s.boundary[0]),e(s.boundary[3]))),[a,void 0]}(I,d&&O)}const V=A?sW[_](I,P,d,p,N):function(e,r,a,s,l){const f=e.width,d=e.height,h=r[0],p=r[1],v=s.length;return function(_){const y=_.boundary,C=_.datum.fontSize;if(!l&&(y[2]<0||y[5]<0||y[0]>f||y[3]>d))return!1;let w,S,A,T,N,I,F,O,P,V,W,Y,q,G,re,M=0;for(let ie=0;ie<v;++ie){if(w=(3&a[ie])-1,S=(a[ie]>>>2&3)-1,A=0===w&&0===S||s[ie]<0,T=w&&S?Math.SQRT1_2:1,N=s[ie]<0?-1:1,I=y[1+w]+s[ie]*w*T,W=y[4+S]+N*C*S/2+s[ie]*S*T,O=W-C/2,P=W+C/2,Y=e(I),G=e(O),re=e(P),l&&(Y=Y<0?0:Y,G=G<0?0:G,re=re>=e.height?e.height-1:re),!M){if(!Rg(Y,Y,G,re,h,p,I,I,O,P,y,A))continue;M=rs.width(_.datum,_.datum.text)}if(V=I+N*M*w/2,I=V-M/2,F=V+M/2,Y=e(I),q=e(F),l&&(Y=Y<0?0:Y,q=q>=e.width?e.width-1:q),Rg(Y,q,G,re,h,p,I,F,O,P,y,A))return _.x=w?w*N<0?F:I:V,_.y=S?S*N<0?P:O:W,_.align=VF[w*N+1],_.baseline=OF[S*N+1],h.setRange(Y,G,q,re),!0}return!1}}(I,P,M,C,N);return O.forEach(W=>W.opacity=+V(W)),O}const v4=["x","y","opacity","align","baseline"],RE=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function jh(e){te.call(this,null,e)}function VE(e,r){var l,f,d,h,p,v,a=[],s=function(_){return _(h)};if(null==r)a.push(e);else for(l={},f=0,d=e.length;f<d;++f)h=e[f],(v=l[p=r.map(s)])||(l[p]=v=[],v.dims=p,a.push(v)),v.push(h);return a}function Og(e){te.call(this,null,e)}jh.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:RE},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:v4.length,default:v4}]},(0,E.XW)(jh,te,{transform(e,r){const s=e.modified();if(!(s||r.changed(r.ADD_REM)||function(f){const d=e.sort;return(0,E.mf)(d)&&r.modified(d.fields)}()))return;(!e.size||2!==e.size.length)&&(0,E.vU)("Size parameter should be specified as a [width, height] array.");const l=e.as||v4;return BF(r.materialize(r.SOURCE).source||[],e.size,e.sort,(0,E.IX)(null==e.offset?1:e.offset),(0,E.IX)(e.anchor||RE),e.avoidMarks||[],!1!==e.avoidBaseMark,e.lineAnchor||"end",e.markIndex||0,void 0===e.padding?0:e.padding,e.method||"naive").forEach(f=>{const d=f.datum;d[l[0]]=f.x,d[l[1]]=f.y,d[l[2]]=f.opacity,d[l[3]]=f.align,d[l[4]]=f.baseline}),r.reflow(s).modifies(l)}}),Og.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},(0,E.XW)(Og,te,{transform(e,r){const a=r.fork(r.NO_SOURCE|r.NO_FIELDS);if(!this.value||r.changed()||e.modified()){const l=VE(r.materialize(r.SOURCE).source,e.groupby),f=(e.groupby||[]).map(E.el),d=f.length,h=e.as||[(0,E.el)(e.x),(0,E.el)(e.y)],p=[];l.forEach(v=>{(function(e,r,a,s){const[l,f,d,h]=l0(e,r,a,!0),p=l.length,v=Math.max(2,~~(s*p)),_=new Float64Array(p),y=new Float64Array(p),C=new Float64Array(p).fill(1);for(let M=-1;++M<=2;){const w=[0,v-1];for(let A=0;A<p;++A){const T=l[A],N=w[0],I=w[1];let O=0,P=0,V=0,W=0,Y=0;const q=1/Math.abs(l[T-l[N]>l[I]-T?N:I]-T||1);for(let ie=N;ie<=I;++ie){const fe=l[ie],J=f[ie],ue=xT(Math.abs(T-fe)*q)*C[ie],ye=fe*ue;O+=ue,P+=ye,V+=J*ue,W+=J*ye,Y+=fe*ye}const[G,re]=c0(P/O,V/O,W/O,Y/O);_[A]=G+re*T,y[A]=Math.abs(f[A]-_[A]),Hf(l,A+1,w)}if(2===M)break;const S=H7(y);if(Math.abs(S)<1e-12)break;for(let T,N,A=0;A<p;++A)T=y[A]/(6*S),C[A]=T>=1?1e-12:(N=1-T*T)*N}return function(e,r,a,s){const l=e.length,f=[];let v,d=0,h=0,p=[];for(;d<l;++d)v=e[d]+a,p[0]===v?p[1]+=(r[d]-p[1])/++h:(h=0,p[1]+=s,p=[v,r[d]],f.push(p));return p[1]+=s,f}(l,_,d,h)})(v,e.x,e.y,e.bandwidth||.3).forEach(_=>{const y={};for(let C=0;C<d;++C)y[f[C]]=v.dims[C];y[h[0]]=_[0],y[h[1]]=_[1],p.push($t(y))})}),this.value&&(a.rem=this.value),this.value=a.add=a.source=p}return a}});const r3={linear:ob,log:function(e,r,a){let s=0,l=0,f=0,d=0,h=0;Ks(e,r,a,(_,y)=>{++h,_=Math.log(_),s+=(_-s)/h,l+=(y-l)/h,f+=(_*y-f)/h,d+=(_*_-d)/h});const p=c0(s,l,f,d),v=_=>p[0]+p[1]*Math.log(_);return{coef:p,predict:v,rSquared:Mc(e,r,a,l,v)}},exp:function(e,r,a){const[s,l,f,d]=l0(e,r,a);let C,M,w,h=0,p=0,v=0,_=0,y=0;Ks(e,r,a,(N,I)=>{C=s[y++],M=Math.log(I),w=C*I,h+=(I*M-h)/y,p+=(w-p)/y,v+=(w*M-v)/y,_+=(C*w-_)/y});const[S,A]=c0(p/d,h/d,v/d,_/d),T=N=>Math.exp(S+A*(N-f));return{coef:[Math.exp(S-A*f),A],predict:T,rSquared:Mc(e,r,a,d,T)}},pow:function(e,r,a){let s=0,l=0,f=0,d=0,h=0,p=0;Ks(e,r,a,(y,C)=>{const M=Math.log(y),w=Math.log(C);++p,s+=(M-s)/p,l+=(w-l)/p,f+=(M*w-f)/p,d+=(M*M-d)/p,h+=(C-h)/p});const v=c0(s,l,f,d),_=y=>v[0]*Math.pow(y,v[1]);return v[0]=Math.exp(v[0]),{coef:v,predict:_,rSquared:Mc(e,r,a,h,_)}},quad:ab,poly:function(e,r,a,s){if(1===s)return ob(e,r,a);if(2===s)return ab(e,r,a);const[l,f,d,h]=l0(e,r,a),p=l.length,v=[],_=[],y=s+1;let C,M,w,S,A;for(C=0;C<y;++C){for(w=0,S=0;w<p;++w)S+=Math.pow(l[w],C)*f[w];for(v.push(S),A=new Float64Array(y),M=0;M<y;++M){for(w=0,S=0;w<p;++w)S+=Math.pow(l[w],C+M);A[M]=S}_.push(A)}_.push(v);const T=function(e){const r=e.length-1,a=[];let s,l,f,d,h;for(s=0;s<r;++s){for(d=s,l=s+1;l<r;++l)Math.abs(e[s][l])>Math.abs(e[s][d])&&(d=l);for(f=s;f<r+1;++f)h=e[f][s],e[f][s]=e[f][d],e[f][d]=h;for(l=s+1;l<r;++l)for(f=r;f>=s;f--)e[f][l]-=e[f][s]*e[s][l]/e[s][s]}for(l=r-1;l>=0;--l){for(h=0,f=l+1;f<r;++f)h+=e[f][l]*a[f];a[l]=(e[r][l]-h)/e[l][l]}return a}(_),N=I=>{let F=h+T[0]+T[1]*(I-=d)+T[2]*I*I;for(C=3;C<y;++C)F+=T[C]*Math.pow(I,C);return F};return{coef:sb(y,T,-d,h),predict:N,rSquared:Mc(e,r,a,h,N)}}};function Pg(e){te.call(this,null,e)}Pg.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(r3)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},(0,E.XW)(Pg,te,{transform(e,r){const a=r.fork(r.NO_SOURCE|r.NO_FIELDS);if(!this.value||r.changed()||e.modified()){const l=VE(r.materialize(r.SOURCE).source,e.groupby),f=(e.groupby||[]).map(E.el),d=e.method||"linear",h=e.order||3,p=((e,r)=>"poly"===e?r:"quad"===e?2:1)(d,h),v=e.as||[(0,E.el)(e.x),(0,E.el)(e.y)],_=r3[d],y=[];let C=e.extent;(0,E.nr)(r3,d)||(0,E.vU)("Invalid regression method: "+d),null!=C&&"log"===d&&C[0]<=0&&(r.dataflow.warn("Ignoring extent with values <= 0 for log regression."),C=null),l.forEach(M=>{if(M.length<=p)return void r.dataflow.warn("Skipping regression with more parameters than data points.");const S=_(M,e.x,e.y,h);if(e.params)return void y.push($t({keys:M.dims,coef:S.coef,rSquared:S.rSquared}));const A=C||(0,E.We)(M,e.x),T=N=>{const I={};for(let F=0;F<f.length;++F)I[f[F]]=M.dims[F];I[v[0]]=N[0],I[v[1]]=N[1],y.push($t(I))};"linear"===d?A.forEach(N=>T([N,S.predict(N)])):U7(S.predict,A,25,200).forEach(T)}),this.value&&(a.rem=this.value),this.value=a.add=a.source=y}return a}});const OE=Math.pow(2,-52),Hg=new Uint32Array(512);class Bg{static from(r,a=GF,s=o3){const l=r.length,f=new Float64Array(2*l);for(let d=0;d<l;d++){const h=r[d];f[2*d]=a(h),f[2*d+1]=s(h)}return new Bg(f)}constructor(r){const a=r.length>>1;if(a>0&&"number"!=typeof r[0])throw new Error("Expected coords to contain numbers.");this.coords=r;const s=Math.max(2*a-5,0);this._triangles=new Uint32Array(3*s),this._halfedges=new Int32Array(3*s),this._hashSize=Math.ceil(Math.sqrt(a)),this._hullPrev=new Uint32Array(a),this._hullNext=new Uint32Array(a),this._hullTri=new Uint32Array(a),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(a),this._dists=new Float64Array(a),this.update()}update(){const{coords:r,_hullPrev:a,_hullNext:s,_hullTri:l,_hullHash:f}=this,d=r.length>>1;let h=1/0,p=1/0,v=-1/0,_=-1/0;for(let q=0;q<d;q++){const G=r[2*q],re=r[2*q+1];G<h&&(h=G),re<p&&(p=re),G>v&&(v=G),re>_&&(_=re),this._ids[q]=q}const y=(h+v)/2,C=(p+_)/2;let w,S,A,M=1/0;for(let q=0;q<d;q++){const G=jg(y,C,r[2*q],r[2*q+1]);G<M&&(w=q,M=G)}const T=r[2*w],N=r[2*w+1];M=1/0;for(let q=0;q<d;q++){if(q===w)continue;const G=jg(T,N,r[2*q],r[2*q+1]);G<M&&G>0&&(S=q,M=G)}let I=r[2*S],F=r[2*S+1],O=1/0;for(let q=0;q<d;q++){if(q===w||q===S)continue;const G=qF(T,N,I,F,r[2*q],r[2*q+1]);G<O&&(A=q,O=G)}let P=r[2*A],V=r[2*A+1];if(O===1/0){for(let re=0;re<d;re++)this._dists[re]=r[2*re]-r[0]||r[2*re+1]-r[1];_4(this._ids,this._dists,0,d-1);const q=new Uint32Array(d);let G=0;for(let re=0,ie=-1/0;re<d;re++){const fe=this._ids[re];this._dists[fe]>ie&&(q[G++]=fe,ie=this._dists[fe])}return this.hull=q.subarray(0,G),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if($h(T,N,I,F,P,V)){const q=S,G=I,re=F;S=A,I=P,F=V,A=q,P=G,V=re}const W=function(e,r,a,s,l,f){const d=a-e,h=s-r,p=l-e,v=f-r,_=d*d+h*h,y=p*p+v*v,C=.5/(d*v-h*p);return{x:e+(v*_-h*y)*C,y:r+(d*y-p*_)*C}}(T,N,I,F,P,V);this._cx=W.x,this._cy=W.y;for(let q=0;q<d;q++)this._dists[q]=jg(r[2*q],r[2*q+1],W.x,W.y);_4(this._ids,this._dists,0,d-1),this._hullStart=w;let Y=3;s[w]=a[A]=S,s[S]=a[w]=A,s[A]=a[S]=w,l[w]=0,l[S]=1,l[A]=2,f.fill(-1),f[this._hashKey(T,N)]=w,f[this._hashKey(I,F)]=S,f[this._hashKey(P,V)]=A,this.trianglesLen=0,this._addTriangle(w,S,A,-1,-1,-1);for(let G,re,q=0;q<this._ids.length;q++){const ie=this._ids[q],fe=r[2*ie],J=r[2*ie+1];if(q>0&&Math.abs(fe-G)<=OE&&Math.abs(J-re)<=OE||(G=fe,re=J,ie===w||ie===S||ie===A))continue;let ue=0;for(let hn=0,vn=this._hashKey(fe,J);hn<this._hashSize&&(ue=f[(vn+hn)%this._hashSize],-1===ue||ue===s[ue]);hn++);ue=a[ue];let De,ye=ue;for(;De=s[ye],!$h(fe,J,r[2*ye],r[2*ye+1],r[2*De],r[2*De+1]);)if(ye=De,ye===ue){ye=-1;break}if(-1===ye)continue;let $e=this._addTriangle(ye,ie,s[ye],-1,-1,l[ye]);l[ie]=this._legalize($e+2),l[ye]=$e,Y++;let xt=s[ye];for(;De=s[xt],$h(fe,J,r[2*xt],r[2*xt+1],r[2*De],r[2*De+1]);)$e=this._addTriangle(xt,ie,De,l[ie],-1,l[xt]),l[ie]=this._legalize($e+2),s[xt]=xt,Y--,xt=De;if(ye===ue)for(;De=a[ye],$h(fe,J,r[2*De],r[2*De+1],r[2*ye],r[2*ye+1]);)$e=this._addTriangle(De,ie,ye,-1,l[ye],l[De]),this._legalize($e+2),l[De]=$e,s[ye]=ye,Y--,ye=De;this._hullStart=a[ie]=ye,s[ye]=a[xt]=ie,s[ie]=xt,f[this._hashKey(fe,J)]=ie,f[this._hashKey(r[2*ye],r[2*ye+1])]=ye}this.hull=new Uint32Array(Y);for(let q=0,G=this._hullStart;q<Y;q++)this.hull[q]=G,G=s[G];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(r,a){return Math.floor(function(e,r){const a=e/(Math.abs(e)+Math.abs(r));return(r>0?3-a:1+a)/4}(r-this._cx,a-this._cy)*this._hashSize)%this._hashSize}_legalize(r){const{_triangles:a,_halfedges:s,coords:l}=this;let f=0,d=0;for(;;){const h=s[r],p=r-r%3;if(d=p+(r+2)%3,-1===h){if(0===f)break;r=Hg[--f];continue}const v=h-h%3,y=v+(h+2)%3,C=a[d],M=a[r],w=a[p+(r+1)%3],S=a[y];if(PE(l[2*C],l[2*C+1],l[2*M],l[2*M+1],l[2*w],l[2*w+1],l[2*S],l[2*S+1])){a[r]=S,a[h]=C;const T=s[y];if(-1===T){let I=this._hullStart;do{if(this._hullTri[I]===y){this._hullTri[I]=r;break}I=this._hullPrev[I]}while(I!==this._hullStart)}this._link(r,T),this._link(h,s[d]),this._link(d,y);const N=v+(h+1)%3;f<Hg.length&&(Hg[f++]=N)}else{if(0===f)break;r=Hg[--f]}}return d}_link(r,a){this._halfedges[r]=a,-1!==a&&(this._halfedges[a]=r)}_addTriangle(r,a,s,l,f,d){const h=this.trianglesLen;return this._triangles[h]=r,this._triangles[h+1]=a,this._triangles[h+2]=s,this._link(h,l),this._link(h+1,f),this._link(h+2,d),this.trianglesLen+=3,h}}function jg(e,r,a,s){const l=e-a,f=r-s;return l*l+f*f}function Ug(e,r,a,s,l,f){const d=(s-r)*(l-e),h=(a-e)*(f-r);return Math.abs(d-h)>=33306690738754716e-32*Math.abs(d+h)?d-h:0}function $h(e,r,a,s,l,f){return(Ug(l,f,e,r,a,s)||Ug(e,r,a,s,l,f)||Ug(a,s,l,f,e,r))<0}function PE(e,r,a,s,l,f,d,h){const p=e-d,v=r-h,_=a-d,y=s-h,C=l-d,M=f-h,S=_*_+y*y,A=C*C+M*M;return p*(y*A-S*M)-v*(_*A-S*C)+(p*p+v*v)*(_*M-y*C)<0}function qF(e,r,a,s,l,f){const d=a-e,h=s-r,p=l-e,v=f-r,_=d*d+h*h,y=p*p+v*v,C=.5/(d*v-h*p),M=(v*_-h*y)*C,w=(d*y-p*_)*C;return M*M+w*w}function _4(e,r,a,s){if(s-a<=20)for(let l=a+1;l<=s;l++){const f=e[l],d=r[f];let h=l-1;for(;h>=a&&r[e[h]]>d;)e[h+1]=e[h--];e[h+1]=f}else{let f=a+1,d=s;qh(e,a+s>>1,f),r[e[a]]>r[e[s]]&&qh(e,a,s),r[e[f]]>r[e[s]]&&qh(e,f,s),r[e[a]]>r[e[f]]&&qh(e,a,f);const h=e[f],p=r[h];for(;;){do{f++}while(r[e[f]]<p);do{d--}while(r[e[d]]>p);if(d<f)break;qh(e,f,d)}e[a+1]=e[d],e[d]=h,s-f+1>=d-a?(_4(e,r,f,s),_4(e,r,a,d-1)):(_4(e,r,a,d-1),_4(e,r,f,s))}}function qh(e,r,a){const s=e[r];e[r]=e[a],e[a]=s}function GF(e){return e[0]}function o3(e){return e[1]}class Ms{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(r,a){this._+=`M${this._x0=this._x1=+r},${this._y0=this._y1=+a}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(r,a){this._+=`L${this._x1=+r},${this._y1=+a}`}arc(r,a,s){const l=(r=+r)+(s=+s),f=a=+a;if(s<0)throw new Error("negative radius");null===this._x1?this._+=`M${l},${f}`:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-f)>1e-6)&&(this._+="L"+l+","+f),s&&(this._+=`A${s},${s},0,1,1,${r-s},${a}A${s},${s},0,1,1,${this._x1=l},${this._y1=f}`)}rect(r,a,s,l){this._+=`M${this._x0=this._x1=+r},${this._y0=this._y1=+a}h${+s}v${+l}h${-s}Z`}value(){return this._||null}}class Wh{constructor(){this._=[]}moveTo(r,a){this._.push([r,a])}closePath(){this._.push(this._[0].slice())}lineTo(r,a){this._.push([r,a])}value(){return this._.length?this._:null}}class s3{constructor(r,[a,s,l,f]=[0,0,960,500]){if(!((l=+l)>=(a=+a)&&(f=+f)>=(s=+s)))throw new Error("invalid bounds");this.delaunay=r,this._circumcenters=new Float64Array(2*r.points.length),this.vectors=new Float64Array(2*r.points.length),this.xmax=l,this.xmin=a,this.ymax=f,this.ymin=s,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:r,hull:a,triangles:s},vectors:l}=this,f=this.circumcenters=this._circumcenters.subarray(0,s.length/3*2);for(let A,T,M=0,w=0,S=s.length;M<S;M+=3,w+=2){const N=2*s[M],I=2*s[M+1],F=2*s[M+2],O=r[N],P=r[N+1],Y=r[F],q=r[F+1],G=r[I]-O,re=r[I+1]-P,ie=Y-O,fe=q-P,J=G*G+re*re,ue=ie*ie+fe*fe,ye=2*(G*fe-re*ie);if(ye)if(Math.abs(ye)<1e-8)A=(O+Y)/2,T=(P+q)/2;else{const De=1/ye;A=O+(fe*J-re*ue)*De,T=P+(G*ue-ie*J)*De}else A=(O+Y)/2-1e8*fe,T=(P+q)/2+1e8*ie;f[w]=A,f[w+1]=T}let h,v,y,d=a[a.length-1],p=4*d,_=r[2*d],C=r[2*d+1];l.fill(0);for(let M=0;M<a.length;++M)d=a[M],h=p,v=_,y=C,p=4*d,_=r[2*d],C=r[2*d+1],l[h+2]=l[p]=y-C,l[h+3]=l[p+1]=_-v}render(r){const a=null==r?r=new Ms:void 0,{delaunay:{halfedges:s,inedges:l,hull:f},circumcenters:d,vectors:h}=this;if(f.length<=1)return null;for(let _=0,y=s.length;_<y;++_){const C=s[_];if(C<_)continue;const M=2*Math.floor(_/3),w=2*Math.floor(C/3);this._renderSegment(d[M],d[M+1],d[w],d[w+1],r)}let p,v=f[f.length-1];for(let _=0;_<f.length;++_){p=v,v=f[_];const y=2*Math.floor(l[v]/3),C=d[y],M=d[y+1],w=4*p,S=this._project(C,M,h[w+2],h[w+3]);S&&this._renderSegment(C,M,S[0],S[1],r)}return a&&a.value()}renderBounds(r){const a=null==r?r=new Ms:void 0;return r.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),a&&a.value()}renderCell(r,a){const s=null==a?a=new Ms:void 0,l=this._clip(r);if(null===l||!l.length)return;a.moveTo(l[0],l[1]);let f=l.length;for(;l[0]===l[f-2]&&l[1]===l[f-1]&&f>1;)f-=2;for(let d=2;d<f;d+=2)(l[d]!==l[d-2]||l[d+1]!==l[d-1])&&a.lineTo(l[d],l[d+1]);return a.closePath(),s&&s.value()}*cellPolygons(){const{delaunay:{points:r}}=this;for(let a=0,s=r.length/2;a<s;++a){const l=this.cellPolygon(a);l&&(l.index=a,yield l)}}cellPolygon(r){const a=new Wh;return this.renderCell(r,a),a.value()}_renderSegment(r,a,s,l,f){let d;const h=this._regioncode(r,a),p=this._regioncode(s,l);0===h&&0===p?(f.moveTo(r,a),f.lineTo(s,l)):(d=this._clipSegment(r,a,s,l,h,p))&&(f.moveTo(d[0],d[1]),f.lineTo(d[2],d[3]))}contains(r,a,s){return(a=+a)==a&&(s=+s)==s&&this.delaunay._step(r,a,s)===r}*neighbors(r){const a=this._clip(r);if(a)for(const s of this.delaunay.neighbors(r)){const l=this._clip(s);if(l)e:for(let f=0,d=a.length;f<d;f+=2)for(let h=0,p=l.length;h<p;h+=2)if(a[f]==l[h]&&a[f+1]==l[h+1]&&a[(f+2)%d]==l[(h+p-2)%p]&&a[(f+3)%d]==l[(h+p-1)%p]){yield s;break e}}}_cell(r){const{circumcenters:a,delaunay:{inedges:s,halfedges:l,triangles:f}}=this,d=s[r];if(-1===d)return null;const h=[];let p=d;do{const v=Math.floor(p/3);if(h.push(a[2*v],a[2*v+1]),p=p%3==2?p-2:p+1,f[p]!==r)break;p=l[p]}while(p!==d&&-1!==p);return h}_clip(r){if(0===r&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const a=this._cell(r);if(null===a)return null;const{vectors:s}=this,l=4*r;return s[l]||s[l+1]?this._clipInfinite(r,a,s[l],s[l+1],s[l+2],s[l+3]):this._clipFinite(r,a)}_clipFinite(r,a){const s=a.length;let f,d,v,y,C,l=null,h=a[s-2],p=a[s-1],_=this._regioncode(h,p);for(let M=0;M<s;M+=2)if(f=h,d=p,h=a[M],p=a[M+1],v=_,_=this._regioncode(h,p),0===v&&0===_)y=C,C=0,l?l.push(h,p):l=[h,p];else{let w,S,A,T,N;if(0===v){if(null===(w=this._clipSegment(f,d,h,p,v,_)))continue;[S,A,T,N]=w}else{if(null===(w=this._clipSegment(h,p,f,d,_,v)))continue;[T,N,S,A]=w,y=C,C=this._edgecode(S,A),y&&C&&this._edge(r,y,C,l,l.length),l?l.push(S,A):l=[S,A]}y=C,C=this._edgecode(T,N),y&&C&&this._edge(r,y,C,l,l.length),l?l.push(T,N):l=[T,N]}if(l)y=C,C=this._edgecode(l[0],l[1]),y&&C&&this._edge(r,y,C,l,l.length);else if(this.contains(r,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return l}_clipSegment(r,a,s,l,f,d){for(;;){if(0===f&&0===d)return[r,a,s,l];if(f&d)return null;let h,p,v=f||d;8&v?(h=r+(s-r)*(this.ymax-a)/(l-a),p=this.ymax):4&v?(h=r+(s-r)*(this.ymin-a)/(l-a),p=this.ymin):2&v?(p=a+(l-a)*(this.xmax-r)/(s-r),h=this.xmax):(p=a+(l-a)*(this.xmin-r)/(s-r),h=this.xmin),f?f=this._regioncode(r=h,a=p):d=this._regioncode(s=h,l=p)}}_clipInfinite(r,a,s,l,f,d){let p,h=Array.from(a);if((p=this._project(h[0],h[1],s,l))&&h.unshift(p[0],p[1]),(p=this._project(h[h.length-2],h[h.length-1],f,d))&&h.push(p[0],p[1]),h=this._clipFinite(r,h))for(let y,v=0,_=h.length,C=this._edgecode(h[_-2],h[_-1]);v<_;v+=2)y=C,C=this._edgecode(h[v],h[v+1]),y&&C&&(v=this._edge(r,y,C,h,v),_=h.length);else this.contains(r,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(h=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return h}_edge(r,a,s,l,f){for(;a!==s;){let d,h;switch(a){case 5:a=4;continue;case 4:a=6,d=this.xmax,h=this.ymin;break;case 6:a=2;continue;case 2:a=10,d=this.xmax,h=this.ymax;break;case 10:a=8;continue;case 8:a=9,d=this.xmin,h=this.ymax;break;case 9:a=1;continue;case 1:a=5,d=this.xmin,h=this.ymin}(l[f]!==d||l[f+1]!==h)&&this.contains(r,d,h)&&(l.splice(f,0,d,h),f+=2)}if(l.length>4)for(let d=0;d<l.length;d+=2){const h=(d+2)%l.length,p=(d+4)%l.length;(l[d]===l[h]&&l[h]===l[p]||l[d+1]===l[h+1]&&l[h+1]===l[p+1])&&(l.splice(h,2),d-=2)}return f}_project(r,a,s,l){let d,h,p,f=1/0;if(l<0){if(a<=this.ymin)return null;(d=(this.ymin-a)/l)<f&&(p=this.ymin,h=r+(f=d)*s)}else if(l>0){if(a>=this.ymax)return null;(d=(this.ymax-a)/l)<f&&(p=this.ymax,h=r+(f=d)*s)}if(s>0){if(r>=this.xmax)return null;(d=(this.xmax-r)/s)<f&&(h=this.xmax,p=a+(f=d)*l)}else if(s<0){if(r<=this.xmin)return null;(d=(this.xmin-r)/s)<f&&(h=this.xmin,p=a+(f=d)*l)}return[h,p]}_edgecode(r,a){return(r===this.xmin?1:r===this.xmax?2:0)|(a===this.ymin?4:a===this.ymax?8:0)}_regioncode(r,a){return(r<this.xmin?1:r>this.xmax?2:0)|(a<this.ymin?4:a>this.ymax?8:0)}}const HE=2*Math.PI,F2=Math.pow;function $g(e){return e[0]}function BE(e){return e[1]}function XF(e,r,a){return[e+Math.sin(e+r)*a,r+Math.cos(e-r)*a]}class qg{static from(r,a=$g,s=BE,l){return new qg("length"in r?function(e,r,a,s){const l=e.length,f=new Float64Array(2*l);for(let d=0;d<l;++d){const h=e[d];f[2*d]=r.call(s,h,d,e),f[2*d+1]=a.call(s,h,d,e)}return f}(r,a,s,l):Float64Array.from(function*(e,r,a,s){let l=0;for(const f of e)yield r.call(s,f,l,e),yield a.call(s,f,l,e),++l}(r,a,s,l)))}constructor(r){this._delaunator=new Bg(r),this.inedges=new Int32Array(r.length/2),this._hullIndex=new Int32Array(r.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const r=this._delaunator,a=this.points;if(r.hull&&r.hull.length>2&&function(e){const{triangles:r,coords:a}=e;for(let s=0;s<r.length;s+=3){const l=2*r[s],f=2*r[s+1],d=2*r[s+2];if((a[d]-a[l])*(a[f+1]-a[l+1])-(a[f]-a[l])*(a[d+1]-a[l+1])>1e-10)return!1}return!0}(r)){this.collinear=Int32Array.from({length:a.length/2},(C,M)=>M).sort((C,M)=>a[2*C]-a[2*M]||a[2*C+1]-a[2*M+1]);const p=this.collinear[0],v=this.collinear[this.collinear.length-1],_=[a[2*p],a[2*p+1],a[2*v],a[2*v+1]],y=1e-8*Math.hypot(_[3]-_[1],_[2]-_[0]);for(let C=0,M=a.length/2;C<M;++C){const w=XF(a[2*C],a[2*C+1],y);a[2*C]=w[0],a[2*C+1]=w[1]}this._delaunator=new Bg(a)}else delete this.collinear;const s=this.halfedges=this._delaunator.halfedges,l=this.hull=this._delaunator.hull,f=this.triangles=this._delaunator.triangles,d=this.inedges.fill(-1),h=this._hullIndex.fill(-1);for(let p=0,v=s.length;p<v;++p){const _=f[p%3==2?p-2:p+1];(-1===s[p]||-1===d[_])&&(d[_]=p)}for(let p=0,v=l.length;p<v;++p)h[l[p]]=p;l.length<=2&&l.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=l[0],this.triangles[1]=l[1],this.triangles[2]=l[1],d[l[0]]=1,2===l.length&&(d[l[1]]=0))}voronoi(r){return new s3(this,r)}*neighbors(r){const{inedges:a,hull:s,_hullIndex:l,halfedges:f,triangles:d,collinear:h}=this;if(h){const y=h.indexOf(r);return y>0&&(yield h[y-1]),void(y<h.length-1&&(yield h[y+1]))}const p=a[r];if(-1===p)return;let v=p,_=-1;do{if(yield _=d[v],v=v%3==2?v-2:v+1,d[v]!==r)return;if(v=f[v],-1===v){const y=s[(l[r]+1)%s.length];return void(y!==_&&(yield y))}}while(v!==p)}find(r,a,s=0){if((r=+r)!=r||(a=+a)!=a)return-1;const l=s;let f;for(;(f=this._step(s,r,a))>=0&&f!==s&&f!==l;)s=f;return f}_step(r,a,s){const{inedges:l,hull:f,_hullIndex:d,halfedges:h,triangles:p,points:v}=this;if(-1===l[r]||!v.length)return(r+1)%(v.length>>1);let _=r,y=F2(a-v[2*r],2)+F2(s-v[2*r+1],2);const C=l[r];let M=C;do{let w=p[M];const S=F2(a-v[2*w],2)+F2(s-v[2*w+1],2);if(S<y&&(y=S,_=w),M=M%3==2?M-2:M+1,p[M]!==r)break;if(M=h[M],-1===M){if(M=f[(d[r]+1)%f.length],M!==w&&F2(a-v[2*M],2)+F2(s-v[2*M+1],2)<y)return M;break}}while(M!==C);return _}render(r){const a=null==r?r=new Ms:void 0,{points:s,halfedges:l,triangles:f}=this;for(let d=0,h=l.length;d<h;++d){const p=l[d];if(p<d)continue;const v=2*f[d],_=2*f[p];r.moveTo(s[v],s[v+1]),r.lineTo(s[_],s[_+1])}return this.renderHull(r),a&&a.value()}renderPoints(r,a=2){const s=null==r?r=new Ms:void 0,{points:l}=this;for(let f=0,d=l.length;f<d;f+=2){const h=l[f],p=l[f+1];r.moveTo(h+a,p),r.arc(h,p,a,0,HE)}return s&&s.value()}renderHull(r){const a=null==r?r=new Ms:void 0,{hull:s,points:l}=this,f=2*s[0],d=s.length;r.moveTo(l[f],l[f+1]);for(let h=1;h<d;++h){const p=2*s[h];r.lineTo(l[p],l[p+1])}return r.closePath(),a&&a.value()}hullPolygon(){const r=new Wh;return this.renderHull(r),r.value()}renderTriangle(r,a){const s=null==a?a=new Ms:void 0,{points:l,triangles:f}=this,d=2*f[r*=3],h=2*f[r+1],p=2*f[r+2];return a.moveTo(l[d],l[d+1]),a.lineTo(l[h],l[h+1]),a.lineTo(l[p],l[p+1]),a.closePath(),s&&s.value()}*trianglePolygons(){const{triangles:r}=this;for(let a=0,s=r.length/3;a<s;++a)yield this.trianglePolygon(a)}trianglePolygon(r){const a=new Wh;return this.renderTriangle(r,a),a.value()}}function y4(e){te.call(this,null,e)}y4.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const UE=[-1e5,-1e5,1e5,1e5];function cW(e){const r=e[0][0],a=e[0][1];let s=e.length-1;for(;e[s][0]===r&&e[s][1]===a;--s);return"M"+e.slice(0,s+1).join("L")+"Z"}(0,E.XW)(y4,te,{transform(e,r){const a=e.as||"path",s=r.source;if(!s||!s.length)return r;let l=e.size;l=l?[0,0,l[0],l[1]]:(l=e.extent)?[l[0][0],l[0][1],l[1][0],l[1][1]]:UE;const f=this.value=qg.from(s,e.x,e.y).voronoi(l);for(let d=0,h=s.length;d<h;++d){const p=f.cellPolygon(d);s[d][a]=p?cW(p):null}return r.reflow(e.modified()).modifies(a)}});var b4=Math.PI/180;function KF(e,r,a,s){if(!r.sprite){var l=e.context,f=e.ratio;l.clearRect(0,0,2048/f,2048/f);var _,y,C,M,w,d=0,h=0,p=0,v=a.length;for(--s;++s<v;){if(r=a[s],l.save(),l.font=r.style+" "+r.weight+" "+~~((r.size+1)/f)+"px "+r.font,_=l.measureText(r.text+"m").width*f,C=r.size<<1,r.rotate){var S=Math.sin(r.rotate*b4),A=Math.cos(r.rotate*b4),T=_*A,N=_*S,I=C*A,F=C*S;_=Math.max(Math.abs(T+F),Math.abs(T-F))+31>>5<<5,C=~~Math.max(Math.abs(N+I),Math.abs(N-I))}else _=_+31>>5<<5;if(C>p&&(p=C),d+_>=2048&&(d=0,h+=p,p=0),h+C>=2048)break;l.translate((d+(_>>1))/f,(h+(C>>1))/f),r.rotate&&l.rotate(r.rotate*b4),l.fillText(r.text,0,0),r.padding&&(l.lineWidth=2*r.padding,l.strokeText(r.text,0,0)),l.restore(),r.width=_,r.height=C,r.xoff=d,r.yoff=h,r.x1=_>>1,r.y1=C>>1,r.x0=-r.x1,r.y0=-r.y1,r.hasText=!0,d+=_}for(var O=l.getImageData(0,0,2048/f,2048/f).data,P=[];--s>=0;)if((r=a[s]).hasText){for(y=(_=r.width)>>5,C=r.y1-r.y0,M=0;M<C*y;M++)P[M]=0;if(null==(d=r.xoff))return;h=r.yoff;var V=0,W=-1;for(w=0;w<C;w++){for(M=0;M<_;M++){var q=O[2048*(h+w)+(d+M)<<2]?1<<31-M%32:0;P[y*w+(M>>5)]|=q,V|=q}V?W=w:(r.y0++,C--,w--,h++)}r.y1=r.y0+W,r.sprite=P.slice(0,(r.y1-r.y0)*y)}}}function QF(e,r,a){for(var _,s=e.sprite,l=e.width>>5,f=e.x-(l<<4),d=127&f,h=32-d,p=e.y1-e.y0,v=(e.y+e.y0)*(a>>=5)+(f>>5),y=0;y<p;y++){_=0;for(var C=0;C<=l;C++)if((_<<h|(C<l?(_=s[y*l+C])>>>d:0))&r[v+C])return!0;v+=a}return!1}function JF(e,r){var a=e[0],s=e[1];r.x+r.x0<a.x&&(a.x=r.x+r.x0),r.y+r.y0<a.y&&(a.y=r.y+r.y0),r.x+r.x1>s.x&&(s.x=r.x+r.x1),r.y+r.y1>s.y&&(s.y=r.y+r.y1)}function eR(e,r){return e.x+e.x1>r[0].x&&e.x+e.x0<r[1].x&&e.y+e.y1>r[0].y&&e.y+e.y0<r[1].y}function Xh(e){var r=e[0]/e[1];return function(a){return[r*(a*=.1)*Math.cos(a),a*Math.sin(a)]}}function gl(e){return"function"==typeof e?e:function(){return e}}var nR={archimedean:Xh,rectangular:function(e){var a=4*e[0]/e[1],s=0,l=0;return function(f){var d=f<0?-1:1;switch(Math.sqrt(1+4*d*f)-d&3){case 0:s+=a;break;case 1:l+=4;break;case 2:s-=a;break;default:l-=4}return[s,l]}}};const iR=["x","y","font","fontSize","fontStyle","fontWeight","angle"],rR=["text","font","rotate","fontSize","fontStyle","fontWeight"];function WE(e){te.call(this,function(){var r,a,s,l,f,d,h,e=[256,256],p=Xh,v=[],_=Math.random,y={};function M(w,S,A){for(var V,W,Y,T=S.x,N=S.y,I=Math.sqrt(e[0]*e[0]+e[1]*e[1]),F=p(e),O=_()<.5?1:-1,P=-O;(V=F(P+=O))&&(W=~~V[0],Y=~~V[1],!(Math.min(Math.abs(W),Math.abs(Y))>=I));)if(S.x=T+W,S.y=N+Y,!(S.x+S.x0<0||S.y+S.y0<0||S.x+S.x1>e[0]||S.y+S.y1>e[1])&&(!A||!QF(S,w,e[0]))&&(!A||eR(S,A))){for(var De,q=S.sprite,G=S.width>>5,re=e[0]>>5,ie=S.x-(G<<4),fe=127&ie,J=32-fe,ue=S.y1-S.y0,ye=(S.y+S.y0)*re+(ie>>5),$e=0;$e<ue;$e++){De=0;for(var xt=0;xt<=G;xt++)w[ye+xt]|=De<<J|(xt<G?(De=q[$e*G+xt])>>>fe:0);ye+=re}return S.sprite=null,!0}return!1}return y.layout=function(){for(var w=function(w){w.width=w.height=1;var S=Math.sqrt(w.getContext("2d").getImageData(0,0,1,1).data.length>>2);w.width=2048/S,w.height=2048/S;var A=w.getContext("2d");return A.fillStyle=A.strokeStyle="red",A.textAlign="center",{context:A,ratio:S}}(n2()),S=function(e){for(var r=[],a=-1;++a<e;)r[a]=0;return r}((e[0]>>5)*e[1]),A=null,T=v.length,N=-1,I=[],F=v.map(P=>({text:r(P),font:a(P),style:l(P),weight:f(P),rotate:d(P),size:~~(s(P)+1e-14),padding:h(P),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:P})).sort((P,V)=>V.size-P.size);++N<T;){var O=F[N];O.x=e[0]*(_()+.5)>>1,O.y=e[1]*(_()+.5)>>1,KF(w,O,F,N),O.hasText&&M(S,O,A)&&(I.push(O),A?JF(A,O):A=[{x:O.x+O.x0,y:O.y+O.y0},{x:O.x+O.x1,y:O.y+O.y1}],O.x-=e[0]>>1,O.y-=e[1]>>1)}return I},y.words=function(w){return arguments.length?(v=w,y):v},y.size=function(w){return arguments.length?(e=[+w[0],+w[1]],y):e},y.font=function(w){return arguments.length?(a=gl(w),y):a},y.fontStyle=function(w){return arguments.length?(l=gl(w),y):l},y.fontWeight=function(w){return arguments.length?(f=gl(w),y):f},y.rotate=function(w){return arguments.length?(d=gl(w),y):d},y.text=function(w){return arguments.length?(r=gl(w),y):r},y.spiral=function(w){return arguments.length?(p=nR[w]||w,y):p},y.fontSize=function(w){return arguments.length?(s=gl(w),y):s},y.padding=function(w){return arguments.length?(h=gl(w),y):h},y.random=function(w){return arguments.length?(_=w,y):_},y}(),e)}WE.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:iR}]},(0,E.XW)(WE,te,{transform(e,r){e.size&&(!e.size[0]||!e.size[1])&&(0,E.vU)("Wordcloud size dimensions must be non-zero.");const s=e.modified();if(!(s||r.changed(r.ADD_REM)||rR.some(function(w){const S=e[w];return(0,E.mf)(S)&&r.modified(S.fields)})))return;const l=r.materialize(r.SOURCE).source,f=this.value,d=e.as||iR;let p,h=e.fontSize||14;if((0,E.mf)(h)?p=e.fontSizeRange:h=(0,E.a9)(h),p){const w=h,S=Ht("sqrt")().domain((0,E.We)(l,w)).range(p);h=A=>S(w(A))}l.forEach(w=>{w[d[0]]=NaN,w[d[1]]=NaN,w[d[3]]=0});const v=f.words(l).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(h).random(lr).layout(),_=f.size(),y=_[0]>>1,C=_[1]>>1,M=v.length;for(let S,A,w=0;w<M;++w)S=v[w],A=S.datum,A[d[0]]=S.x+y,A[d[1]]=S.y+C,A[d[2]]=S.font,A[d[3]]=S.size,A[d[4]]=S.style,A[d[5]]=S.weight,A[d[6]]=S.rotate;return r.reflow(s).modifies(d)}});const oR=e=>new Uint8Array(e),aR=e=>new Uint16Array(e),C4=e=>new Uint32Array(e);function Yh(e,r,a){const s=(r<257?oR:r<65537?aR:C4)(e);return a&&s.set(a),s}function vl(e,r,a){const s=1<<r;return{one:s,zero:~s,range:a.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(l,f){const d=this,h=d.bisect(d.range,l.value),p=l.index,v=h[0],_=h[1],y=p.length;let C;for(C=0;C<v;++C)f[p[C]]|=s;for(C=_;C<y;++C)f[p[C]]|=s;return d}}}function XE(){let e=C4(0),r=[],a=0;return{insert:function(h,p,v){if(!p.length)return[];const _=a,y=p.length,C=C4(y);let w,S,A,M=Array(y);for(A=0;A<y;++A)M[A]=h(p[A]),C[A]=A;if(M=function(e,r){return e.sort.call(r,(a,s)=>{const l=e[a],f=e[s];return l<f?-1:l>f?1:0}),function(e,r){return Array.from(r,a=>e[a])}(e,r)}(M,C),_)w=r,S=e,r=Array(_+y),e=C4(_+y),function(e,r,a,s,l,f,d,h,p){let y,v=0,_=0;for(y=0;v<s&&_<d;++y)r[v]<l[_]?(h[y]=r[v],p[y]=a[v++]):(h[y]=l[_],p[y]=f[_++]+e);for(;v<s;++v,++y)h[y]=r[v],p[y]=a[v];for(;_<d;++_,++y)h[y]=l[_],p[y]=f[_]+e}(v,w,S,_,M,C,y,r,e);else{if(v>0)for(A=0;A<y;++A)C[A]+=v;r=M,e=C}return a=_+y,{index:C,value:M}},remove:function(h,p){const v=a;let _,y,C;for(y=0;!p[e[y]]&&y<v;++y);for(C=y;y<v;++y)p[_=e[y]]||(e[C]=_,r[C]=r[y],++C);a=v-h},bisect:function(h,p){let v;return p?v=p.length:(p=r,v=a),[tz(p,h[0],0,v),p8(p,h[1],0,v)]},reindex:function(h){for(let p=0,v=a;p<v;++p)e[p]=h[e[p]]},index:()=>e,size:()=>a}}function Gg(e){te.call(this,function(){let e=8,r=[],a=C4(0),s=Yh(0,e),l=Yh(0,e);return{data:()=>r,seen:()=>a=function(e,r,a){return e.length>=r?e:((a=a||new e.constructor(r)).set(e),a)}(a,r.length),add(f){for(let v,d=0,h=r.length,p=f.length;d<p;++d)v=f[d],v._index=h++,r.push(v)},remove(f,d){const h=r.length,p=Array(h-f),v=r;let _,y,C;for(y=0;!d[y]&&y<h;++y)p[y]=r[y],v[y]=y;for(C=y;y<h;++y)_=r[y],d[y]?v[y]=-1:(v[y]=C,s[C]=s[y],l[C]=l[y],p[C]=_,_._index=C++),s[y]=0;return r=p,v},size:()=>r.length,curr:()=>s,prev:()=>l,reset:f=>l[f]=s[f],all:()=>e<257?255:e<65537?65535:4294967295,set(f,d){s[f]|=d},clear(f,d){s[f]&=~d},resize(f,d){(f>s.length||d>e)&&(e=Math.max(d,e),s=Yh(f,e,s),l=Yh(f,e))}}}(),e),this._indices=null,this._dims=null}function Xg(e){te.call(this,null,e)}Gg.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},(0,E.XW)(Gg,te,{transform(e,r){return this._dims?e.modified("fields")||e.fields.some(s=>r.modified(s.fields))?this.reinit(e,r):this.eval(e,r):this.init(e,r)},init(e,r){const a=e.fields,s=e.query,l=this._indices={},f=this._dims=[],d=s.length;let p,v,h=0;for(;h<d;++h)p=a[h].fname,v=l[p]||(l[p]=XE()),f.push(vl(v,h,s[h]));return this.eval(e,r)},reinit(e,r){const a=r.materialize().fork(),s=e.fields,l=e.query,f=this._indices,d=this._dims,h=this.value,p=h.curr(),v=h.prev(),_=h.all(),y=a.rem=a.add,C=a.mod,M=l.length,w={};let S,A,T,N,I,F,O,P,V;if(v.set(p),r.rem.length&&(I=this.remove(e,r,a)),r.add.length&&h.add(r.add),r.mod.length)for(F={},N=r.mod,O=0,P=N.length;O<P;++O)F[N[O]._index]=1;for(O=0;O<M;++O)V=s[O],(!d[O]||e.modified("fields",O)||r.modified(V.fields))&&(T=V.fname,(S=w[T])||(f[T]=A=XE(),w[T]=S=A.insert(V,r.source,0)),d[O]=vl(A,O,l[O]).onAdd(S,p));for(O=0,P=h.data().length;O<P;++O)I[O]||(v[O]!==p[O]?y.push(O):F[O]&&p[O]!==_&&C.push(O));return h.mask=(1<<M)-1,a},eval(e,r){const a=r.materialize().fork(),s=this._dims.length;let l=0;return r.rem.length&&(this.remove(e,r,a),l|=(1<<s)-1),e.modified("query")&&!e.modified("fields")&&(l|=this.update(e,r,a)),r.add.length&&(this.insert(e,r,a),l|=(1<<s)-1),r.mod.length&&(this.modify(r,a),l|=(1<<s)-1),this.value.mask=l,a},insert(e,r,a){const s=r.add,l=this.value,f=this._dims,d=this._indices,h=e.fields,p={},v=a.add,_=l.size()+s.length,y=f.length;let M,w,S,C=l.size();l.resize(_,y),l.add(s);const A=l.curr(),T=l.prev(),N=l.all();for(M=0;M<y;++M)w=h[M].fname,S=p[w]||(p[w]=d[w].insert(h[M],s,C)),f[M].onAdd(S,A);for(;C<_;++C)T[C]=N,A[C]!==N&&v.push(C)},modify(e,r){const a=r.mod,s=this.value,l=s.curr(),f=s.all(),d=e.mod;let h,p,v;for(h=0,p=d.length;h<p;++h)v=d[h]._index,l[v]!==f&&a.push(v)},remove(e,r,a){const s=this._indices,l=this.value,f=l.curr(),d=l.prev(),h=l.all(),p={},v=a.rem,_=r.rem;let y,C,M,w;for(y=0,C=_.length;y<C;++y)M=_[y]._index,p[M]=1,d[M]=w=f[M],f[M]=h,w!==h&&v.push(M);for(M in s)s[M].remove(C,p);return this.reindex(r,C,p),p},reindex(e,r,a){const s=this._indices,l=this.value;e.runAfter(()=>{const f=l.remove(r,a);for(const d in s)s[d].reindex(f)})},update(e,r,a){const s=this._dims,l=e.query,f=r.stamp,d=s.length;let p,v,h=0;for(a.filters=0,v=0;v<d;++v)e.modified("query",v)&&(p=v,++h);if(1===h)h=s[p].one,this.incrementOne(s[p],l[p],a.add,a.rem);else for(v=0,h=0;v<d;++v)!e.modified("query",v)||(h|=s[v].one,this.incrementAll(s[v],l[v],f,a.add),a.rem=a.add);return h},incrementAll(e,r,a,s){const l=this.value,f=l.seen(),d=l.curr(),h=l.prev(),p=e.index(),v=e.bisect(e.range),_=e.bisect(r),y=_[0],C=_[1],M=v[0],w=v[1],S=e.one;let A,T,N;if(y<M)for(A=y,T=Math.min(M,C);A<T;++A)N=p[A],f[N]!==a&&(h[N]=d[N],f[N]=a,s.push(N)),d[N]^=S;else if(y>M)for(A=M,T=Math.min(y,w);A<T;++A)N=p[A],f[N]!==a&&(h[N]=d[N],f[N]=a,s.push(N)),d[N]^=S;if(C>w)for(A=Math.max(y,w),T=C;A<T;++A)N=p[A],f[N]!==a&&(h[N]=d[N],f[N]=a,s.push(N)),d[N]^=S;else if(C<w)for(A=Math.max(M,C),T=w;A<T;++A)N=p[A],f[N]!==a&&(h[N]=d[N],f[N]=a,s.push(N)),d[N]^=S;e.range=r.slice()},incrementOne(e,r,a,s){const f=this.value.curr(),d=e.index(),h=e.bisect(e.range),p=e.bisect(r),v=p[0],_=p[1],y=h[0],C=h[1],M=e.one;let w,S,A;if(v<y)for(w=v,S=Math.min(y,_);w<S;++w)A=d[w],f[A]^=M,a.push(A);else if(v>y)for(w=y,S=Math.min(v,C);w<S;++w)A=d[w],f[A]^=M,s.push(A);if(_>C)for(w=Math.max(v,C),S=_;w<S;++w)A=d[w],f[A]^=M,a.push(A);else if(_<C)for(w=Math.max(y,_),S=C;w<S;++w)A=d[w],f[A]^=M,s.push(A);e.range=r.slice()}}),Xg.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},(0,E.XW)(Xg,te,{transform(e,r){const a=~(e.ignore||0),s=e.filter,l=s.mask;if(0==(l&a))return r.StopPropagation;const f=r.fork(r.ALL),d=s.data(),h=s.curr(),p=s.prev(),v=_=>h[_]&a?null:d[_];return f.filter(f.MOD,v),l&l-1?(f.filter(f.ADD,_=>{const y=h[_]&a;return!y&&y^p[_]&a?d[_]:null}),f.filter(f.REM,_=>{const y=h[_]&a;return!y||y^y^p[_]&a?null:d[_]})):(f.filter(f.ADD,v),f.filter(f.REM,_=>(h[_]&a)===l?d[_]:null)),f.filter(f.SOURCE,_=>v(_._index))}});const x4="Literal",Yg="CallExpression";function li(e){this.type=e}var wa,ke,se,Mr,Qt;li.prototype.visit=function(e){let r,a,s;if(e(this))return 1;for(r=function(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case Yg:return[e.callee].concat(e.arguments);case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];default:return[]}}(this),a=0,s=r.length;a<s;++a)if(r[a].visit(e))return 1},(wa={})[1]="Boolean",wa[2]="<end>",wa[3]="Identifier",wa[4]="Keyword",wa[5]="Null",wa[6]="Numeric",wa[7]="Punctuator",wa[8]="String",wa[9]="RegularExpression";var ZE="Identifier",ui="Unexpected token %0",Zh="Invalid regular expression",Kh="Invalid regular expression: missing /",JE="Octal literals are not allowed in strict mode.",fi="ILLEGAL",Ea="Disabled.",Xn=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),tD=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function _l(e,r){if(!e)throw new Error("ASSERT: "+r)}function V2(e){return e>=48&&e<=57}function ko(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function E4(e){return"01234567".indexOf(e)>=0}function ws(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function yl(e){return 10===e||13===e||8232===e||8233===e}function D4(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&Xn.test(String.fromCharCode(e))}function f3(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&tD.test(String.fromCharCode(e))}const S4={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function Qh(){for(;se<Mr;){const e=ke.charCodeAt(se);if(!ws(e)&&!yl(e))break;++se}}function tv(e){var r,a,s,l=0;for(a="u"===e?4:2,r=0;r<a;++r)se<Mr&&ko(ke[se])?(s=ke[se++],l=16*l+"0123456789abcdef".indexOf(s.toLowerCase())):At({},ui,fi);return String.fromCharCode(l)}function wR(){var e,r;for(r=0,"}"===(e=ke[se])&&At({},ui,fi);se<Mr&&ko(e=ke[se++]);)r=16*r+"0123456789abcdef".indexOf(e.toLowerCase());return(r>1114111||"}"!==e)&&At({},ui,fi),r<=65535?String.fromCharCode(r):String.fromCharCode(55296+(r-65536>>10),56320+(r-65536&1023))}function nD(){var e,r;for(e=ke.charCodeAt(se++),r=String.fromCharCode(e),92===e&&(117!==ke.charCodeAt(se)&&At({},ui,fi),++se,(!(e=tv("u"))||"\\"===e||!D4(e.charCodeAt(0)))&&At({},ui,fi),r=e);se<Mr&&f3(e=ke.charCodeAt(se));)++se,r+=String.fromCharCode(e),92===e&&(r=r.substr(0,r.length-1),117!==ke.charCodeAt(se)&&At({},ui,fi),++se,(!(e=tv("u"))||"\\"===e||!f3(e.charCodeAt(0)))&&At({},ui,fi),r+=e);return r}function nv(){var a,l,f,d,e=se,r=ke.charCodeAt(se),s=ke[se];switch(r){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++se,{type:7,value:String.fromCharCode(r),start:e,end:se};default:if(61===(a=ke.charCodeAt(se+1)))switch(r){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return se+=2,{type:7,value:String.fromCharCode(r)+String.fromCharCode(a),start:e,end:se};case 33:case 61:return 61===ke.charCodeAt(se+=2)&&++se,{type:7,value:ke.slice(e,se),start:e,end:se}}}return">>>="===(d=ke.substr(se,4))?{type:7,value:d,start:e,end:se+=4}:">>>"===(f=d.substr(0,3))||"<<="===f||">>="===f?{type:7,value:f,start:e,end:se+=3}:s===(l=f.substr(0,2))[1]&&"+-<>&|".indexOf(s)>=0||"=>"===l?{type:7,value:l,start:e,end:se+=2}:("//"===l&&At({},ui,fi),"<>=!+-*%&|^/".indexOf(s)>=0?{type:7,value:s,start:e,end:++se}:void At({},ui,fi))}function oD(){var e,r,a;if(_l(V2((a=ke[se]).charCodeAt(0))||"."===a,"Numeric literal must start with a decimal digit or a decimal point"),r=se,e="","."!==a){if(e=ke[se++],a=ke[se],"0"===e){if("x"===a||"X"===a)return++se,function(e){let r="";for(;se<Mr&&ko(ke[se]);)r+=ke[se++];return 0===r.length&&At({},ui,fi),D4(ke.charCodeAt(se))&&At({},ui,fi),{type:6,value:parseInt("0x"+r,16),start:e,end:se}}(r);if(E4(a))return function(e){let r="0"+ke[se++];for(;se<Mr&&E4(ke[se]);)r+=ke[se++];return(D4(ke.charCodeAt(se))||V2(ke.charCodeAt(se)))&&At({},ui,fi),{type:6,value:parseInt(r,8),octal:!0,start:e,end:se}}(r);a&&V2(a.charCodeAt(0))&&At({},ui,fi)}for(;V2(ke.charCodeAt(se));)e+=ke[se++];a=ke[se]}if("."===a){for(e+=ke[se++];V2(ke.charCodeAt(se));)e+=ke[se++];a=ke[se]}if("e"===a||"E"===a)if(e+=ke[se++],("+"===(a=ke[se])||"-"===a)&&(e+=ke[se++]),V2(ke.charCodeAt(se)))for(;V2(ke.charCodeAt(se));)e+=ke[se++];else At({},ui,fi);return D4(ke.charCodeAt(se))&&At({},ui,fi),{type:6,value:parseFloat(e),start:r,end:se}}function O2(){if(Qh(),se>=Mr)return{type:2,start:se,end:se};const e=ke.charCodeAt(se);return D4(e)?function(){var e,r;return e=se,r=92===ke.charCodeAt(se)?nD():function(){var e,r;for(e=se++;se<Mr;){if(92===(r=ke.charCodeAt(se)))return se=e,nD();if(!f3(r))break;++se}return ke.slice(e,se)}(),{type:1===r.length?3:S4.hasOwnProperty(r)?4:"null"===r?5:"true"===r||"false"===r?1:3,value:r,start:e,end:se}}():40===e||41===e||59===e?nv():39===e||34===e?function(){var r,a,s,l,e="",f=!1;for(_l("'"===(r=ke[se])||'"'===r,"String literal must starts with a quote"),a=se,++se;se<Mr;){if((s=ke[se++])===r){r="";break}if("\\"===s)if((s=ke[se++])&&yl(s.charCodeAt(0)))"\r"===s&&"\n"===ke[se]&&++se;else switch(s){case"u":case"x":"{"===ke[se]?(++se,e+=wR()):e+=tv(s);break;case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:E4(s)?(0!==(l="01234567".indexOf(s))&&(f=!0),se<Mr&&E4(ke[se])&&(f=!0,l=8*l+"01234567".indexOf(ke[se++]),"0123".indexOf(s)>=0&&se<Mr&&E4(ke[se])&&(l=8*l+"01234567".indexOf(ke[se++]))),e+=String.fromCharCode(l)):e+=s}else{if(yl(s.charCodeAt(0)))break;e+=s}}return""!==r&&At({},ui,fi),{type:8,value:e,octal:f,start:a,end:se}}():46===e?V2(ke.charCodeAt(se+1))?oD():nv():V2(e)?oD():nv()}function Ur(){const e=Qt;return se=e.end,Qt=O2(),se=e.end,e}function iv(){const e=se;Qt=O2(),se=e}function cD(e,r,a){const s=new li("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return s.operator=e,s.left=r,s.right=a,s}function NR(e,r){const a=new li("CallExpression");return a.callee=e,a.arguments=r,a}function d3(e){const r=new li(ZE);return r.name=e,r}function Ke(e){const r=new li("Literal");return r.value=e.value,r.raw=ke.slice(e.start,e.end),e.regex&&("//"===r.raw&&(r.raw="/(?:)/"),r.regex=e.regex),r}function Da(e,r,a){const s=new li("MemberExpression");return s.computed="["===e,s.object=r,s.property=a,s.computed||(a.member=!0),s}function rv(e,r,a){const s=new li("Property");return s.key=r,s.value=a,s.kind=e,s}function At(e,r){var a,s=Array.prototype.slice.call(arguments,2),l=r.replace(/%(\d)/g,(f,d)=>(_l(d<s.length,"Message reference must be in range"),s[d]));throw(a=new Error(l)).index=se,a.description=l,a}function Jh(e){2===e.type&&At(e,"Unexpected end of input"),6===e.type&&At(e,"Unexpected number"),8===e.type&&At(e,"Unexpected string"),3===e.type&&At(e,"Unexpected identifier"),4===e.type&&At(e,"Unexpected reserved word"),At(e,ui,e.value)}function di(e){const r=Ur();(7!==r.type||r.value!==e)&&Jh(r)}function ln(e){return 7===Qt.type&&Qt.value===e}function A4(e){return 4===Qt.type&&Qt.value===e}function lD(){se=Qt.start;const e=Ur();return 8===e.type||6===e.type?(e.octal&&At(e,JE),Ke(e)):d3(e.value)}function uD(){var e,r,a;return se=Qt.start,3===(e=Qt).type?(a=lD(),di(":"),rv("init",a,bl())):2!==e.type&&7!==e.type?(r=lD(),di(":"),rv("init",r,bl())):void Jh(e)}const ov={if:1};function RR(){var e,r,a;if(ln("("))return function(){di("(");const e=lv();return di(")"),e}();if(ln("["))return function(){const e=[];for(se=Qt.start,di("[");!ln("]");)ln(",")?(Ur(),e.push(null)):(e.push(bl()),ln("]")||di(","));return Ur(),function(e){const r=new li("ArrayExpression");return r.elements=e,r}(e)}();if(ln("{"))return function(){var r,s,e=[],l={},f=String;for(se=Qt.start,di("{");!ln("}");)s="$"+((r=uD()).key.type===ZE?r.key.name:f(r.key.value)),Object.prototype.hasOwnProperty.call(l,s)?At({},"Duplicate data property in object literal not allowed in strict mode"):l[s]=!0,e.push(r),ln("}")||di(",");return di("}"),function(e){const r=new li("ObjectExpression");return r.properties=e,r}(e)}();if(se=Qt.start,3===(e=Qt.type)||ov[Qt.value])a=d3(Ur().value);else if(8===e||6===e)Qt.octal&&At(Qt,JE),a=Ke(Ur());else{if(4===e)throw new Error(Ea);1===e?((r=Ur()).value="true"===r.value,a=Ke(r)):5===e?((r=Ur()).value=null,a=Ke(r)):ln("/")||ln("/=")?(a=Ke(function(){var e,r,a,s;return Qt=null,Qh(),e=se,r=function(){var e,r,a,s;for(_l("/"===(e=ke[se]),"Regular expression literal must start with a slash"),r=ke[se++],a=!1,s=!1;se<Mr;)if(r+=e=ke[se++],"\\"===e)yl((e=ke[se++]).charCodeAt(0))&&At({},Kh),r+=e;else if(yl(e.charCodeAt(0)))At({},Kh);else if(a)"]"===e&&(a=!1);else{if("/"===e){s=!0;break}"["===e&&(a=!0)}return s||At({},Kh),{value:r.substr(1,r.length-2),literal:r}}(),a=function(){var e,r,a;for(r="",a="";se<Mr&&f3((e=ke[se]).charCodeAt(0));)++se,"\\"===e&&se<Mr?At({},ui,fi):(a+=e,r+=e);return a.search(/[^gimuy]/g)>=0&&At({},Zh,a),{value:a,literal:r}}(),s=function(e,r){let a=e;r.indexOf("u")>=0&&(a=a.replace(/\\u\{([0-9a-fA-F]+)\}/g,(s,l)=>{if(parseInt(l,16)<=1114111)return"x";At({},Zh)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(a)}catch(s){At({},Zh)}try{return new RegExp(e,r)}catch(s){return null}}(r.value,a.value),{literal:r.literal+a.literal,value:s,regex:{pattern:r.value,flags:a.value},start:e,end:se}}()),iv()):Jh(Ur())}return a}function t5(){const e=[];if(di("("),!ln(")"))for(;se<Mr&&(e.push(bl()),!ln(")"));)di(",");return di(")"),e}function dD(){di("[");const e=lv();return di("]"),e}function sv(){const e=function(){var e;for(e=RR();;)if(ln("."))e=Da(".",e,(di("."),function(){se=Qt.start;const e=Ur();return function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e)||Jh(e),d3(e.value)}()));else if(ln("("))e=NR(e,t5());else{if(!ln("["))break;e=Da("[",e,dD())}return e}();if(7===Qt.type&&(ln("++")||ln("--")))throw new Error(Ea);return e}function P2(){var e,r;if(7!==Qt.type&&4!==Qt.type)r=sv();else{if(ln("++")||ln("--"))throw new Error(Ea);if(ln("+")||ln("-")||ln("~")||ln("!"))e=Ur(),r=P2(),r=function(e,r){const a=new li("UnaryExpression");return a.operator=e,a.argument=r,a.prefix=!0,a}(e.value,r);else{if(A4("delete")||A4("void")||A4("typeof"))throw new Error(Ea);r=sv()}}return r}function cv(e){let r=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":r=1;break;case"&&":r=2;break;case"|":r=3;break;case"^":r=4;break;case"&":r=5;break;case"==":case"!=":case"===":case"!==":r=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":r=7;break;case"<<":case">>":case">>>":r=8;break;case"+":case"-":r=9;break;case"*":case"/":case"%":r=11}return r}function bl(){var e,r;return e=function(){var e,r,a,s,l,f,d,h,p,v;if(e=Qt,p=P2(),0===(l=cv(s=Qt)))return p;for(s.prec=l,Ur(),r=[e,Qt],f=[p,s,d=P2()];(l=cv(Qt))>0;){for(;f.length>2&&l<=f[f.length-2].prec;)d=f.pop(),h=f.pop().value,p=f.pop(),r.pop(),a=cD(h,p,d),f.push(a);(s=Ur()).prec=l,f.push(s),r.push(Qt),a=P2(),f.push(a)}for(a=f[v=f.length-1],r.pop();v>1;)r.pop(),a=cD(f[v-1].value,f[v-2],a),v-=2;return a}(),ln("?")&&(Ur(),r=bl(),di(":"),e=function(e,r,a){const s=new li("ConditionalExpression");return s.test=e,s.consequent=r,s.alternate=a,s}(e,r,bl())),e}function lv(){const e=bl();if(ln(","))throw new Error(Ea);return e}var q1={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function Es(e){function a(d,h,p){return v=>function(d,h,p,v){let _=e(h[0]);return p&&(_=p+"("+_+")",0===p.lastIndexOf("new ",0)&&(_="("+_+")")),_+"."+d+(v<0?"":0===v?"()":"("+h.slice(1).map(e).join(",")+")")}(d,v,h,p)}const s="new Date",l="String",f="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(d){d.length<3&&(0,E.vU)("Missing arguments to clamp function."),d.length>3&&(0,E.vU)("Too many arguments to clamp function.");const h=d.map(e);return"Math.max("+h[1]+", Math.min("+h[2]+","+h[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:s,date:a("getDate",s,0),day:a("getDay",s,0),year:a("getFullYear",s,0),month:a("getMonth",s,0),hours:a("getHours",s,0),minutes:a("getMinutes",s,0),seconds:a("getSeconds",s,0),milliseconds:a("getMilliseconds",s,0),time:a("getTime",s,0),timezoneoffset:a("getTimezoneOffset",s,0),utcdate:a("getUTCDate",s,0),utcday:a("getUTCDay",s,0),utcyear:a("getUTCFullYear",s,0),utcmonth:a("getUTCMonth",s,0),utchours:a("getUTCHours",s,0),utcminutes:a("getUTCMinutes",s,0),utcseconds:a("getUTCSeconds",s,0),utcmilliseconds:a("getUTCMilliseconds",s,0),length:a("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:a("toUpperCase",l,0),lower:a("toLowerCase",l,0),substring:a("substring",l),split:a("split",l),trim:a("trim",l,0),regexp:f,test:a("test",f),if:function(d){d.length<3&&(0,E.vU)("Missing arguments to if function."),d.length>3&&(0,E.vU)("Too many arguments to if function.");const h=d.map(e);return"("+h[0]+"?"+h[1]+":"+h[2]+")"}}}var k4,Cl,p3,uv,i5,m3=new Ai,n5=new Ai,Sa={point:Bt,lineStart:Bt,lineEnd:Bt,polygonStart:function(){m3=new Ai,Sa.lineStart=r5,Sa.lineEnd=fv},polygonEnd:function(){var e=+m3;n5.add(e<0?Hr+e:e),this.lineStart=this.lineEnd=this.point=Bt},sphere:function(){n5.add(Hr)}};function r5(){Sa.point=hD}function fv(){mD(k4,Cl)}function hD(e,r){Sa.point=mD,k4=e,Cl=r,p3=e*=pt,uv=Le(r=(r*=pt)/2+Xd),i5=Re(r)}function mD(e,r){var a=(e*=pt)-p3,s=a>=0?1:-1,l=s*a,f=Le(r=(r*=pt)/2+Xd),d=Re(r),h=i5*d,p=uv*f+h*Le(l),v=h*s*Re(l);m3.add(s1(v,p)),p3=e,uv=f,i5=d}var gn,$r,In,m1,xl,pD,o5,Ml,g3,Ss,zo,p1={point:hv,lineStart:a5,lineEnd:gD,polygonStart:function(){p1.point=s5,p1.lineStart=vD,p1.lineEnd=_D,g3=new Ai,Sa.polygonStart()},polygonEnd:function(){Sa.polygonEnd(),p1.point=hv,p1.lineStart=a5,p1.lineEnd=gD,m3<0?(gn=-(In=180),$r=-(m1=90)):g3>Oe?m1=90:g3<-Oe&&($r=-90),zo[0]=gn,zo[1]=In},sphere:function(){gn=-(In=180),$r=-(m1=90)}};function hv(e,r){Ss.push(zo=[gn=e,In=e]),r<$r&&($r=r),r>m1&&(m1=r)}function mv(e,r){var a=ba([e*pt,r*pt]);if(Ml){var s=Ca(Ml,a),f=Ca([s[1],-s[0],0],s);ms(f),f=Jc(f);var v,d=e-xl,h=d>0?1:-1,p=f[0]*Nn*h,_=Tt(d)>180;_^(h*xl<p&&p<h*e)?(v=f[1]*Nn)>m1&&(m1=v):_^(h*xl<(p=(p+360)%360-180)&&p<h*e)?(v=-f[1]*Nn)<$r&&($r=v):(r<$r&&($r=r),r>m1&&(m1=r)),_?e<xl?qr(gn,e)>qr(gn,In)&&(In=e):qr(e,In)>qr(gn,In)&&(gn=e):In>=gn?(e<gn&&(gn=e),e>In&&(In=e)):e>xl?qr(gn,e)>qr(gn,In)&&(In=e):qr(e,In)>qr(gn,In)&&(gn=e)}else Ss.push(zo=[gn=e,In=e]);r<$r&&($r=r),r>m1&&(m1=r),Ml=a,xl=e}function a5(){p1.point=mv}function gD(){zo[0]=gn,zo[1]=In,p1.point=hv,Ml=null}function s5(e,r){if(Ml){var a=e-xl;g3.add(Tt(a)>180?a+(a>0?360:-360):a)}else pD=e,o5=r;Sa.point(e,r),mv(e,r)}function vD(){Sa.lineStart()}function _D(){s5(pD,o5),Sa.lineEnd(),Tt(g3)>Oe&&(gn=-(In=180)),zo[0]=gn,zo[1]=In,Ml=null}function qr(e,r){return(r-=e)<0?r+360:r}function HR(e,r){return e[0]-r[0]}function pv(e,r){return e[0]<=e[1]?e[0]<=r&&r<=e[1]:r<e[0]||e[1]<r}var T4,v3,_3,c5,l5,u5,z4,N4,f5,H2,gv,vv,bD,hi,Gi,Xi,g1={sphere:Bt,point:_v,lineStart:y3,lineEnd:CD,polygonStart:function(){g1.lineStart=UR,g1.lineEnd=xD},polygonEnd:function(){g1.lineStart=y3,g1.lineEnd=CD}};function _v(e,r){e*=pt;var a=Le(r*=pt);I4(a*Le(e),a*Re(e),Re(r))}function I4(e,r,a){++T4,_3+=(e-_3)/T4,c5+=(r-c5)/T4,l5+=(a-l5)/T4}function y3(){g1.point=BR}function BR(e,r){e*=pt;var a=Le(r*=pt);hi=a*Le(e),Gi=a*Re(e),Xi=Re(r),g1.point=jR,I4(hi,Gi,Xi)}function jR(e,r){e*=pt;var a=Le(r*=pt),s=a*Le(e),l=a*Re(e),f=Re(r),d=s1(Br((d=Gi*f-Xi*l)*d+(d=Xi*s-hi*f)*d+(d=hi*l-Gi*s)*d),hi*s+Gi*l+Xi*f);v3+=d,u5+=d*(hi+(hi=s)),z4+=d*(Gi+(Gi=l)),N4+=d*(Xi+(Xi=f)),I4(hi,Gi,Xi)}function CD(){g1.point=_v}function UR(){g1.point=$R}function xD(){MD(vv,bD),g1.point=_v}function $R(e,r){vv=e,bD=r,e*=pt,r*=pt,g1.point=MD;var a=Le(r);hi=a*Le(e),Gi=a*Re(e),Xi=Re(r),I4(hi,Gi,Xi)}function MD(e,r){e*=pt;var a=Le(r*=pt),s=a*Le(e),l=a*Re(e),f=Re(r),d=Gi*f-Xi*l,h=Xi*s-hi*f,p=hi*l-Gi*s,v=ew(d,h,p),_=c1(v),y=v&&-_/v;f5.add(y*d),H2.add(y*h),gv.add(y*p),v3+=_,u5+=_*(hi+(hi=s)),z4+=_*(Gi+(Gi=l)),N4+=_*(Xi+(Xi=f)),I4(hi,Gi,Xi)}const wl="intersect",h5="index:unit";function ED(e,r){for(var d,h,a=r.fields,s=r.values,l=a.length,f=0;f<l;++f)if((h=a[f]).getter=E.EP.getter||(0,E.EP)(h.field),d=h.getter(e),(0,E.J_)(d)&&(d=(0,E.He)(d)),(0,E.J_)(s[f])&&(s[f]=(0,E.He)(s[f])),(0,E.J_)(s[f][0])&&(s[f]=s[f].map(E.He)),"E"===h.type){if((0,E.kJ)(s[f])?s[f].indexOf(d)<0:d!==s[f])return!1}else if("R"===h.type){if(!(0,E.u5)(d,s[f]))return!1}else if("R-RE"===h.type){if(!(0,E.u5)(d,s[f],!0,!1))return!1}else if("R-E"===h.type){if(!(0,E.u5)(d,s[f],!1,!1))return!1}else if("R-LE"===h.type&&!(0,E.u5)(d,s[f],!1,!0))return!1;return!0}const m5=(0,E.EP)("_vgsid_"),xv=function(e){let r=e,a=e;function s(d,h,p,v){for(null==p&&(p=0),null==v&&(v=d.length);p<v;){const _=p+v>>>1;a(d[_],h)<0?p=_+1:v=_}return p}return 1===e.length&&(r=(d,h)=>e(d)-h,a=function(e){return(r,a)=>function(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}(e(r),a)}(e)),{left:s,center:function(d,h,p,v){null==p&&(p=0),null==v&&(v=d.length);const _=s(d,h,p,v-1);return _>p&&r(d[_-1],h)>-r(d[_],h)?_-1:_},right:function(d,h,p,v){for(null==p&&(p=0),null==v&&(v=d.length);p<v;){const _=p+v>>>1;a(d[_],h)>0?v=_:p=_+1}return p}}}(m5),tV=xv.left,DD=xv.right;var AD={E_union:function(e,r){if(!e.length)return r;for(var a=0,s=r.length;a<s;++a)e.indexOf(r[a])<0&&e.push(r[a]);return e},E_intersect:function(e,r){return e.length?e.filter(a=>r.indexOf(a)>=0):r},R_union:function(e,r){var a=(0,E.He)(r[0]),s=(0,E.He)(r[1]);return a>s&&(a=r[1],s=r[0]),e.length?(e[0]>a&&(e[0]=a),e[1]<s&&(e[1]=s),e):[a,s]},R_intersect:function(e,r){var a=(0,E.He)(r[0]),s=(0,E.He)(r[1]);return a>s&&(a=r[1],s=r[0]),e.length?s<e[0]||e[1]<a?[]:(e[0]<a&&(e[0]=a),e[1]>s&&(e[1]=s),e):[a,s]}};function El(e,r,a,s){r[0].type!==x4&&(0,E.vU)("First argument to selection functions must be a string literal.");const l=r[0].value,d="unit",h="@"+d,p=":"+l;(r.length>=2&&(0,E.fj)(r).value)===wl&&!(0,E.nr)(s,h)&&(s[h]=a.getData(l).indataRef(a,d)),(0,E.nr)(s,p)||(s[p]=a.getData(l).tuplesRef())}function C3(e){const r=this.context.data[e];return r?r.values.value:[]}const x3=e=>function(r,a){return this.context.dataflow.locale()[e](a)(r)},p5=x3("format"),TD=x3("timeFormat"),zD=x3("utcFormat"),ND=x3("timeParse"),aV=x3("utcParse"),g5=new Date(2e3,0,1);function v5(e,r,a){return Number.isInteger(e)&&Number.isInteger(r)?(g5.setYear(2e3),g5.setMonth(e),g5.setDate(r),TD.call(this,g5,a)):""}function Dv(e,r,a,s){r[0].type!==x4&&(0,E.vU)("First argument to data functions must be a string literal.");const l=r[0].value,f=":"+l;if(!(0,E.nr)(f,s))try{s[f]=a.getData(l).tuplesRef()}catch(d){}}function Wr(e,r,a,s){if(r[0].type===x4)LD(a,s,r[0].value);else for(e in a.scales)LD(a,s,e)}function LD(e,r,a){const s="%"+a;if(!(0,E.nr)(r,s))try{r[s]=e.scaleRef(a)}catch(l){}}function Aa(e,r){let a;return(0,E.mf)(e)?e:(0,E.HD)(e)?(a=r.scales[e])&&a.value:void 0}function FD(e,r){return function(a,s,l){if(a){const f=Aa(a,(l||this).context);return f&&f.path[e](s)}return r(s)}}const pW=FD("area",function(e){return n5=new Ai,ds(e,Sa),2*n5}),gW=FD("bounds",function(e){var r,a,s,l,f,d,h;if(m1=In=-(gn=$r=1/0),Ss=[],ds(e,p1),a=Ss.length){for(Ss.sort(HR),r=1,f=[s=Ss[0]];r<a;++r)pv(s,(l=Ss[r])[0])||pv(s,l[1])?(qr(s[0],l[1])>qr(s[0],s[1])&&(s[1]=l[1]),qr(l[0],s[1])>qr(s[0],s[1])&&(s[0]=l[0])):f.push(s=l);for(d=-1/0,r=0,s=f[a=f.length-1];r<=a;s=l,++r)(h=qr(s[1],(l=f[r])[0]))>d&&(d=h,gn=l[0],In=s[1])}return Ss=zo=null,gn===1/0||$r===1/0?[[NaN,NaN],[NaN,NaN]]:[[gn,$r],[In,m1]]}),vW=FD("centroid",function(e){T4=v3=_3=c5=l5=u5=z4=N4=0,f5=new Ai,H2=new Ai,gv=new Ai,ds(e,g1);var r=+f5,a=+H2,s=+gv,l=ew(r,a,s);return l<Gd&&(r=u5,a=z4,s=N4,v3<Oe&&(r=_3,a=c5,s=l5),(l=ew(r,a,s))<Gd)?[NaN,NaN]:[s1(a,r)*Nn,c1(s/l)*Nn]});function Sv(e,r,a){try{e[r].apply(e,["EXPRESSION"].concat([].slice.call(a)))}catch(s){e.warn(s)}return a[a.length-1]}function wr(e){const r=e/255;return r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}function kv(e){const r=oa(e);return.2126*wr(r.r)+.7152*wr(r.g)+.0722*wr(r.b)}function Tv(e,r){return e===r||e!=e&&r!=r||((0,E.kJ)(e)?!(!(0,E.kJ)(r)||e.length!==r.length)&&function(e,r){for(let a=0,s=e.length;a<s;++a)if(!Tv(e[a],r[a]))return!1;return!0}(e,r):!(!(0,E.Kn)(e)||!(0,E.Kn)(r))&&RD(e,r))}function RD(e,r){for(const a in e)if(!Tv(e[a],r[a]))return!1;return!0}function VD(e){return r=>RD(e,r)}const zv={};function _5(e){return(0,E.kJ)(e)||ArrayBuffer.isView(e)?e:null}function y5(e){return _5(e)||((0,E.HD)(e)?e:null)}const E3=e=>e.data;function HD(e,r){const a=C3.call(r,e);return a.root&&a.root.lookup||{}}const Fv=()=>"undefined"!=typeof window&&window||null,L4={random:()=>lr(),cumulativeNormal:xc,cumulativeLogNormal:a0,cumulativeUniform:S6,densityNormal:Of,densityLogNormal:Zs,densityUniform:Fr,quantileNormal:Ys,quantileLogNormal:nb,quantileUniform:ja,sampleNormal:D6,sampleLogNormal:Pf,sampleUniform:s0,isArray:E.kJ,isBoolean:E.jn,isDate:E.J_,isDefined:e=>void 0!==e,isNumber:E.hj,isObject:E.Kn,isRegExp:E.Kj,isString:E.HD,isTuple:Qo,isValid:e=>null!=e&&e==e,toBoolean:E.sw,toDate:E.ZU,toNumber:E.He,toString:E.BB,indexof:function(e,...r){return y5(e).indexOf(...r)},join:function(e,...r){return _5(e).join(...r)},lastindexof:function(e,...r){return y5(e).lastIndexOf(...r)},replace:function(e,r,a){return(0,E.mf)(a)&&(0,E.vU)("Function argument passed to replace."),String(e).replace(r,a)},reverse:function(e){return _5(e).slice().reverse()},slice:function(e,...r){return y5(e).slice(...r)},flush:E.yl,lerp:E.t7,merge:function(){const e=[].slice.call(arguments);return e.unshift({}),(0,E.l7)(...e)},pad:E.vk,peek:E.fj,pluck:function(e,r){const a=zv[r]||(zv[r]=(0,E.EP)(r));return(0,E.kJ)(e)?e.map(a):a(e)},span:E.yP,inrange:E.u5,truncate:E.$G,rgb:oa,lab:K6,hcl:V8,hsl:x0,luminance:kv,contrast:function(e,r){const a=kv(e),s=kv(r);return(Math.max(a,s)+.05)/(Math.min(a,s)+.05)},sequence:ur,format:p5,utcFormat:zD,utcParse:aV,utcOffset:function(e,r,a){return b7(Wl(e),r,a)},utcSequence:function(e,r,a,s){return uy(Wl(e),r,a,s)},timeFormat:TD,timeParse:ND,timeOffset:function(e,r,a){return b7(sc(e),r,a)},timeSequence:function(e,r,a,s){return uy(sc(e),r,a,s)},timeUnitSpecifier:function(e,r){const a=(0,E.l7)({},v7,r),s=qe(e),l=s.length;let h,p,f="",d=0;for(d=0;d<l;)for(h=s.length;h>d;--h)if(p=s.slice(d,h).join("-"),null!=a[p]){f+=a[p],d=h;break}return f.trim()},monthFormat:function(e){return v5.call(this,e,1,"%B")},monthAbbrevFormat:function(e){return v5.call(this,e,1,"%b")},dayFormat:function(e){return v5.call(this,0,2+e,"%A")},dayAbbrevFormat:function(e){return v5.call(this,0,2+e,"%a")},quarter:E.mS,utcquarter:E.N3,week:function(e){return ry(new Date(e))},utcweek:function(e){return sy(new Date(e))},dayofyear:function(e){return Jr(new Date(e))},utcdayofyear:function(e){return ay(new Date(e))},warn:function(){return Sv(this.context.dataflow,"warn",arguments)},info:function(){return Sv(this.context.dataflow,"info",arguments)},debug:function(){return Sv(this.context.dataflow,"debug",arguments)},extent:E.We,inScope:function(e){const r=this.context.group;let a=!1;if(r)for(;e;){if(e===r){a=!0;break}e=e.mark.group}return a},intersect:function(e,r,a){if(!e)return[];const[s,l]=e,f=(new Qn).set(s[0],s[1],l[0],l[1]);return function(e,r,a){const s=[],l=(new Qn).union(r),f=e.marktype;return f?dp(e,l,a,s):"group"===f?wM(e,l,a,s):(0,E.vU)("Intersect scene must be mark node or group item.")}(a||this.context.dataflow.scenegraph().root,f,function(e){let r=null;if(e){const a=(0,E.IX)(e.marktype),s=(0,E.IX)(e.markname);r=l=>(!a.length||a.some(f=>l.marktype===f))&&(!s.length||s.some(f=>l.name===f))}return r}(r))},clampRange:E.l$,pinchDistance:function(e){const r=e.touches,a=r[0].clientX-r[1].clientX,s=r[0].clientY-r[1].clientY;return Math.sqrt(a*a+s*s)},pinchAngle:function(e){const r=e.touches;return Math.atan2(r[0].clientY-r[1].clientY,r[0].clientX-r[1].clientX)},screen:function(){const e=Fv();return e?e.screen:{}},containerSize:function(){const e=this.context.dataflow,r=e.container&&e.container();return r?[r.clientWidth,r.clientHeight]:[void 0,void 0]},windowSize:function(){const e=Fv();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]},bandspace:function(e,r,a){return A0(e||0,r||0,a||0)},setdata:function(e,r){const a=this.context.dataflow;return a.pulse(this.context.data[e].input,a.changeset().remove(E.yb).insert(r)),1},pathShape:function(e){let r=null;return function(a){return a?Hi(a,r=r||tu(e)):e}},panLinear:E.Dw,panLog:E.mJ,panPow:E.QA,panSymlog:E.Zw,zoomLinear:E.ay,zoomLog:E.dH,zoomPow:E.mK,zoomSymlog:E.bV,encode:function(e,r,a){if(e){const s=this.context.dataflow;s.pulse(e.mark.source,s.changeset().encode(e,r))}return void 0!==a?a:e},modify:function(e,r,a,s,l,f){const d=this.context.dataflow,h=this.context.data[e],p=h.input,v=d.stamp();let y,C,_=h.changes;if(!1===d._trigger||!(p.value.length||r||s))return 0;if((!_||_.stamp<v)&&(h.changes=_=d.changeset(),_.stamp=v,d.runAfter(()=>{h.modified=!0,d.pulse(p,_).run()},!0,1)),a&&(y=!0===a?E.yb:(0,E.kJ)(a)||Qo(a)?a:VD(a),_.remove(y)),r&&_.insert(r),s&&(y=VD(s),p.value.some(y)?_.remove(y):_.insert(s)),l)for(C in f)_.modify(l,C,f[C]);return 1}},IV=["view","item","group","xy","x","y"],UD="this.",Rv={},$D={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${(0,E.m8)("$"+e)}]`,functions:function(e){const r=Es(e);IV.forEach(a=>r[a]="event.vega."+a);for(const a in L4)r[a]=UD+a;return(0,E.l7)(r,function(e,r,a){r.__bandwidth=l=>l&&l.bandwidth?l.bandwidth():0,a._bandwidth=Wr,a._range=Wr,a._scale=Wr;const s=l=>"_["+(l.type===x4?(0,E.m8)("%"+l.value):(0,E.m8)("%")+"+"+e(l))+"]";return{_bandwidth:l=>`this.__bandwidth(${s(l[0])})`,_range:l=>`${s(l[0])}.range()`,_scale:l=>`${s(l[0])}(${e(l[1])})`}}(e,L4,Rv)),r},constants:q1,visitors:Rv},Vv=function(e){const r=(e=e||{}).allowed?(0,E.Rg)(e.allowed):{},a=e.forbidden?(0,E.Rg)(e.forbidden):{},s=e.constants||q1,l=(e.functions||Es)(y),f=e.globalvar,d=e.fieldvar,h=(0,E.mf)(f)?f:w=>`${f}["${w}"]`;let p={},v={},_=0;function y(w){if((0,E.HD)(w))return w;const S=C[w.type];return null==S&&(0,E.vU)("Unsupported type: "+w.type),S(w)}const C={Literal:w=>w.raw,Identifier:w=>{const S=w.name;return _>0?S:(0,E.nr)(a,S)?(0,E.vU)("Illegal identifier: "+S):(0,E.nr)(s,S)?s[S]:(0,E.nr)(r,S)?S:(p[S]=1,h(S))},MemberExpression:w=>{const S=!w.computed,A=y(w.object);S&&(_+=1);const T=y(w.property);return A===d&&(v[function(e){const r=e&&e.length-1;return r&&('"'===e[0]&&'"'===e[r]||"'"===e[0]&&"'"===e[r])?e.slice(1,-1):e}(T)]=1),S&&(_-=1),A+(S?"."+T:"["+T+"]")},CallExpression:w=>{"Identifier"!==w.callee.type&&(0,E.vU)("Illegal callee type: "+w.callee.type);const S=w.callee.name,A=w.arguments,T=(0,E.nr)(l,S)&&l[S];return T||(0,E.vU)("Unrecognized function: "+S),(0,E.mf)(T)?T(A):T+"("+A.map(y).join(",")+")"},ArrayExpression:w=>"["+w.elements.map(y).join(",")+"]",BinaryExpression:w=>"("+y(w.left)+" "+w.operator+" "+y(w.right)+")",UnaryExpression:w=>"("+w.operator+y(w.argument)+")",ConditionalExpression:w=>"("+y(w.test)+"?"+y(w.consequent)+":"+y(w.alternate)+")",LogicalExpression:w=>"("+y(w.left)+w.operator+y(w.right)+")",ObjectExpression:w=>"{"+w.properties.map(y).join(",")+"}",Property:w=>{_+=1;const S=y(w.key);return _-=1,S+":"+y(w.value)}};function M(w){const S={code:y(w),globals:Object.keys(p),fields:Object.keys(v)};return p={},v={},S}return M.functions=l,M.constants=s,M}($D);function ei(e,r,a){return 1===arguments.length?L4[e]:(L4[e]=r,a&&(Rv[e]=a),Vv&&(Vv.functions[e]=UD+e),this)}function Lo(e,r){const a={};let s;try{s=function(e){se=0,Mr=(ke=e).length,Qt=null,iv();const r=lv();if(2!==Qt.type)throw new Error("Unexpect token after expression.");return r}(e=(0,E.HD)(e)?e:(0,E.m8)(e)+"")}catch(f){(0,E.vU)("Expression parse error: "+e)}s.visit(f=>{if(f.type!==Yg)return;const d=f.callee.name,h=$D.visitors[d];h&&h(d,f.arguments,r,a)});const l=Vv(s);return l.globals.forEach(f=>{const d="$"+f;!(0,E.nr)(a,d)&&r.getSignal(f)&&(a[d]=r.signalRef(f))}),{$expr:(0,E.l7)({code:l.code},r.options.ast?{ast:s}:null),$fields:l.fields,$params:a}}ei("bandwidth",function(e,r){const a=Aa(e,(r||this).context);return a&&a.bandwidth?a.bandwidth():0},Wr),ei("copy",function(e,r){const a=Aa(e,(r||this).context);return a?a.copy():void 0},Wr),ei("domain",function(e,r){const a=Aa(e,(r||this).context);return a?a.domain():[]},Wr),ei("range",function(e,r){const a=Aa(e,(r||this).context);return a&&a.range?a.range():[]},Wr),ei("invert",function(e,r,a){const s=Aa(e,(a||this).context);return s?(0,E.kJ)(r)?(s.invertRange||s.invert)(r):(s.invert||s.invertExtent)(r):void 0},Wr),ei("scale",function(e,r,a){const s=Aa(e,(a||this).context);return s?s(r):void 0},Wr),ei("gradient",function(e,r,a,s,l){e=Aa(e,(l||this).context);const f=function(e,r){var s,a=[];return s={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:r?r[0]:1,y2:r?r[1]:0,stops:a,stop:function(l,f){return a.push({offset:l,color:f}),s}}}(r,a);let d=e.domain(),h=d[0],p=(0,E.fj)(d),v=E.yR;return p-h?v=Sz(e,h,p):e=(e.interpolator?Ht("sequential")().interpolator(e.interpolator()):Ht("linear")().interpolate(e.interpolate()).range(e.range())).domain([h=0,p=1]),e.ticks&&(d=e.ticks(+s||15),h!==d[0]&&d.unshift(h),p!==(0,E.fj)(d)&&d.push(p)),d.forEach(_=>f.stop(v(_),e(_))),f},Wr),ei("geoArea",pW,Wr),ei("geoBounds",gW,Wr),ei("geoCentroid",vW,Wr),ei("geoShape",function(e,r,a){const s=Aa(e,(a||this).context);return function(l){return s?s.path.context(l)(r):""}},Wr),ei("indata",function(e,r,a){const s=this.context.data[e]["index:"+r],l=s?s.value.get(a):void 0;return l&&l.count},function(e,r,a,s){r[0].type!==x4&&(0,E.vU)("First argument to indata must be a string literal."),r[1].type!==x4&&(0,E.vU)("Second argument to indata must be a string literal.");const l=r[0].value,f=r[1].value,d="@"+f;(0,E.nr)(d,s)||(s[d]=a.getData(l).indataRef(a,f))}),ei("data",C3,Dv),ei("treePath",function(e,r,a){const s=HD(e,this),l=s[r],f=s[a];return l&&f?l.path(f).map(E3):void 0},Dv),ei("treeAncestors",function(e,r){const a=HD(e,this)[r];return a?a.ancestors().map(E3):void 0},Dv),ei("vlSelectionTest",function(e,r,a){for(var v,_,y,C,M,s=this.context.data[e],l=s?s.values.value:[],f=s?s[h5]&&s[h5].value:void 0,d=a===wl,h=l.length,p=0;p<h;++p)if(v=l[p],f&&d){if(-1===(y=(_=_||{})[C=v.unit]||0))continue;if(M=ED(r,v),_[C]=M?-1:++y,M&&1===f.size)return!0;if(!M&&y===f.get(C).count)return!1}else if(d^(M=ED(r,v)))return M;return h&&d},El),ei("vlSelectionIdTest",function(e,r,a){const s=this.context.data[e],l=s?s.values.value:[],f=s?s[h5]&&s[h5].value:void 0,d=a===wl,h=m5(r),p=tV(l,h);if(p===l.length||m5(l[p])!==h)return!1;if(f&&d){if(1===f.size)return!0;if(DD(l,h)-p<f.size)return!1}return!0},El),ei("vlSelectionResolve",function(e,r,a,s){for(var v,_,y,C,M,w,S,A,F,O,l=this.context.data[e],f=l?l.values.value:[],d={},h={},p={},N=f.length,I=0;I<N;++I){for(C=(v=f[I]).unit,y=v.values,F=0,O=(_=v.fields).length;F<O;++F)S=(w=d[(M=_[F]).field]||(d[M.field]={}))[C]||(w[C]=[]),p[M.field]=A=M.type.charAt(0),w[C]=(0,AD[A+"_union"])(S,(0,E.IX)(y[F]));a&&(S=h[C]||(h[C]=[])).push((0,E.IX)(y).reduce((P,V,W)=>(P[_[W].field]=V,P),{}))}return r=r||"union",Object.keys(d).forEach(P=>{d[P]=Object.keys(d[P]).map(V=>d[P][V]).reduce((V,W)=>void 0===V?W:AD[p[P]+"_"+r](V,W))}),f=Object.keys(h),a&&f.length&&(d[s?"vlPoint":"vlMulti"]="union"===r?{or:f.reduce((V,W)=>(V.push(...h[W]),V),[])}:{and:f.map(V=>({or:h[V]}))}),d},El),ei("vlSelectionTuples",function(e,r){return e.map(a=>(0,E.l7)({values:r.fields.map(s=>(s.getter||(s.getter=(0,E.EP)(s.field)))(a.datum))},r))});const _W=(0,E.Rg)(["rule"]),qD=(0,E.Rg)(["group","image","rect"]);function Pv(e){return(e+"").toLowerCase()}function b5(e,r,a){";"!==a[a.length-1]&&(a="return("+a+");");const s=Function(...r.concat(a));return e&&e.functions?s.bind(e.functions):s}var HV={operator:(e,r)=>b5(e,["_"],r.code),parameter:(e,r)=>b5(e,["datum","_"],r.code),event:(e,r)=>b5(e,["event"],r.code),handler:(e,r)=>b5(e,["_","event"],"var datum=event.item&&event.item.datum;return ".concat(r.code,";")),encode:(e,r)=>{const{marktype:a,channels:s}=r;let l="var o=item,datum=o.datum,m=0,$;";for(const f in s){const d="o["+(0,E.m8)(f)+"]";l+="$=".concat(s[f].code,";if(").concat(d,"!==$)").concat(d,"=$,m=1;")}return l+=function(e,r){let a="";return _W[r]||(e.x2&&(e.x?(qD[r]&&(a+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),a+="o.width=o.x2-o.x;"):a+="o.x=o.x2-(o.width||0);"),e.xc&&(a+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(qD[r]&&(a+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),a+="o.height=o.y2-o.y;"):a+="o.y=o.y2-(o.height||0);"),e.yc&&(a+="o.y=o.yc-(o.height||0)/2;")),a}(s,a),l+="return m;",b5(e,["item","_"],l)},codegen:{get(e){const r="[".concat(e.map(E.m8).join("]["),"]"),a=Function("_","return _".concat(r,";"));return a.path=r,a},comparator(e,r){let a;const l=Function("a","b","var u, v; return "+e.map((f,d)=>{const h=r[d];let p,v;return f.path?(p="a".concat(f.path),v="b".concat(f.path)):((a=a||{})["f"+d]=f,p="this.f".concat(d,"(a)"),v="this.f".concat(d,"(b)")),function(e,r,a,s){return"((u = ".concat(e,") < (v = ").concat(r,") || u == null) && v != null ? ").concat(a,"\n  : (u > v || v == null) && u != null ? ").concat(s,"\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ").concat(a,"\n  : v !== v && u === u ? ").concat(s," : ")}(p,v,-h,h)}).join("")+"0;");return a?l.bind(a):l}}};function WD(e,r,a){if(!e||!(0,E.Kn)(e))return e;for(let f,s=0,l=GD.length;s<l;++s)if(f=GD[s],(0,E.nr)(e,f.key))return f.parse(e,r,a);return e}var GD=[{key:"$ref",parse:function(e,r){return r.get(e.$ref)||(0,E.vU)("Operator not defined: "+e.$ref)}},{key:"$key",parse:function(e,r){const a="k:"+e.$key+"_"+!!e.$flat;return r.fn[a]||(r.fn[a]=(0,E.Jy)(e.$key,e.$flat,r.expr.codegen))}},{key:"$expr",parse:function(e,r,a){e.$params&&r.parseParameters(e.$params,a);const s="e:"+e.$expr.code+"_"+e.$name;return r.fn[s]||(r.fn[s]=(0,E.ZE)(r.parameterExpression(e.$expr),e.$fields,e.$name))}},{key:"$field",parse:function(e,r){if(!e.$field)return null;const a="f:"+e.$field+"_"+e.$name;return r.fn[a]||(r.fn[a]=(0,E.EP)(e.$field,e.$name,r.expr.codegen))}},{key:"$encode",parse:function(e,r){const a=e.$encode,s={};for(const l in a){const f=a[l];s[l]=(0,E.ZE)(r.encodeExpression(f.$expr),f.$fields),s[l].output=f.$output}return s}},{key:"$compare",parse:function(e,r){const a="c:"+e.$compare+"_"+e.$order,s=(0,E.IX)(e.$compare).map(l=>l&&l.$tupleid?Ne:l);return r.fn[a]||(r.fn[a]=(0,E.qu)(s,e.$order,r.expr.codegen))}},{key:"$context",parse:function(e,r){return r}},{key:"$subflow",parse:function(e,r){const a=e.$subflow;return function(s,l,f){const d=r.fork().parse(a),h=d.get(a.operators[0].id),p=d.signals.parent;return p&&p.set(f),h.detachSubflow=()=>r.detach(d),h}}},{key:"$tupleid",parse:function(){return Ne}}];const eO={skip:!0};function ZD(e,r,a,s){this.dataflow=e,this.transforms=r,this.events=e.events.bind(e),this.expr=s||HV,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},a&&(this.functions=Object.create(a),this.functions.context=this)}function KD(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}function QD(e,r){e&&(null==r?e.removeAttribute("aria-label"):e.setAttribute("aria-label",r))}ZD.prototype=KD.prototype={fork(){const e=new KD(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(a=>a!==e);const r=Object.keys(e.nodes);for(const a of r)e.nodes[a]._targets=null;for(const a of r)e.nodes[a].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,r){return this.nodes[e]=r},add(e,r){const a=this,s=a.dataflow,l=e.value;if(a.set(e.id,r),function(e){return"collect"===Pv(e)}(e.type)&&l&&(l.$ingest?s.ingest(r,l.$ingest,l.$format):l.$request?s.preload(r,l.$request,l.$format):s.pulse(r,s.changeset().insert(l))),e.root&&(a.root=r),e.parent){let f=a.get(e.parent.$ref);f?(s.connect(f,[r]),r.targets().add(f)):(a.unresolved=a.unresolved||[]).push(()=>{f=a.get(e.parent.$ref),s.connect(f,[r]),r.targets().add(f)})}if(e.signal&&(a.signals[e.signal]=r),e.scale&&(a.scales[e.scale]=r),e.data)for(const f in e.data){const d=a.data[f]||(a.data[f]={});e.data[f].forEach(h=>d[h]=r)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,r){this.add(e,this.dataflow.add(e.value,r))},transform(e,r){this.add(e,this.dataflow.add(this.transforms[Pv(r)]))},stream(e,r){this.set(e.id,r)},update(e,r,a,s,l){this.dataflow.on(r,a,s,l,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:function(e){const r=this,a=e.operators||[];return e.background&&(r.background=e.background),e.eventConfig&&(r.eventConfig=e.eventConfig),e.locale&&(r.locale=e.locale),a.forEach(s=>r.parseOperator(s)),a.forEach(s=>r.parseOperatorParameters(s)),(e.streams||[]).forEach(s=>r.parseStream(s)),(e.updates||[]).forEach(s=>r.parseUpdate(s)),r.resolve()},parseOperator:function(e){const r=this;!function(e){return"operator"===Pv(e)}(e.type)&&e.type?r.transform(e,e.type):r.operator(e,e.update?r.operatorExpression(e.update):null)},parseOperatorParameters:function(e){const r=this;if(e.params){const a=r.get(e.id);a||(0,E.vU)("Invalid operator id: "+e.id),r.dataflow.connect(a,a.parameters(r.parseParameters(e.params),e.react,e.initonly))}},parseParameters:function(e,r){r=r||{};const a=this;for(const s in e){const l=e[s];r[s]=(0,E.kJ)(l)?l.map(f=>WD(f,a,r)):WD(l,a,r)}return r},parseStream:function(e){var l,r=this,a=null!=e.filter?r.eventExpression(e.filter):void 0,s=null!=e.stream?r.get(e.stream):void 0;e.source?s=r.events(e.source,e.type,a):e.merge&&(s=(l=e.merge.map(f=>r.get(f)))[0].merge.apply(l[0],l.slice(1))),e.between&&(l=e.between.map(f=>r.get(f)),s=s.between(l[0],l[1])),e.filter&&(s=s.filter(a)),null!=e.throttle&&(s=s.throttle(+e.throttle)),null!=e.debounce&&(s=s.debounce(+e.debounce)),null==s&&(0,E.vU)("Invalid stream definition: "+JSON.stringify(e)),e.consume&&s.consume(!0),r.stream(e,s)},parseUpdate:function(e){var l,r=this,a=(0,E.Kn)(a=e.source)?a.$ref:a,s=r.get(a),f=e.update,d=void 0;s||(0,E.vU)("Source not defined: "+e.source),l=e.target&&e.target.$expr?r.eventExpression(e.target.$expr):r.get(e.target),f&&f.$expr&&(f.$params&&(d=r.parseParameters(f.$params)),f=r.handlerExpression(f.$expr)),r.update(e,s,l,f,d)},getState:function(e){var r=this,a={};if(e.signals){var s=a.signals={};Object.keys(r.signals).forEach(f=>{const d=r.signals[f];e.signals(f,d)&&(s[f]=d.value)})}if(e.data){var l=a.data={};Object.keys(r.data).forEach(f=>{const d=r.data[f];e.data(f,d)&&(l[f]=d.input.value)})}return r.subcontext&&!1!==e.recurse&&(a.subcontext=r.subcontext.map(f=>f.getState(e))),a},setState:function(e){var r=this,a=r.dataflow,s=e.data,l=e.signals;Object.keys(l||{}).forEach(f=>{a.update(r.signals[f],l[f],eO)}),Object.keys(s||{}).forEach(f=>{a.pulse(r.data[f].input,a.changeset().remove(E.yb).insert(s[f]))}),(e.subcontext||[]).forEach((f,d)=>{const h=r.subcontext[d];h&&h.setState(f)})}};const Hv="default";function Bv(e,r){const a=e.globalCursor()?"undefined"!=typeof document&&document.body:e.container();if(a)return null==r?a.style.removeProperty("cursor"):a.style.cursor=r}function C5(e,r){var a=e._runtime.data;return(0,E.nr)(a,r)||(0,E.vU)("Unrecognized data set: "+r),a[r]}function x5(e,r){iT(r)||(0,E.vU)("Second argument to changes must be a changeset.");const a=C5(this,e);return a.modified=!0,this.pulse(a.input,r)}function JD(e){var r=e.padding();return Math.max(0,e._viewWidth+r.left+r.right)}function eS(e){var r=e.padding();return Math.max(0,e._viewHeight+r.top+r.bottom)}function M5(e){var r=e.padding(),a=e._origin;return[r.left+a[0],r.top+a[1]]}const pO={trap:!1};function nS(e,r,a,s){e._eventListeners.push({type:a,sources:(0,E.IX)(r),handler:s})}function w5(e,r,a){const s=e._eventConfig&&e._eventConfig[r];return!(!1===s||(0,E.Kn)(s)&&!s[a])||(e.warn(`Blocked ${r} ${a} event listener.`),!1)}function iS(e){return e.item}function rS(e){return e.item.mark.source}function oS(e){return function(r,a){return a.vega.view().changeset().encode(a.item,e)}}function v1(e,r,a){const s=document.createElement(e);for(const l in r)s.setAttribute(l,r[l]);return null!=a&&(s.textContent=a),s}function wO(e,r,a){if(!r)return;const s=a.param;let l=a.state;return l||(l=a.state={elements:null,active:!1,set:null,update:d=>{d!=e.signal(s.signal)&&e.runAsync(null,()=>{l.source=!0,e.signal(s.signal,d)})}},s.debounce&&(l.update=(0,E.Ds)(s.debounce,l.update))),(null==s.input&&s.element?EO:SO)(l,r,s,e),l.active||(e.on(e._signals[s.signal],null,()=>{l.source?l.source=!1:l.set(e.signal(s.signal))}),l.active=!0),l}function EO(e,r,a,s){const l=a.event||"input",f=()=>e.update(r.value);s.signal(a.signal,r.value),r.addEventListener(l,f),nS(s,r,l,f),e.set=d=>{r.value=d,r.dispatchEvent(function(e){return"undefined"!=typeof Event?new Event(e):{type:e}}(l))}}function SO(e,r,a,s){const l=s.signal(a.signal),f=v1("div",{class:"vega-bind"}),d="radio"===a.input?f:f.appendChild(v1("label"));d.appendChild(v1("span",{class:"vega-bind-name"},a.name||a.signal)),r.appendChild(f);let h=AO;switch(a.input){case"checkbox":h=kO;break;case"select":h=TO;break;case"radio":h=zO;break;case"range":h=NO}h(e,d,a,l)}function AO(e,r,a,s){const l=v1("input");for(const f in a)"signal"!==f&&"element"!==f&&l.setAttribute("input"===f?"type":f,a[f]);l.setAttribute("name",a.signal),l.value=s,r.appendChild(l),l.addEventListener("input",()=>e.update(l.value)),e.elements=[l],e.set=f=>l.value=f}function kO(e,r,a,s){const l={type:"checkbox",name:a.signal};s&&(l.checked=!0);const f=v1("input",l);r.appendChild(f),f.addEventListener("change",()=>e.update(f.checked)),e.elements=[f],e.set=d=>f.checked=!!d||null}function TO(e,r,a,s){const l=v1("select",{name:a.signal}),f=a.labels||[];a.options.forEach((d,h)=>{const p={value:d};E5(d,s)&&(p.selected=!0),l.appendChild(v1("option",p,(f[h]||d)+""))}),r.appendChild(l),l.addEventListener("change",()=>{e.update(a.options[l.selectedIndex])}),e.elements=[l],e.set=d=>{for(let h=0,p=a.options.length;h<p;++h)if(E5(a.options[h],d))return void(l.selectedIndex=h)}}function zO(e,r,a,s){const l=v1("span",{class:"vega-bind-radio"}),f=a.labels||[];r.appendChild(l),e.elements=a.options.map((d,h)=>{const p={type:"radio",name:a.signal,value:d};E5(d,s)&&(p.checked=!0);const v=v1("input",p);v.addEventListener("change",()=>e.update(d));const _=v1("label",{},(f[h]||d)+"");return _.prepend(v),l.appendChild(_),v}),e.set=d=>{const h=e.elements,p=h.length;for(let v=0;v<p;++v)E5(h[v].value,d)&&(h[v].checked=!0)}}function NO(e,r,a,s){s=void 0!==s?s:(+a.max+ +a.min)/2;const l=null!=a.max?a.max:Math.max(100,+s)||100,f=a.min||Math.min(0,l,+s)||0,d=a.step||La(f,l,100),h=v1("input",{type:"range",name:a.signal,min:f,max:l,step:d});h.value=s;const p=v1("span",{},+s);r.appendChild(h),r.appendChild(p);const v=()=>{p.textContent=h.value,e.update(+h.value)};h.addEventListener("input",v),h.addEventListener("change",v),e.elements=[h],e.set=_=>{h.value=_,p.textContent=_}}function E5(e,r){return e===r||e+""==r+""}function aS(e,r,a,s,l,f){return(r=r||new s(e.loader())).initialize(a,JD(e),eS(e),M5(e),l,f).background(e.background())}function jv(e,r){return r?function(){try{r.apply(this,arguments)}catch(a){e.error(a)}}:null}function Uv(e,r,a){if("string"==typeof r){if("undefined"==typeof document)return e.error("DOM document instance not found."),null;if(!(r=document.querySelector(r)))return e.error("Signal bind element not found: "+r),null}if(r&&a)try{r.innerHTML=""}catch(s){r=null,e.error(s)}return r}const D3=e=>+e||0;function sS(e){return(0,E.Kn)(e)?{top:D3(e.top),bottom:D3(e.bottom),left:D3(e.left),right:D3(e.right)}:(e=>({top:e,bottom:e,left:e,right:e}))(D3(e))}function $v(e,r,a,s){return qv.apply(this,arguments)}function qv(){return qv=(0,_i.Z)(function*(e,r,a,s){const l=Nd(r),f=l&&l.headless;return f||(0,E.vU)("Unrecognized renderer type: "+r),yield e.runAsync(),aS(e,null,null,f,a,s).renderAsync(e._scenegraph.root)}),qv.apply(this,arguments)}function Wv(){return Wv=(0,_i.Z)(function*(e,r){"canvas"!==e&&"svg"!==e&&"png"!==e&&(0,E.vU)("Unrecognized image type: "+e);const a=yield $v(this,e,r);return"svg"===e?VO(a.svg(),"image/svg+xml"):a.canvas().toDataURL("image/png")}),Wv.apply(this,arguments)}function VO(e,r){const a=new Blob([e],{type:r});return window.URL.createObjectURL(a)}function Gv(){return Gv=(0,_i.Z)(function*(e,r){return(yield $v(this,"canvas",e,r)).canvas()}),Gv.apply(this,arguments)}function Xv(){return Xv=(0,_i.Z)(function*(e){return(yield $v(this,"svg",e)).svg()}),Xv.apply(this,arguments)}var Yv="padding",uS={skip:!0};function fS(e,r){var a=e.autosize(),s=e.padding();return r-(a&&a.contains===Yv?s.left+s.right:0)}function dS(e,r){var a=e.autosize(),s=e.padding();return r-(a&&a.contains===Yv?s.top+s.bottom:0)}function qO(e,r){return r.modified&&(0,E.kJ)(r.input.value)&&e.indexOf("_:vega:_")}function WO(e,r){return!("parent"===e||r instanceof Ws.proxy)}function YO(e,r,a,s){const l=e.element();l&&l.setAttribute("title",function(e){return null==e?"":(0,E.kJ)(e)?hS(e):(0,E.Kn)(e)&&!(0,E.J_)(e)?function(e){return Object.keys(e).map(r=>{const a=e[r];return r+": "+((0,E.kJ)(a)?hS(a):mS(a))}).join("\n")}(e):e+""}(s))}function hS(e){return"["+e.map(mS).join(", ")+"]"}function mS(e){return(0,E.kJ)(e)?"[\u2026]":(0,E.Kn)(e)&&!(0,E.J_)(e)?"{\u2026}":e}function pS(e,r){const a=this;if(r=r||{},x6.call(a),r.loader&&a.loader(r.loader),r.logger&&a.logger(r.logger),null!=r.logLevel&&a.logLevel(r.logLevel),r.locale||e.locale){const f=(0,E.l7)({},e.locale,r.locale);a.locale(function(e,r){const a=e?Dy(e):Ef(),s=r?yn(r):kn();return Df(a,s)}(f.number,f.time))}a._el=null,a._elBind=null,a._renderType=r.renderer||"canvas",a._scenegraph=new nM;const s=a._scenegraph.root;a._renderer=null,a._tooltip=r.tooltip||YO,a._redraw=!0,a._handler=(new qc).scene(s),a._globalCursor=!1,a._preventDefault=!1,a._timers=[],a._eventListeners=[],a._resizeListeners=[],a._eventConfig=function(e){const r=(0,E.l7)({defaults:{}},e),a=(s,l)=>{l.forEach(f=>{(0,E.kJ)(s[f])&&(s[f]=(0,E.Rg)(s[f]))})};return a(r.defaults,["prevent","allow"]),a(r,["view","window","selector"]),r}(e.eventConfig),a.globalCursor(a._eventConfig.globalCursor);const l=function(e,r,a){return function(e,r,a,s){return new ZD(e,r,a,s)}(e,Ws,L4,a).parse(r)}(a,e,r.expr);a._runtime=l,a._signals=l.signals,a._bind=(e.bindings||[]).map(f=>({state:null,param:(0,E.l7)({},f)})),l.root&&l.root.set(s),s.source=l.data.root.input,a.pulse(l.data.root.input,a.changeset().insert(s.items)),a._width=a.width(),a._height=a.height(),a._viewWidth=fS(a,a._width),a._viewHeight=dS(a,a._height),a._origin=[0,0],a._resize=0,a._autosize=1,function(e){var r=e._signals,a=r.width,s=r.height,l=r[Yv];function f(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,h=>{e._width=h.size,e._viewWidth=fS(e,h.size),f()},{size:a}),e._resizeHeight=e.add(null,h=>{e._height=h.size,e._viewHeight=dS(e,h.size),f()},{size:s});const d=e.add(null,f,{pad:l});e._resizeWidth.rank=a.rank+1,e._resizeHeight.rank=s.rank+1,d.rank=l.rank+1}(a),function(e){e.add(null,r=>(e._background=r.bg,e._resize=1,r.bg),{bg:e._signals.background})}(a),function(e){const r=e._signals.cursor||(e._signals.cursor=e.add({user:Hv,item:null}));e.on(e.events("view","mousemove"),r,(a,s)=>{const l=r.value,f=l?(0,E.HD)(l)?l:l.user:Hv,d=s.item&&s.item.cursor||null;return l&&f===l.user&&d==l.item?l:{user:f,item:d}}),e.add(null,function(a){let s=a.cursor,l=this.value;return(0,E.HD)(s)||(l=s.item,s=s.user),Bv(e,s&&s!==Hv?s:l||s),l},{cursor:r})}(a),a.description(e.description),r.hover&&a.hover(),r.container&&a.initialize(r.container,r.bind)}function D5(e,r){return(0,E.nr)(e._signals,r)?e._signals[r]:(0,E.vU)("Unrecognized signal name: "+(0,E.m8)(r))}function gS(e,r){const a=(e._targets||[]).filter(s=>s._update&&s._update.handler===r);return a.length?a[0]:null}function vS(e,r,a,s){let l=gS(a,s);return l||(l=jv(e,()=>s(r,a.value)),l.handler=s,e.on(a,null,l)),e}function _S(e,r,a){const s=gS(r,a);return s&&r._targets.remove(s),e}(0,E.XW)(pS,x6,{evaluate(e,r,a){var s=this;return(0,_i.Z)(function*(){if(yield x6.prototype.evaluate.call(s,e,r),s._redraw||s._resize)try{s._renderer&&(s._resize&&(s._resize=0,function(e){var r=M5(e),a=JD(e),s=eS(e);e._renderer.background(e.background()),e._renderer.resize(a,s,r),e._handler.origin(r),e._resizeListeners.forEach(l=>{try{l(a,s)}catch(f){e.error(f)}})}(s)),yield s._renderer.renderAsync(s._scenegraph.root)),s._redraw=!1}catch(l){s.error(l)}return a&&mc(s,a),s})()},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const r=null!=e?e+"":null;return r!==this._desc&&QD(this._el,this._desc=r),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,r,a){const s=D5(this,e);return 1===arguments.length?s.value:this.update(s,r,a)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",sS(e)):sS(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(Nd(e)||(0,E.vU)("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(x6.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(D5(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(e,r,a,s,l,f){this.runAfter(d=>{let h=0;d._autosize=0,d.width()!==a&&(h=1,d.signal("width",a,uS),d._resizeWidth.skip(!0)),d.height()!==s&&(h=1,d.signal("height",s,uS),d._resizeHeight.skip(!0)),d._viewWidth!==e&&(d._resize=1,d._viewWidth=e),d._viewHeight!==r&&(d._resize=1,d._viewHeight=r),(d._origin[0]!==l[0]||d._origin[1]!==l[1])&&(d._resize=1,d._origin=l),h&&d.run("enter"),f&&d.runAfter(p=>p.resize())},!1,1)},addEventListener(e,r,a){let s=r;return a&&!1===a.trap||(s=jv(this,r),s.raw=r),this._handler.on(e,s),this},removeEventListener(e,r){for(var l,f,a=this._handler.handlers(e),s=a.length;--s>=0;)if(l=a[s].handler,e===(f=a[s].type)&&(r===l||r===l.raw)){this._handler.off(f,l);break}return this},addResizeListener(e){const r=this._resizeListeners;return r.indexOf(e)<0&&r.push(e),this},removeResizeListener(e){var r=this._resizeListeners,a=r.indexOf(e);return a>=0&&r.splice(a,1),this},addSignalListener(e,r){return vS(this,e,D5(this,e),r)},removeSignalListener(e,r){return _S(this,D5(this,e),r)},addDataListener(e,r){return vS(this,e,C5(this,e).values,r)},removeDataListener(e,r){return _S(this,C5(this,e).values,r)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const r=Bv(this,null);this._globalCursor=!!e,r&&Bv(this,r)}return this}return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:function(e,r){this._timers.push(function(e,r,a){var s=new al,l=r;return null==r?(s.restart(e,r,a),s):(s._restart=s.restart,s.restart=function(f,d,h){d=+d,h=null==h?aE():+h,s._restart(function p(v){v+=l,s._restart(p,l+=d,h),f(v)},d,h)},s.restart(e,r,a),s)}(function(s){e({timestamp:Date.now(),elapsed:s})},r))},events:function(e,r,a){var d,s=this,l=new Nf(a),f=function(v,_){s.runAsync(null,()=>{"view"===e&&function(e,r){var a=e._eventConfig.defaults,s=a.prevent,l=a.allow;return!1!==s&&!0!==l&&(!0===s||!1===l||(s?s[r]:l?!l[r]:e.preventDefault()))}(s,r)&&v.preventDefault(),l.receive(function(e,r,a){var f,h,s=e._renderer,l=s&&s.canvas();return l&&(h=M5(e),(f=xd(r.changedTouches?r.changedTouches[0]:r,l))[0]-=h[0],f[1]-=h[1]),r.dataflow=e,r.item=a,r.vega=function(e,r,a){const s=r?"group"===r.mark.marktype?r:r.mark.group:null;function l(d){var p,h=s;if(d)for(p=r;p;p=p.mark.group)if(p.mark.name===d){h=p;break}return h&&h.mark&&h.mark.interactive?h:{}}function f(d){if(!d)return a;(0,E.HD)(d)&&(d=l(d));const h=a.slice();for(;d;)h[0]-=d.x||0,h[1]-=d.y||0,d=d.mark&&d.mark.group;return h}return{view:(0,E.a9)(e),item:(0,E.a9)(r||{}),group:l,xy:f,x:d=>f(d)[0],y:d=>f(d)[1]}}(e,a,f),r}(s,v,_))})};if("timer"===e)w5(s,"timer",r)&&s.timer(f,r);else if("view"===e)w5(s,"view",r)&&s.addEventListener(r,f,pO);else if("window"===e?w5(s,"window",r)&&"undefined"!=typeof window&&(d=[window]):"undefined"!=typeof document&&w5(s,"selector",r)&&(d=document.querySelectorAll(e)),d){for(var h=0,p=d.length;h<p;++h)d[h].addEventListener(r,f);nS(s,d,r,f)}else s.warn("Can not resolve event source: "+e);return l},finalize:function(){var s,l,f,e=this._tooltip,r=this._timers,a=this._eventListeners;for(s=r.length;--s>=0;)r[s].stop();for(s=a.length;--s>=0;)for(l=(f=a[s]).sources.length;--l>=0;)f.sources[l].removeEventListener(f.type,f.handler);return e&&e.call(this,this._handler,null,null,null),this},hover:function(e,r){return r=[r||"update",(e=[e||"hover"])[0]],this.on(this.events("view","mouseover",iS),rS,oS(e)),this.on(this.events("view","mouseout",iS),rS,oS(r)),this},data:function(e,r){return arguments.length<2?C5(this,e).values.value:x5.call(this,e,Jl().remove(E.yb).insert(r))},change:x5,insert:function(e,r){return x5.call(this,e,Jl().insert(r))},remove:function(e,r){return x5.call(this,e,Jl().remove(r))},scale:function(e){var r=this._runtime.scales;return(0,E.nr)(r,e)||(0,E.vU)("Unrecognized scale or projection: "+e),r[e].value},initialize:function(e,r){const a=this,s=a._renderType,l=a._eventConfig.bind,f=Nd(s);e=a._el=e?Uv(a,e,!0):null,function(e){const r=e.container();r&&(r.setAttribute("role","graphics-document"),r.setAttribute("aria-roleDescription","visualization"),QD(r,e.description()))}(a),f||a.error("Unrecognized renderer type: "+s);const d=f.handler||qc,h=e?f.renderer:f.headless;return a._renderer=h?aS(a,a._renderer,e,h):null,a._handler=function(e,r,a,s){const l=new s(e.loader(),jv(e,e.tooltip())).scene(e.scenegraph().root).initialize(a,M5(e),e);return r&&r.handlers().forEach(f=>{l.on(f.type,f.handler)}),l}(a,a._handler,e,d),a._redraw=!0,e&&"none"!==l&&(r=r?a._elBind=Uv(a,r,!0):e.appendChild(v1("form",{class:"vega-bindings"})),a._bind.forEach(p=>{p.param.element&&"container"!==l&&(p.element=Uv(a,p.param.element,!!p.param.input))}),a._bind.forEach(p=>{wO(a,p.element||r,p)})),a},toImageURL:function(e,r){return Wv.apply(this,arguments)},toCanvas:function(e,r){return Gv.apply(this,arguments)},toSVG:function(e){return Xv.apply(this,arguments)},getState:function(e){return this._runtime.getState(e||{data:qO,signals:WO,recurse:!0})},setState:function(e){return this.runAsync(null,r=>{r._trigger=!1,r._runtime.setState(e)},r=>{r._trigger=!0}),this}});const nP=/[[\]{}]/,iP={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let xS,MS;function S3(e,r,a,s,l){const f=e.length;let h,d=0;for(;r<f;++r){if(h=e[r],!d&&h===a)return r;l&&l.indexOf(h)>=0?--d:s&&s.indexOf(h)>=0&&++d}return r}function wS(e){const r=[],a=e.length;let s=0,l=0;for(;l<a;)l=S3(e,l,",","[{","]}"),r.push(e.substring(s,l).trim()),s=++l;if(0===r.length)throw"Empty event selector: "+e;return r}function Zv(e){return"["===e[0]?function(e){const r=e.length;let s,a=1;if(a=S3(e,a,"]","[","]"),a===r)throw"Empty between selector: "+e;if(s=wS(e.substring(1,a)),2!==s.length)throw"Between selector must have two elements: "+e;if(">"!==(e=e.slice(a+1).trim())[0])throw"Expected '>' after between selector: "+e;s=s.map(Zv);const l=Zv(e.slice(1).trim());return l.between?{between:s,stream:l}:(l.between=s,l)}(e):function(e){const r={source:xS},a=[];let p,v,s=[0,0],l=0,f=0,d=e.length,h=0;if("}"===e[d-1]){if(h=e.lastIndexOf("{"),!(h>=0))throw"Unmatched right brace: "+e;try{s=function(e){const r=e.split(",");if(!e.length||r.length>2)throw e;return r.map(a=>{const s=+a;if(s!=s)throw e;return s})}(e.substring(h+1,d-1))}catch(_){throw"Invalid throttle specification: "+e}d=(e=e.slice(0,h).trim()).length,h=0}if(!d)throw e;if("@"===e[0]&&(l=++h),p=S3(e,h,":"),p<d&&(a.push(e.substring(f,p).trim()),f=h=++p),h=S3(e,h,"["),h===d)a.push(e.substring(f,d).trim());else if(a.push(e.substring(f,h).trim()),v=[],f=++h,f===d)throw"Unmatched left bracket: "+e;for(;h<d;){if(h=S3(e,h,"]"),h===d)throw"Unmatched left bracket: "+e;if(v.push(e.substring(f,h).trim()),h<d-1&&"["!==e[++h])throw"Expected left bracket: "+e;f=++h}if(!(d=a.length)||nP.test(a[d-1]))throw"Invalid event selector: "+e;return d>1?(r.type=a[1],l?r.markname=a[0].slice(1):function(e){return MS[e]}(a[0])?r.marktype=a[0]:r.source=a[0]):r.type=a[0],"!"===r.type.slice(-1)&&(r.consume=!0,r.type=r.type.slice(0,-1)),null!=v&&(r.filter=v),s[0]&&(r.throttle=s[0]),s[1]&&(r.debounce=s[1]),r}(e)}function lP(e){return(0,E.Kn)(e)?e:{type:e||"pad"}}const A3=e=>+e||0;function fP(e){return(0,E.Kn)(e)?e.signal?e:{top:A3(e.top),bottom:A3(e.bottom),left:A3(e.left),right:A3(e.right)}:(e=>({top:e,bottom:e,left:e,right:e}))(A3(e))}const mi=e=>(0,E.Kn)(e)&&!(0,E.kJ)(e)?(0,E.l7)({},e):{value:e};function ES(e,r,a,s){return null!=a?((0,E.Kn)(a)&&!(0,E.kJ)(a)||(0,E.kJ)(a)&&a.length&&(0,E.Kn)(a[0])?e.update[r]=a:e[s||"enter"][r]={value:a},1):0}function ki(e,r,a){for(const s in r)ES(e,s,r[s]);for(const s in a)ES(e,s,a[s],"update")}function F4(e,r,a){for(const s in r)a&&(0,E.nr)(a,s)||(e[s]=(0,E.l7)(e[s]||{},r[s]));return e}function R4(e,r){return r&&(r.enter&&r.enter[e]||r.update&&r.update[e])}const Kv="mark",Qv="frame",Jv="scope",DS="legend-label";function e_(e,r,a){e[r]=a&&a.signal?{signal:a.signal}:{value:a}}const SS=e=>(0,E.HD)(e)?(0,E.m8)(e):e.signal?`(${e.signal})`:AS(e);function k5(e){if(null!=e.gradient)return function(e){const r=[e.start,e.stop,e.count].map(a=>null==a?null:(0,E.m8)(a));for(;r.length&&null==(0,E.fj)(r);)r.pop();return r.unshift(SS(e.gradient)),`gradient(${r.join(",")})`}(e);let r=e.signal?`(${e.signal})`:e.color?function(e){return e.c?T5("hcl",e.h,e.c,e.l):e.h||e.s?T5("hsl",e.h,e.s,e.l):e.l||e.a?T5("lab",e.l,e.a,e.b):e.r||e.g||e.b?T5("rgb",e.r,e.g,e.b):null}(e.color):null!=e.field?AS(e.field):void 0!==e.value?(0,E.m8)(e.value):void 0;return null!=e.scale&&(r=function(e,r){const a=SS(e.scale);return null!=e.range?r=`lerp(_range(${a}), ${+e.range})`:(void 0!==r&&(r=`_scale(${a}, ${r})`),e.band&&(r=(r?r+"+":"")+`_bandwidth(${a})`+(1==+e.band?"":"*"+z5(e.band)),e.extra&&(r=`(datum.extra ? _scale(${a}, datum.extra.value) : ${r})`)),null==r&&(r="0")),r}(e,r)),void 0===r&&(r=null),null!=e.exponent&&(r=`pow(${r},${z5(e.exponent)})`),null!=e.mult&&(r+=`*${z5(e.mult)}`),null!=e.offset&&(r+=`+${z5(e.offset)}`),e.round&&(r=`round(${r})`),r}const T5=(e,r,a,s)=>`(${e}(${[r,a,s].map(k5).join(",")})+'')`;function z5(e){return(0,E.Kn)(e)?"("+k5(e)+")":e}function AS(e){return kS((0,E.Kn)(e)?e:{datum:e})}function kS(e){let r,a,s;if(e.signal)r="datum",s=e.signal;else if(e.group||e.parent){for(a=Math.max(1,e.level||1),r="item";a-- >0;)r+=".mark.group";e.parent?(s=e.parent,r+=".datum"):s=e.group}else e.datum?(r="datum",s=e.datum):(0,E.vU)("Invalid field reference: "+(0,E.m8)(e));return e.signal||(s=(0,E.HD)(s)?(0,E._k)(s).map(E.m8).join("]["):kS(s)),r+"["+s+"]"}function TS(e,r,a,s,l,f){const d={};(f=f||{}).encoders={$encode:d},e=function(e,r,a,s,l){const f={},d={};let h,p,v,_;for(p in p="lineBreak","text"===r&&null!=l[p]&&!R4(p,e)&&e_(f,p,l[p]),("legend"==a||String(a).startsWith("axis"))&&(a=null),_=a===Qv?l.group:a===Kv?(0,E.l7)({},l.mark,l[r]):null,_)v=R4(p,e)||("fill"===p||"stroke"===p)&&(R4("fill",e)||R4("stroke",e)),v||e_(f,p,_[p]);for(p in(0,E.IX)(s).forEach(y=>{const C=l.style&&l.style[y];for(const M in C)R4(M,e)||e_(f,M,C[M])}),e=(0,E.l7)({},e),f)_=f[p],_.signal?(h=h||{})[p]=_:d[p]=_;return e.enter=(0,E.l7)(d,e.enter),h&&(e.update=(0,E.l7)(h,e.update)),e}(e,r,a,s,l.config);for(const h in e)d[h]=NP(e[h],r,f,l);return f}function NP(e,r,a,s){const l={},f={};for(const d in e)null!=e[d]&&(l[d]=LP(IP(e[d]),s,a,f));return{$expr:{marktype:r,channels:l},$fields:Object.keys(f),$output:Object.keys(e)}}function IP(e){return(0,E.kJ)(e)?function(e){let r="";return e.forEach(a=>{const s=k5(a);r+=a.test?`(${a.test})?${s}:`:s}),":"===(0,E.fj)(r)&&(r+="null"),r}(e):k5(e)}function LP(e,r,a,s){const l=Lo(e,r);return l.$fields.forEach(f=>s[f]=1),(0,E.l7)(a,l.$params),l.$expr}const RP=["value","update","init","react","bind"];function zS(e,r){(0,E.vU)(e+' for "outer" push: '+(0,E.m8)(r))}function NS(e,r){const a=e.name;if("outer"===e.push)r.signals[a]||zS("No prior signal definition",a),RP.forEach(s=>{void 0!==e[s]&&zS("Invalid property ",s)});else{const s=r.addSignal(a,e.value);!1===e.react&&(s.react=!1),e.bind&&r.addBinding(a,e.bind)}}function t_(e,r,a,s){this.id=-1,this.type=e,this.value=r,this.params=a,s&&(this.parent=s)}function N5(e,r,a,s){return new t_(e,r,a,s)}function I5(e,r){return N5("operator",e,r)}function Ve(e){const r={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(r),r}function k3(e,r){return r?{$field:e,$name:r}:{$field:e}}const n_=k3("key");function IS(e,r){return{$compare:e,$order:r}}function L5(e,r){return(e&&e.signal?"$"+e.signal:e||"")+(e&&r?"_":"")+(r&&r.signal?"$"+r.signal:r||"")}const i_="scope",r_="view";function ti(e){return e&&e.signal}function F5(e){if(ti(e))return!0;if((0,E.Kn)(e))for(const r in e)if(F5(e[r]))return!0;return!1}function Fo(e,r){return null!=e?e:r}function Dl(e){return e&&e.signal||e}function T3(e,r){return(e.merge?UP:e.stream?$P:e.type?qP:(0,E.vU)("Invalid stream specification: "+(0,E.m8)(e)))(e,r)}function UP(e,r){const s=o_({merge:e.merge.map(l=>T3(l,r))},e,r);return r.addStream(s).id}function $P(e,r){const s=o_({stream:T3(e.stream,r)},e,r);return r.addStream(s).id}function qP(e,r){let a;"timer"===e.type?(a=r.event("timer",e.throttle),e={between:e.between,filter:e.filter}):a=r.event(function(e){return e===i_?r_:e||r_}(e.source),e.type);const s=o_({stream:a},e,r);return 1===Object.keys(s).length?a:r.addStream(s).id}function o_(e,r,a){let s=r.between;return s&&(2!==s.length&&(0,E.vU)('Stream "between" parameter must have 2 entries: '+(0,E.m8)(r)),e.between=[T3(s[0],a),T3(s[1],a)]),s=r.filter?[].concat(r.filter):[],(r.marktype||r.markname||r.markrole)&&s.push(function(e,r,a){const s="event.item";return s+(e&&"*"!==e?"&&"+s+".mark.marktype==='"+e+"'":"")+(a?"&&"+s+".mark.role==='"+a+"'":"")+(r?"&&"+s+".mark.name==='"+r+"'":"")}(r.marktype,r.markname,r.markrole)),r.source===i_&&s.push("inScope(event.item)"),s.length&&(e.filter=Lo("("+s.join(")&&(")+")",a).$expr),null!=(s=r.throttle)&&(e.throttle=+s),null!=(s=r.debounce)&&(e.debounce=+s),r.consume&&(e.consume=!0),e}const GP={code:"_.$value",ast:{type:"Identifier",value:"value"}};function a_(e){return{signal:"["+e.map(r=>r.scale?'scale("'+r.scale+'")':r.signal)+"]"}}const en=e=>(r,a,s)=>N5(e,a,r||void 0,s),FS=en("aggregate"),KP=en("axisticks"),RS=en("bound"),Ro=en("collect"),VS=en("compare"),QP=en("datajoin"),OS=en("encode"),JP=en("expression"),eH=en("facet"),tH=en("field"),nH=en("key"),iH=en("legendentries"),rH=en("load"),oH=en("mark"),aH=en("multiextent"),sH=en("multivalues"),cH=en("overlap"),lH=en("params"),PS=en("prefacet"),uH=en("projection"),fH=en("proxy"),dH=en("relay"),HS=en("render"),hH=en("scale"),Sl=en("sieve"),mH=en("sortitems"),BS=en("viewlayout"),pH=en("values");let gH=0;const jS={min:"min",max:"max",count:"sum"};function _H(e,r){const a=r.getScale(e.name).params;let s;for(s in a.domain=US(e.domain,e,r),null!=e.range&&(a.range=qS(e,r,a)),null!=e.interpolate&&function(e,r){r.interpolate=W1(e.type||e),null!=e.gamma&&(r.interpolateGamma=W1(e.gamma))}(e.interpolate,a),null!=e.nice&&(a.nice=function(e){return(0,E.Kn)(e)?{interval:W1(e.interval),step:W1(e.step)}:W1(e)}(e.nice)),null!=e.bins&&(a.bins=function(e,r){return e.signal||(0,E.kJ)(e)?R5(e,r):r.objectProperty(e)}(e.bins,r)),e)(0,E.nr)(a,s)||"name"===s||(a[s]=W1(e[s],r))}function W1(e,r){return(0,E.Kn)(e)?e.signal?r.signalRef(e.signal):(0,E.vU)("Unsupported object: "+(0,E.m8)(e)):e}function R5(e,r){return e.signal?r.signalRef(e.signal):e.map(a=>W1(a,r))}function V5(e){(0,E.vU)("Can not find data set: "+(0,E.m8)(e))}function US(e,r,a){if(e)return e.signal?a.signalRef(e.signal):((0,E.kJ)(e)?yH:e.fields?CH:bH)(e,r,a);(null!=r.domainMin||null!=r.domainMax)&&(0,E.vU)("No scale domain defined for domainMin/domainMax to override.")}function yH(e,r,a){return e.map(s=>W1(s,a))}function bH(e,r,a){const s=a.getData(e.data);return s||V5(e.data),z0(r.type)?s.valuesRef(a,e.field,$S(e.sort,!1)):ZC(r.type)?s.domainRef(a,e.field):s.extentRef(a,e.field)}function CH(e,r,a){const s=e.data,l=e.fields.reduce((f,d)=>(d=(0,E.HD)(d)?{data:s,field:d}:(0,E.kJ)(d)||d.signal?function(e,r){const a="_:vega:_"+gH++,s=Ro({});if((0,E.kJ)(e))s.value={$ingest:e};else if(e.signal){const l="setdata("+(0,E.m8)(a)+","+e.signal+")";s.params.input=r.signalRef(l)}return r.addDataPipeline(a,[s,Sl({})]),{data:a,field:"data"}}(d,a):d,f.push(d),f),[]);return(z0(r.type)?MH:ZC(r.type)?wH:EH)(e,a,l)}function MH(e,r,a){const s=$S(e.sort,!0);let l,f;const d=a.map(v=>{const _=r.getData(v.data);return _||V5(v.data),_.countsRef(r,v.field,s)}),h={groupby:n_,pulse:d};s&&(l=s.op||"count",f=s.field?L5(l,s.field):"count",h.ops=[jS[l]],h.fields=[r.fieldRef(f)],h.as=[f]),l=r.add(FS(h));const p=r.add(Ro({pulse:Ve(l)}));return f=r.add(pH({field:n_,sort:r.sortRef(s),pulse:Ve(p)})),Ve(f)}function $S(e,r){return e&&(e.field||e.op?e.field||"count"===e.op?r&&e.field&&e.op&&!jS[e.op]&&(0,E.vU)("Multiple domain scales can not be sorted using "+e.op):(0,E.vU)("No field provided for sort aggregate op: "+e.op):(0,E.Kn)(e)?e.field="key":e={field:"key"}),e}function wH(e,r,a){const s=a.map(l=>{const f=r.getData(l.data);return f||V5(l.data),f.domainRef(r,l.field)});return Ve(r.add(sH({values:s})))}function EH(e,r,a){const s=a.map(l=>{const f=r.getData(l.data);return f||V5(l.data),f.extentRef(r,l.field)});return Ve(r.add(aH({extents:s})))}function qS(e,r,a){const s=r.config.range;let l=e.range;if(l.signal)return r.signalRef(l.signal);if((0,E.HD)(l)){if(s&&(0,E.nr)(s,l))return qS(e=(0,E.l7)({},e,{range:s[l]}),r,a);"width"===l?l=[0,{signal:"width"}]:"height"===l?l=z0(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:(0,E.vU)("Unrecognized scale range value: "+(0,E.m8)(l))}else{if(l.scheme)return a.scheme=(0,E.kJ)(l.scheme)?R5(l.scheme,r):W1(l.scheme,r),l.extent&&(a.schemeExtent=R5(l.extent,r)),void(l.count&&(a.schemeCount=W1(l.count,r)));if(l.step)return void(a.rangeStep=W1(l.step,r));if(z0(e.type)&&!(0,E.kJ)(l))return US(l,e,r);(0,E.kJ)(l)||(0,E.vU)("Unsupported range type: "+(0,E.m8)(l))}return l.map(f=>((0,E.kJ)(f)?R5:W1)(f,r))}function s_(e,r,a){return(0,E.kJ)(e)?e.map(s=>s_(s,r,a)):(0,E.Kn)(e)?e.signal?a.signalRef(e.signal):"fit"===r?e:(0,E.vU)("Unsupported parameter object: "+(0,E.m8)(e)):e}const Vo="top",B2="bottom",l_="label",G1="value",z3="guide-label",f_="guide-title",O5="gradient",d_="discrete",m_=["size","shape","fill","stroke","strokeWidth","strokeDash","opacity"],N3={name:1,style:1,interactive:1},zt={value:0},X1={value:1},P5="group",p_="rule",Al="text";function I3(e){return e.type=P5,e.interactive=e.interactive||!1,e}function Yi(e,r){const a=(s,l)=>Fo(e[s],Fo(r[s],l));return a.isVertical=s=>"vertical"===Fo(e.direction,r.direction||(s?r.symbolDirection:r.gradientDirection)),a.gradientLength=()=>Fo(e.gradientLength,r.gradientLength||r.gradientWidth),a.gradientThickness=()=>Fo(e.gradientThickness,r.gradientThickness||r.gradientHeight),a.entryColumns=()=>Fo(e.columns,Fo(r.columns,+a.isVertical(!0))),a}function YS(e,r){const a=r&&(r.update&&r.update[e]||r.enter&&r.enter[e]);return a&&a.signal?a:a?a.value:null}function H5(e,r,a){return`item.anchor === 'start' ? ${e} : item.anchor === 'end' ? ${r} : ${a}`}const g_=H5((0,E.m8)("left"),(0,E.m8)("right"),(0,E.m8)("center"));function ZS(e,r){return r?e?(0,E.Kn)(e)?Object.assign({},e,{offset:ZS(e.offset,r)}):{value:e,offset:r}:r:e}function _1(e,r){return r?(e.name=r.name,e.style=r.style||e.style,e.interactive=!!r.interactive,e.encode=F4(e.encode,r,N3)):e.interactive=!1,e}function HH(e,r,a,s){const l=Yi(e,a),f=l.isVertical(),d=l.gradientThickness(),h=l.gradientLength();let p,v,_,y,C;f?(v=[0,1],_=[0,0],y=d,C=h):(v=[0,0],_=[1,0],y=h,C=d);const M={enter:p={opacity:zt,x:zt,y:zt,width:mi(y),height:mi(C)},update:(0,E.l7)({},p,{opacity:X1,fill:{gradient:r,start:v,stop:_}}),exit:{opacity:zt}};return ki(M,{stroke:l("gradientStrokeColor"),strokeWidth:l("gradientStrokeWidth")},{opacity:l("gradientOpacity")}),_1({type:"rect",role:"legend-gradient",encode:M},s)}function BH(e,r,a,s,l){const f=Yi(e,a),d=f.isVertical(),h=f.gradientThickness(),p=f.gradientLength();let v,_,y,C,M="";d?(v="y",y="y2",_="x",C="width",M="1-"):(v="x",y="x2",_="y",C="height");const w={opacity:zt,fill:{scale:r,field:G1}};w[v]={signal:M+"datum.perc",mult:p},w[_]=zt,w[y]={signal:M+"datum.perc2",mult:p},w[C]=mi(h);const S={enter:w,update:(0,E.l7)({},w,{opacity:X1}),exit:{opacity:zt}};return ki(S,{stroke:f("gradientStrokeColor"),strokeWidth:f("gradientStrokeWidth")},{opacity:f("gradientOpacity")}),_1({type:"rect",role:"legend-band",key:G1,from:l,encode:S},s)}const UH=`datum.perc<=0?"${B2}":datum.perc>=1?"top":"middle"`;function KS(e,r,a,s){const l=Yi(e,r),f=l.isVertical(),d=mi(l.gradientThickness()),h=l.gradientLength();let v,_,y,C,p=l("labelOverlap"),M="";const w={enter:v={opacity:zt},update:_={opacity:X1,text:{field:l_}},exit:{opacity:zt}};return ki(w,{fill:l("labelColor"),fillOpacity:l("labelOpacity"),font:l("labelFont"),fontSize:l("labelFontSize"),fontStyle:l("labelFontStyle"),fontWeight:l("labelFontWeight"),limit:Fo(e.labelLimit,r.gradientLabelLimit)}),f?(v.align={value:"left"},v.baseline=_.baseline={signal:UH},y="y",C="x",M="1-"):(v.align=_.align={signal:'datum.perc<=0?"left":datum.perc>=1?"right":"center"'},v.baseline={value:"top"},y="x",C="y"),v[y]=_[y]={signal:M+"datum.perc",mult:h},v[C]=_[C]=d,d.offset=Fo(e.labelOffset,r.gradientLabelOffset)||0,p=p?{separation:l("labelSeparation"),method:p,order:"datum.index"}:void 0,_1({type:Al,role:DS,style:z3,key:G1,from:s,encode:w,overlap:p},a)}function $H(e,r,a,s,l){const f=Yi(e,r),d=a.entries,h=!(!d||!d.interactive),p=d?d.name:void 0,v=f("clipHeight"),_=f("symbolOffset"),y={data:"value"},C=`(${l}) ? datum.offset : datum.size`,M=v?mi(v):{field:"size"},w="datum.index",S=`max(1, ${l})`;let A,T,N,I,F;M.mult=.5,A={enter:T={opacity:zt,x:{signal:C,mult:.5,offset:_},y:M},update:N={opacity:X1,x:T.x,y:T.y},exit:{opacity:zt}};let O=null,P=null;e.fill||(O=r.symbolBaseFillColor,P=r.symbolBaseStrokeColor),ki(A,{fill:f("symbolFillColor",O),shape:f("symbolType"),size:f("symbolSize"),stroke:f("symbolStrokeColor",P),strokeDash:f("symbolDash"),strokeDashOffset:f("symbolDashOffset"),strokeWidth:f("symbolStrokeWidth")},{opacity:f("symbolOpacity")}),m_.forEach(q=>{e[q]&&(N[q]=T[q]={scale:e[q],field:G1})});const V=_1({type:"symbol",role:"legend-symbol",key:G1,from:y,clip:!!v||void 0,encode:A},a.symbols),W=mi(_);W.offset=f("labelOffset"),A={enter:T={opacity:zt,x:{signal:C,offset:W},y:M},update:N={opacity:X1,text:{field:l_},x:T.x,y:T.y},exit:{opacity:zt}},ki(A,{align:f("labelAlign"),baseline:f("labelBaseline"),fill:f("labelColor"),fillOpacity:f("labelOpacity"),font:f("labelFont"),fontSize:f("labelFontSize"),fontStyle:f("labelFontStyle"),fontWeight:f("labelFontWeight"),limit:f("labelLimit")});const Y=_1({type:Al,role:DS,style:z3,key:G1,from:y,encode:A},a.labels);return A={enter:{noBound:{value:!v},width:zt,height:v?mi(v):zt,opacity:zt},exit:{opacity:zt},update:N={opacity:X1,row:{signal:null},column:{signal:null}}},f.isVertical(!0)?(I=`ceil(item.mark.items.length / ${S})`,N.row.signal=`${w}%${I}`,N.column.signal=`floor(${w} / ${I})`,F={field:["row",w]}):(N.row.signal=`floor(${w} / ${S})`,N.column.signal=`${w} % ${S}`,F={field:w}),N.column.signal=`(${l})?${N.column.signal}:${w}`,I3({role:Jv,from:s={facet:{data:s,name:"value",groupby:"index"}},encode:F4(A,d,N3),marks:[V,Y],name:p,interactive:h,sort:F})}const v_='item.orient === "left"',__='item.orient === "right"',B5=`(${v_} || ${__})`,WH=`datum.vgrad && ${B5}`,GH=H5('"top"','"bottom"','"middle"'),YH=`datum.vgrad && ${__} ? (${H5('"right"','"left"','"center"')}) : (${B5} && !(datum.vgrad && ${v_})) ? "left" : ${g_}`,ZH=`item._anchor || (${B5} ? "middle" : "start")`,KH=`${WH} ? (${v_} ? -90 : 90) : 0`,QH=`${B5} ? (datum.vgrad ? (${__} ? "bottom" : "top") : ${GH}) : "top"`;function eB(e,r){let a;return(0,E.Kn)(e)&&(e.signal?a=e.signal:e.path?a="pathShape("+QS(e.path)+")":e.sphere&&(a="geoShape("+QS(e.sphere)+', {type: "Sphere"})')),a?r.signalRef(a):!!e}function QS(e){return(0,E.Kn)(e)&&e.signal?e.signal:(0,E.m8)(e)}function JS(e){const r=e.role||"";return r.indexOf("axis")&&r.indexOf("legend")&&r.indexOf("title")?e.type===P5?Jv:r||Kv:r}function tB(e){return{marktype:e.type,name:e.name||void 0,role:e.role||JS(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function nB(e,r){return e&&e.signal?r.signalRef(e.signal):!1!==e}function y_(e,r){const a=function(e){const r=function(e){return e=e&&e.toLowerCase(),(0,E.nr)(Ws,e)?Ws[e]:null}(e);return r&&r.Definition||null}(e.type);a||(0,E.vU)("Unrecognized transform type: "+(0,E.m8)(e.type));const s=N5(a.type.toLowerCase(),null,eA(a,e,r));return e.signal&&r.addSignal(e.signal,r.proxy(s)),s.metadata=a.metadata||{},s}function eA(e,r,a){const s={},l=e.params.length;for(let f=0;f<l;++f){const d=e.params[f];s[d.name]=iB(d,r,a)}return s}function iB(e,r,a){const s=e.type,l=r[e.name];return"index"===s?function(e,r,a){return(0,E.HD)(r.from)||(0,E.vU)('Lookup "from" parameter must be a string literal.'),a.getData(r.from).lookupRef(a,r.key)}(0,r,a):void 0!==l?"param"===s?function(e,r,a){const s=r[e.name];return e.array?((0,E.kJ)(s)||(0,E.vU)("Expected an array of sub-parameters. Instead: "+(0,E.m8)(s)),s.map(l=>nA(e,l,a))):nA(e,s,a)}(e,r,a):"projection"===s?a.projectionRef(r[e.name]):e.array&&!ti(l)?l.map(f=>tA(e,f,a)):tA(e,l,a):void(e.required&&(0,E.vU)("Missing required "+(0,E.m8)(r.type)+" parameter: "+(0,E.m8)(e.name)))}function tA(e,r,a){const s=e.type;if(ti(r))return iA(s)?(0,E.vU)("Expression references can not be signals."):b_(s)?a.fieldRef(r):rA(s)?a.compareRef(r):a.signalRef(r.signal);{const l=e.expr||b_(s);return l&&aB(r)?a.exprRef(r.expr,r.as):l&&sB(r)?k3(r.field,r.as):iA(s)?Lo(r,a):cB(s)?Ve(a.getData(r).values):b_(s)?k3(r):rA(s)?a.compareRef(r):r}}function nA(e,r,a){const s=e.params.length;let l;for(let d=0;d<s;++d){l=e.params[d];for(const h in l.key)if(l.key[h]!==r[h]){l=null;break}if(l)break}l||(0,E.vU)("Unsupported parameter: "+(0,E.m8)(r));const f=(0,E.l7)(eA(l,r,a),l.key);return Ve(a.add(lH(f)))}const aB=e=>e&&e.expr,sB=e=>e&&e.field,cB=e=>"data"===e,iA=e=>"expr"===e,b_=e=>"field"===e,rA=e=>"compare"===e;function j5(e,r){return e.$ref?e:e.data&&e.data.$ref?e.data:Ve(r.getData(e.data).output)}function kl(e,r,a,s,l){this.scope=e,this.input=r,this.output=a,this.values=s,this.aggregate=l,this.index={}}function oA(e){return(0,E.HD)(e)?e:null}function aA(e,r,a){const s=L5(a.op,a.field);let l;if(r.ops){for(let f=0,d=r.as.length;f<d;++f)if(r.as[f]===s)return}else r.ops=["count"],r.fields=[null],r.as=["count"];a.op&&(r.ops.push((l=a.op.signal)?e.signalRef(l):a.op),r.fields.push(e.fieldRef(a.field)),r.as.push(s))}function L3(e,r,a,s,l,f,d){const h=r[a]||(r[a]={}),p=function(e){return(0,E.Kn)(e)?("descending"===e.order?"-":"+")+L5(e.op,e.field):""}(f);let _,y,v=oA(l);if(null!=v&&(e=r.scope,v+=p?"|"+p:"",_=h[v]),!_){const C=f?{field:n_,pulse:r.countsRef(e,l,f)}:{field:e.fieldRef(l),pulse:Ve(r.output)};p&&(C.sort=e.sortRef(f)),y=e.add(N5(s,void 0,C)),d&&(r.index[l]=y),_=Ve(y),null!=v&&(h[v]=_)}return _}function sA(e,r,a){const s=e.remove,l=e.insert,f=e.toggle,d=e.modify,h=e.values,p=r.add(I5()),_=Lo("if("+e.trigger+',modify("'+a+'",'+[l,s,f,d,h].map(y=>null==y?"null":y).join(",")+"),0)",r);p.update=_.$expr,p.params=_.$params}function U5(e,r){const a=JS(e),s=e.type===P5,l=e.from&&e.from.facet,f=e.overlap;let h,p,v,_,y,C,M,d=e.layout||a===Jv||a===Qv;const w=a===Kv||d||l,S=function(e,r,a){let s,l,f,d,h;return e?(s=e.facet)&&(r||(0,E.vU)("Only group marks can be faceted."),null!=s.field?d=h=j5(s,a):(e.data?h=Ve(a.getData(e.data).aggregate):(f=y_((0,E.l7)({type:"aggregate",groupby:(0,E.IX)(s.groupby)},s.aggregate),a),f.params.key=a.keyRef(s.groupby),f.params.pulse=j5(s,a),d=h=Ve(a.add(f))),l=a.keyRef(s.groupby,!0))):d=Ve(a.add(Ro(null,[{}]))),d||(d=j5(e,a)),{key:l,pulse:d,parent:h}}(e.from,s,r);p=r.add(QP({key:S.key||(e.key?k3(e.key):void 0),pulse:S.pulse,clean:!s}));const A=Ve(p);p=v=r.add(Ro({pulse:A})),p=r.add(oH({markdef:tB(e),interactive:nB(e.interactive,r),clip:eB(e.clip,r),context:{$context:!0},groups:r.lookup(),parent:r.signals.parent?r.signalRef("parent"):null,index:r.markpath(),pulse:Ve(p)}));const T=Ve(p);p=_=r.add(OS(TS(e.encode,e.type,a,e.style,r,{mod:!1,pulse:T}))),p.params.parent=r.encode(),e.transform&&e.transform.forEach(P=>{const V=y_(P,r),W=V.metadata;(W.generates||W.changes)&&(0,E.vU)("Mark transforms should not generate new data."),W.nomod||(_.params.mod=!0),V.params.pulse=Ve(p),r.add(p=V)}),e.sort&&(p=r.add(mH({sort:r.compareRef(e.sort),pulse:Ve(p)})));const N=Ve(p);(l||d)&&(d=r.add(BS({layout:r.objectProperty(e.layout),legends:r.legends,mark:T,pulse:N})),C=Ve(d));const I=r.add(RS({mark:T,pulse:C||N}));M=Ve(I),s&&(w&&(h=r.operators,h.pop(),d&&h.pop()),r.pushState(N,C||M,A),l?function(e,r,a){const s=e.from.facet,l=s.name,f=j5(s,r);let d;s.name||(0,E.vU)("Facet must have a name: "+(0,E.m8)(s)),s.data||(0,E.vU)("Facet must reference a data set: "+(0,E.m8)(s)),s.field?d=r.add(PS({field:r.fieldRef(s.field),pulse:f})):s.groupby?d=r.add(eH({key:r.keyRef(s.groupby),group:Ve(r.proxy(a.parent)),pulse:f})):(0,E.vU)("Facet must specify groupby or field: "+(0,E.m8)(s));const h=r.fork(),p=h.add(Ro()),v=h.add(Sl({pulse:Ve(p)}));h.addData(l,new kl(h,p,p,v)),h.addSignal("parent",null),d.params.subflow={$subflow:h.parse(e).toRuntime()}}(e,r,S):w?function(e,r,a){const s=r.add(PS({pulse:a.pulse})),l=r.fork();l.add(Sl()),l.addSignal("parent",null),s.params.subflow={$subflow:l.parse(e).toRuntime()}}(e,r,S):r.parse(e),r.popState(),w&&(d&&h.push(d),h.push(I))),f&&(M=function(e,r,a){const s=e.method,l=e.bound,f=e.separation,d={separation:ti(f)?a.signalRef(f.signal):f,method:ti(s)?a.signalRef(s.signal):s,pulse:r};if(e.order&&(d.sort=a.compareRef({field:e.order})),l){const h=l.tolerance;d.boundTolerance=ti(h)?a.signalRef(h.signal):+h,d.boundScale=a.scaleRef(l.scale),d.boundOrient=l.orient}return Ve(a.add(cH(d)))}(f,M,r));const F=r.add(HS({pulse:M})),O=r.add(Sl({pulse:Ve(F)},void 0,r.parent()));null!=e.name&&(y=e.name,r.addData(y,new kl(r,v,F,O)),e.on&&e.on.forEach(P=>{(P.insert||P.remove||P.toggle)&&(0,E.vU)("Marks only support modify triggers."),sA(P,r,y)}))}function gB(e,r,a){const s={enter:{},update:{}};return ki(s,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:a.strokeWidth,strokeDash:a.strokeDash,x:e("legendX"),y:e("legendY"),format:r.format,formatType:r.formatType}),s}function cA(e,r,a){return r[e]?`scale("${r[e]}",datum)`:YS(e,a[0].encode)}function xB(e,r){const a={enter:{},update:{}};return ki(a,{orient:e("orient"),anchor:e("anchor"),align:{signal:g_},angle:{signal:'item.orient==="left"?-90:item.orient==="right"?90:0'},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),F4(a,r,N3)}function Tl(e){const r=Ro({},e);return r.metadata={source:!0},r}function lA(e,r){return rH({url:r.url?e.property(r.url):void 0,async:r.async?e.property(r.async):void 0,values:r.values?e.property(r.values):void 0,format:e.objectProperty(r.format)})}kl.fromEntries=function(e,r){const a=r.length,s=r[a-1],l=r[a-2];let f=r[0],d=null,h=1;for(f&&"load"===f.type&&(f=r[1]),e.add(r[0]);h<a;++h)r[h].params.pulse=Ve(r[h-1]),e.add(r[h]),"aggregate"===r[h].type&&(d=r[h]);return new kl(e,f,l,s,d)},kl.prototype={countsRef(e,r,a){const s=this,l=s.counts||(s.counts={}),f=oA(r);let d,h,p;return null!=f&&(e=s.scope,d=l[f]),d?a&&a.field&&aA(e,d.agg.params,a):(p={groupby:e.fieldRef(r,"key"),pulse:Ve(s.output)},a&&a.field&&aA(e,p,a),h=e.add(FS(p)),d=e.add(Ro({pulse:Ve(h)})),d={agg:h,ref:Ve(d)},null!=f&&(l[f]=d)),d.ref},tuplesRef(){return Ve(this.values)},extentRef(e,r){return L3(e,this,"extent","extent",r,!1)},domainRef(e,r){return L3(e,this,"domain","values",r,!1)},valuesRef(e,r,a){return L3(e,this,"vals","values",r,a||!0)},lookupRef(e,r){return L3(e,this,"lookup","tupleindex",r,!1)},indataRef(e,r){return L3(e,this,"indata","tupleindex",r,!0,!0)}};const uA=e=>e===B2||e===Vo,$5=(e,r,a)=>ti(e)?TB(e.signal,r,a):"left"===e||e===Vo?r:a,pi=(e,r,a)=>ti(e)?AB(e.signal,r,a):uA(e)?r:a,Oo=(e,r,a)=>ti(e)?kB(e.signal,r,a):uA(e)?a:r,fA=(e,r,a)=>ti(e)?zB(e.signal,r,a):e===Vo?{value:r}:{value:a},AB=(e,r,a)=>hA(`${e} === 'top' || ${e} === '${B2}'`,r,a),kB=(e,r,a)=>hA(`${e} !== 'top' && ${e} !== '${B2}'`,r,a),TB=(e,r,a)=>C_(`${e} === 'left' || ${e} === 'top'`,r,a),zB=(e,r,a)=>C_(`${e} === 'top'`,r,a),hA=(e,r,a)=>(r=null!=r?mi(r):r,a=null!=a?mi(a):a,mA(r)&&mA(a)?{signal:`${e} ? (${r=r?r.signal||(0,E.m8)(r.value):null}) : (${a=a?a.signal||(0,E.m8)(a.value):null})`}:[(0,E.l7)({test:e},r)].concat(a||[])),mA=e=>null==e||1===Object.keys(e).length,C_=(e,r,a)=>({signal:`${e} ? (${H4(r)}) : (${H4(a)})`}),NB=(e,r,a,s,l)=>({signal:(null!=s?`${e} === 'left' ? (${H4(s)}) : `:"")+(null!=a?`${e} === '${B2}' ? (${H4(a)}) : `:"")+(null!=l?`${e} === 'right' ? (${H4(l)}) : `:"")+(null!=r?`${e} === 'top' ? (${H4(r)}) : `:"")+"(null)"}),H4=e=>ti(e)?e.signal:null==e?null:(0,E.m8)(e),B4=(e,r)=>{const a=e.signal;return a&&a.endsWith("(null)")?{signal:a.slice(0,-6)+r.signal}:e};function j4(e,r,a,s){let l;if(r&&(0,E.nr)(r,e))return r[e];if((0,E.nr)(a,e))return a[e];if(e.startsWith("title")){switch(e){case"titleColor":l="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":l=e[5].toLowerCase()+e.slice(6)}return s[f_][l]}if(e.startsWith("label")){switch(e){case"labelColor":l="fill";break;case"labelFont":case"labelFontSize":l=e[5].toLowerCase()+e.slice(6)}return s[z3][l]}return null}function pA(e){const r={};for(const a of e)if(a)for(const s in a)r[s]=1;return Object.keys(r)}function gA(e,r){return{scale:e.scale,range:r}}function x_(e,r,a,s,l){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+r+","+a+","+s+","+l+")"}}function PB(e,r,a,s,l,f){const d=Yi(e,r),h=e.orient,p=e.scale,v=$5(h,-1,1),_=Dl(d("labelFlush")),y=Dl(d("labelFlushOffset")),C=d("labelAlign"),M=d("labelBaseline");let S,w=0===_||!!_;const A=mi(l);A.mult=v,A.offset=mi(d("labelPadding")||0),A.offset.mult=v;const T={scale:p,field:G1,band:.5,offset:ZS(f.offset,d("labelOffset"))},N=pi(h,w?x_(p,_,'"left"','"right"','"center"'):{value:"center"},((e,r,a)=>ti(e)?((e,r,a)=>C_(`${e} === 'right'`,r,a))(e.signal,r,a):"right"===e?{value:r}:{value:a})(h,"left","right")),I=pi(h,fA(h,"bottom","top"),w?x_(p,_,'"top"','"bottom"','"middle"'):{value:"middle"}),F=x_(p,_,`-(${y})`,y,0);w=w&&y;const O={opacity:zt,x:pi(h,T,A),y:Oo(h,T,A)},P={enter:O,update:S={opacity:X1,text:{field:l_},x:O.x,y:O.y,align:N,baseline:I},exit:{opacity:zt,x:O.x,y:O.y}};ki(P,{dx:!C&&w?pi(h,F):null,dy:!M&&w?Oo(h,F):null}),ki(P,{angle:d("labelAngle"),fill:d("labelColor"),fillOpacity:d("labelOpacity"),font:d("labelFont"),fontSize:d("labelFontSize"),fontWeight:d("labelFontWeight"),fontStyle:d("labelFontStyle"),limit:d("labelLimit"),lineHeight:d("labelLineHeight")},{align:C,baseline:M});const V=d("labelBound");let W=d("labelOverlap");return W=W||V?{separation:d("labelSeparation"),method:W,order:"datum.index",bound:V?{scale:p,orient:h,tolerance:V}:null}:void 0,S.align!==N&&(S.align=B4(S.align,N)),S.baseline!==I&&(S.baseline=B4(S.baseline,I)),_1({type:Al,role:"axis-label",style:z3,key:G1,from:s,encode:P,overlap:W},a)}function jB(e,r){const a=function(e,r){var h,p,v,a=r.config,s=a.style,l=a.axis,f="band"===r.scaleType(e.scale)&&a.axisBand,d=e.orient;if(ti(d)){const y=pA([a.axisX,a.axisY]),C=pA([a.axisTop,a.axisBottom,a.axisLeft,a.axisRight]);for(v of(h={},y))h[v]=pi(d,j4(v,a.axisX,l,s),j4(v,a.axisY,l,s));for(v of(p={},C))p[v]=NB(d.signal,j4(v,a.axisTop,l,s),j4(v,a.axisBottom,l,s),j4(v,a.axisLeft,l,s),j4(v,a.axisRight,l,s))}else h=d===Vo||d===B2?a.axisX:a.axisY,p=a["axis"+d[0].toUpperCase()+d.slice(1)];return h||p||f?(0,E.l7)({},l,h,p,f):l}(e,r),s=e.encode||{},l=s.axis||{},f=l.name||void 0,d=l.interactive,h=l.style,p=Yi(e,a),v=function(e){const r=e("tickBand");let s,l,a=e("tickOffset");return r?r.signal?(s={signal:`(${r.signal}) === 'extent' ? 1 : 0.5`},l={signal:`(${r.signal}) === 'extent'`},(0,E.Kn)(a)||(a={signal:`(${r.signal}) === 'extent' ? 0 : ${a}`})):"extent"===r?(s=1,l=!0,a=0):(s=.5,l=!1):(s=e("bandPosition"),l=e("tickExtra")),{extra:l,band:s,offset:a}}(p),_={scale:e.scale,ticks:!!p("ticks"),labels:!!p("labels"),grid:!!p("grid"),domain:!!p("domain"),title:null!=e.title},y=Ve(r.add(Ro({},[_]))),C=Ve(r.add(KP({scale:r.scaleRef(e.scale),extra:r.property(v.extra),count:r.objectProperty(e.tickCount),values:r.objectProperty(e.values),minstep:r.property(e.tickMinStep),formatType:r.property(e.formatType),formatSpecifier:r.property(e.format)}))),M=[];let w;return _.grid&&M.push(function(e,r,a,s,l){const f=Yi(e,r),d=e.orient,h=e.gridScale,p=$5(d,1,-1),v=function(e,r){if(1!==r)if((0,E.Kn)(e)){let a=e=(0,E.l7)({},e);for(;null!=a.mult;){if(!(0,E.Kn)(a.mult))return a.mult=ti(r)?{signal:`(${a.mult}) * (${r.signal})`}:a.mult*r,e;a=a.mult=(0,E.l7)({},a.mult)}a.mult=r}else e=ti(r)?{signal:`(${r.signal}) * (${e||0})`}:r*(e||0);return e}(e.offset,p);let _,y,C;const M={enter:_={opacity:zt},update:C={opacity:X1},exit:y={opacity:zt}};ki(M,{stroke:f("gridColor"),strokeCap:f("gridCap"),strokeDash:f("gridDash"),strokeDashOffset:f("gridDashOffset"),strokeOpacity:f("gridOpacity"),strokeWidth:f("gridWidth")});const w={scale:e.scale,field:G1,band:l.band,extra:l.extra,offset:l.offset,round:f("tickRound")},S=pi(d,{signal:"height"},{signal:"width"}),A=h?{scale:h,range:0,mult:p,offset:v}:{value:0,offset:v},T=h?{scale:h,range:1,mult:p,offset:v}:(0,E.l7)(S,{mult:p,offset:v});return _.x=C.x=pi(d,w,A),_.y=C.y=Oo(d,w,A),_.x2=C.x2=Oo(d,T),_.y2=C.y2=pi(d,T),y.x=pi(d,w),y.y=Oo(d,w),_1({type:p_,role:"axis-grid",key:G1,from:s,encode:M},a)}(e,a,s.grid,C,v)),_.ticks&&(w=p("tickSize"),M.push(function(e,r,a,s,l,f){const d=Yi(e,r),h=e.orient,p=$5(h,-1,1);let v,_,y;const C={enter:v={opacity:zt},update:y={opacity:X1},exit:_={opacity:zt}};ki(C,{stroke:d("tickColor"),strokeCap:d("tickCap"),strokeDash:d("tickDash"),strokeDashOffset:d("tickDashOffset"),strokeOpacity:d("tickOpacity"),strokeWidth:d("tickWidth")});const M=mi(l);M.mult=p;const w={scale:e.scale,field:G1,band:f.band,extra:f.extra,offset:f.offset,round:d("tickRound")};return y.y=v.y=pi(h,zt,w),y.y2=v.y2=pi(h,M),_.x=pi(h,w),y.x=v.x=Oo(h,zt,w),y.x2=v.x2=Oo(h,M),_.y=Oo(h,w),_1({type:p_,role:"axis-tick",key:G1,from:s,encode:C},a)}(e,a,s.ticks,C,w,v))),_.labels&&(w=_.ticks?w:0,M.push(PB(e,a,s.labels,C,w,v))),_.domain&&M.push(function(e,r,a,s){const l=Yi(e,r),f=e.orient;let d,h;const p={enter:d={opacity:zt},update:h={opacity:X1},exit:{opacity:zt}};ki(p,{stroke:l("domainColor"),strokeCap:l("domainCap"),strokeDash:l("domainDash"),strokeDashOffset:l("domainDashOffset"),strokeWidth:l("domainWidth"),strokeOpacity:l("domainOpacity")});const v=gA(e,0),_=gA(e,1);return d.x=h.x=pi(f,v,zt),d.x2=h.x2=pi(f,_),d.y=h.y=Oo(f,v,zt),d.y2=h.y2=Oo(f,_),_1({type:p_,role:"axis-domain",from:s,encode:p},a)}(e,a,s.domain,y)),_.title&&M.push(function(e,r,a,s){const l=Yi(e,r),f=e.orient,d=$5(f,-1,1);let h,p;const v={enter:h={opacity:zt,anchor:mi(l("titleAnchor",null)),align:{signal:g_}},update:p=(0,E.l7)({},h,{opacity:X1,text:mi(e.title)}),exit:{opacity:zt}},_={signal:`lerp(range("${e.scale}"), ${H5(0,1,.5)})`};return p.x=pi(f,_),p.y=Oo(f,_),h.angle=pi(f,zt,((e,r)=>ti(e)?{signal:`(${e.signal}) * 90`}:{value:90*e})(d)),h.baseline=pi(f,fA(f,B2,Vo),{value:B2}),p.angle=h.angle,p.baseline=h.baseline,ki(v,{fill:l("titleColor"),fillOpacity:l("titleOpacity"),font:l("titleFont"),fontSize:l("titleFontSize"),fontStyle:l("titleFontStyle"),fontWeight:l("titleFontWeight"),limit:l("titleLimit"),lineHeight:l("titleLineHeight")},{align:l("titleAlign"),angle:l("titleAngle"),baseline:l("titleBaseline")}),function(e,r,a,s){const l=(h,p)=>null!=h?(a.update[p]=B4(mi(h),a.update[p]),!1):!R4(p,s),f=l(e("titleX"),"x"),d=l(e("titleY"),"y");a.enter.auto=d===f?mi(d):pi(r,mi(d),mi(f))}(l,f,v,a),v.update.align=B4(v.update.align,h.align),v.update.angle=B4(v.update.angle,h.angle),v.update.baseline=B4(v.update.baseline,h.baseline),_1({type:Al,role:"axis-title",style:f_,from:s,encode:v},a)}(e,a,s.title,y)),U5(I3({role:"axis",from:y,encode:F4(UB(p,e),l,N3),marks:M,aria:p("aria"),description:p("description"),zindex:p("zindex"),name:f,interactive:d,style:h}),r)}function UB(e,r){const a={enter:{},update:{}};return ki(a,{orient:e("orient"),offset:e("offset")||0,position:Fo(r.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${r.scale}")))`},translate:e("translate"),format:r.format,formatType:r.formatType}),a}function vA(e,r,a){const s=(0,E.IX)(e.signals),l=(0,E.IX)(e.scales);return a||s.forEach(f=>NS(f,r)),(0,E.IX)(e.projections).forEach(f=>function(e,r){const a=r.config.projection||{},s={};for(const l in e)"name"!==l&&(s[l]=s_(e[l],l,r));for(const l in a)null==s[l]&&(s[l]=s_(a[l],l,r));r.addProjection(e.name,s)}(f,r)),l.forEach(f=>function(e,r){const a=e.type||"linear";f2(a)||(0,E.vU)("Unrecognized scale type: "+(0,E.m8)(a)),r.addScale(e.name,{type:a,domain:void 0})}(f,r)),(0,E.IX)(e.data).forEach(f=>function(e,r){const a=[];e.transform&&e.transform.forEach(s=>{a.push(y_(s,r))}),e.on&&e.on.forEach(s=>{sA(s,r,e.name)}),r.addDataPipeline(e.name,function(e,r,a){const s=[];let h,p,v,_,y,l=null,f=!1,d=!1;for(e.values?ti(e.values)||F5(e.format)?(s.push(lA(r,e)),s.push(l=Tl())):s.push(l=Tl({$ingest:e.values,$format:e.format})):e.url?F5(e.url)||F5(e.format)?(s.push(lA(r,e)),s.push(l=Tl())):s.push(l=Tl({$request:e.url,$format:e.format})):e.source&&(l=h=(0,E.IX)(e.source).map(C=>Ve(r.getData(C).output)),s.push(null)),p=0,v=a.length;p<v;++p)_=a[p],y=_.metadata,!l&&!y.source&&s.push(l=Tl()),s.push(_),y.generates&&(d=!0),y.modifies&&!d&&(f=!0),y.source?l=_:y.changes&&(l=null);return h&&(v=h.length-1,s[0]=dH({derive:f,pulse:v?h:h[0]}),(f||v)&&s.splice(1,0,Tl())),l||s.push(Tl()),s.push(Sl({})),s}(e,r,a))}(f,r)),l.forEach(f=>_H(f,r)),(a||s).forEach(f=>function(e,r){const a=r.getSignal(e.name);let s=e.update;e.init&&(s?(0,E.vU)("Signals can not include both init and update expressions."):(s=e.init,a.initonly=!0)),s&&(s=Lo(s,r),a.update=s.$expr,a.params=s.$params),e.on&&e.on.forEach(l=>function(e,r,a){const s=e.encode,l={target:a};let f=e.events,d=e.update,h=[];f||(0,E.vU)("Signal update missing events specification."),(0,E.HD)(f)&&(f=function(e,r,a){return xS=r||"view",MS=iP,wS(e.trim()).map(Zv)}(f,r.isSubscope()?i_:r_)),f=(0,E.IX)(f).filter(p=>p.signal||p.scale?(h.push(p),0):1),h.length>1&&(h=[a_(h)]),f.length&&h.push(f.length>1?{merge:f}:f[0]),null!=s&&(d&&(0,E.vU)("Signal encode and update are mutually exclusive."),d="encode(item(),"+(0,E.m8)(s)+")"),l.update=(0,E.HD)(d)?Lo(d,r):null!=d.expr?Lo(d.expr,r):null!=d.value?d.value:null!=d.signal?{$expr:GP,$params:{$value:r.signalRef(d.signal)}}:(0,E.vU)("Invalid signal update specification."),e.force&&(l.options={force:!0}),h.forEach(p=>r.addUpdate((0,E.l7)(function(e,r){return{source:e.signal?r.signalRef(e.signal):e.scale?r.scaleRef(e.scale):T3(e,r)}}(p,r),l)))}(l,r,a.id))}(f,r)),(0,E.IX)(e.axes).forEach(f=>jB(f,r)),(0,E.IX)(e.marks).forEach(f=>U5(f,r)),(0,E.IX)(e.legends).forEach(f=>function(e,r){const a=r.config.legend,s=e.encode||{},l=Yi(e,a),f=s.legend||{},d=f.name||void 0,h=f.interactive,p=f.style,v={};let y,C,M,_=0;m_.forEach(I=>e[I]?(v[I]=e[I],_=_||e[I]):0),_||(0,E.vU)("Missing valid scale for legend.");const w=function(e,r){let a=e.type||"symbol";return!e.type&&1===function(e){return m_.reduce((r,a)=>r+(e[a]?1:0),0)}(e)&&(e.fill||e.stroke)&&(a=pm(r)?O5:$8(r)?d_:"symbol"),a!==O5?a:$8(r)?d_:O5}(e,r.scaleType(_)),S={title:null!=e.title,scales:v,type:w,vgrad:"symbol"!==w&&l.isVertical()},A=Ve(r.add(Ro(null,[S]))),N=Ve(r.add(iH(C={type:w,scale:r.scaleRef(_),count:r.objectProperty(l("tickCount")),limit:r.property(l("symbolLimit")),values:r.objectProperty(e.values),minstep:r.property(e.tickMinStep),formatType:r.property(e.formatType),formatSpecifier:r.property(e.format)})));return w===O5?(M=[HH(e,_,a,s.gradient),KS(e,a,s.labels,N)],C.count=C.count||r.signalRef(`max(2,2*floor((${Dl(l.gradientLength())})/100))`)):w===d_?M=[BH(e,_,a,s.gradient,N),KS(e,a,s.labels,N)]:(y=function(e,r){const a=Yi(e,r);return{align:a("gridAlign"),columns:a.entryColumns(),center:{row:!0,column:!1},padding:{row:a("rowPadding"),column:a("columnPadding")}}}(e,a),M=[$H(e,a,s,N,Dl(y.columns))],C.size=function(e,r,a){const s=Dl(cA("size",e,a)),l=Dl(cA("strokeWidth",e,a)),f=Dl(function(e,r,a){return YS("fontSize",e)||function(e,r,a){const s=r.config.style["guide-label"];return s&&s.fontSize}(0,r)}(a[1].encode,r));return Lo(`max(ceil(sqrt(${s})+${l}),${f})`,r)}(e,r,M[0].marks)),M=[I3({role:"legend-entry",from:A,encode:{enter:{x:{value:0},y:{value:0}}},marks:M,layout:y,interactive:h})],S.title&&M.push(function(e,r,a,s){const l=Yi(e,r),f={enter:{opacity:zt},update:{opacity:X1,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:zt}};return ki(f,{orient:l("titleOrient"),_anchor:l("titleAnchor"),anchor:{signal:ZH},angle:{signal:KH},align:{signal:YH},baseline:{signal:QH},text:e.title,fill:l("titleColor"),fillOpacity:l("titleOpacity"),font:l("titleFont"),fontSize:l("titleFontSize"),fontStyle:l("titleFontStyle"),fontWeight:l("titleFontWeight"),limit:l("titleLimit"),lineHeight:l("titleLineHeight")},{align:l("titleAlign"),baseline:l("titleBaseline")}),_1({type:Al,role:"legend-title",style:f_,from:s,encode:f},a)}(e,a,s.title,A)),U5(I3({role:"legend",from:A,encode:F4(gB(l,e,a),f,N3),marks:M,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:d,interactive:h,style:p}),r)}(f,r)),e.title&&function(e,r){const a=Yi(e=(0,E.HD)(e)?{text:e}:e,r.config.title),s=e.encode||{},l=s.group||{},f=l.name||void 0,d=l.interactive,h=l.style,p=[],_=Ve(r.add(Ro(null,[{}])));p.push(function(e,r,a,s){const l={value:0},d={enter:{opacity:l},update:{opacity:{value:1}},exit:{opacity:l}};return ki(d,{text:e.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:r("dx"),dy:r("dy"),fill:r("color"),font:r("font"),fontSize:r("fontSize"),fontStyle:r("fontStyle"),fontWeight:r("fontWeight"),lineHeight:r("lineHeight")},{align:r("align"),angle:r("angle"),baseline:r("baseline")}),_1({type:Al,role:"title-text",style:"group-title",from:s,encode:d},a)}(e,a,function(e){const r=e.encode;return r&&r.title||(0,E.l7)({name:e.name,interactive:e.interactive,style:e.style},r)}(e),_)),e.subtitle&&p.push(function(e,r,a,s){const l={value:0},d={enter:{opacity:l},update:{opacity:{value:1}},exit:{opacity:l}};return ki(d,{text:e.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:r("dx"),dy:r("dy"),fill:r("subtitleColor"),font:r("subtitleFont"),fontSize:r("subtitleFontSize"),fontStyle:r("subtitleFontStyle"),fontWeight:r("subtitleFontWeight"),lineHeight:r("subtitleLineHeight")},{align:r("align"),angle:r("angle"),baseline:r("baseline")}),_1({type:Al,role:"title-subtitle",style:"group-subtitle",from:s,encode:d},a)}(e,a,s.subtitle,_)),U5(I3({role:"title",from:_,encode:xB(a,l),marks:p,aria:a("aria"),description:a("description"),zindex:a("zindex"),name:f,interactive:d,style:h}),r)}(e.title,r),r.parseLambdas(),r}function F3(e,r){return r&&r.signal?{name:e,update:r.signal}:{name:e,value:r}}function _A(e,r){this.config=e||{},this.options=r||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function yA(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}function M_(e){return((0,E.kJ)(e)?GB:XB)(e)}function GB(e){const r=e.length;let a="[";for(let s=0;s<r;++s){const l=e[s];a+=(s>0?",":"")+((0,E.Kn)(l)?l.signal||M_(l):(0,E.m8)(l))}return a+"]"}function XB(e){let s,l,r="{",a=0;for(s in e)l=e[s],r+=(++a>1?",":"")+(0,E.m8)(s)+":"+((0,E.Kn)(l)?l.signal||M_(l):(0,E.m8)(l));return r+"}"}function ZB(e,r,a){return(0,E.Kn)(e)||(0,E.vU)("Input Vega specification must be an object."),function(e,r){const a=r.config,s=Ve(r.root=r.add(I5())),l=function(e,r){const a=d=>Fo(e[d],r[d]),s=[F3("background",a("background")),F3("autosize",lP(a("autosize"))),F3("padding",fP(a("padding"))),F3("width",a("width")||0),F3("height",a("height")||0)],l=s.reduce((d,h)=>(d[h.name]=h,d),{}),f={};return(0,E.IX)(e.signals).forEach(d=>{(0,E.nr)(l,d.name)?d=(0,E.l7)(l[d.name],d):s.push(d),f[d.name]=d}),(0,E.IX)(r.signals).forEach(d=>{!(0,E.nr)(f,d.name)&&!(0,E.nr)(l,d.name)&&s.push(d)}),s}(e,a);l.forEach(v=>NS(v,r)),r.description=e.description||a.description,r.eventConfig=a.events,r.legends=r.objectProperty(a.legend&&a.legend.layout),r.locale=a.locale;const f=r.add(Ro()),d=r.add(OS(TS((e=>F4({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e))(e.encode),P5,Qv,e.style,r,{pulse:Ve(f)}))),h=r.add(BS({layout:r.objectProperty(e.layout),legends:r.legends,autosize:r.signalRef("autosize"),mark:s,pulse:Ve(d)}));r.operators.pop(),r.pushState(Ve(d),Ve(h),null),vA(e,r,l),r.operators.push(h);let p=r.add(RS({mark:s,pulse:Ve(h)}));return p=r.add(HS({pulse:Ve(p)})),p=r.add(Sl({pulse:Ve(p)})),r.addData("root",new kl(r,f,f,p)),r}(e,new _A(r=(0,E.fE)(function(){const e="sans-serif",s="#4c78a8",l="#000",f="#888",d="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:s},area:{fill:s},image:null,line:{stroke:s,strokeWidth:2},path:{stroke:s},rect:{fill:s},rule:{stroke:l},shape:{stroke:s},symbol:{fill:s,size:64},text:{fill:l,font:e,fontSize:11},trail:{fill:s,size:2},style:{"guide-label":{fill:l,font:e,fontSize:10},"guide-title":{fill:l,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:l,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:l,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:d}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:f,grid:!1,gridWidth:1,gridColor:d,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:f,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:d,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:f,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}(),r,e.config),a)).toRuntime()}_A.prototype=yA.prototype={parse(e){return vA(e,this)},fork(){return new yA(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(r=>{r.$ref=e.id}),e.refs=null),e},proxy(e){const r=e instanceof t_?Ve(e):e;return this.add(fH({value:r}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,r;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function a(s,l,f){let d,h;s&&(d=s.data||(s.data={}),h=d[l]||(d[l]=[]),h.push(f))}for(e in this.data){r=this.data[e],a(r.input,e,"input"),a(r.output,e,"output"),a(r.values,e,"values");for(const s in r.index)a(r.index[s],e,"index:"+s)}return this},pushState(e,r,a){this._encode.push(Ve(this.add(Sl({pulse:e})))),this._parent.push(r),this._lookup.push(a?Ve(this.proxy(a)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return(0,E.fj)(this._parent)},encode(){return(0,E.fj)(this._encode)},lookup(){return(0,E.fj)(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,r){if((0,E.HD)(e))return k3(e,r);e.signal||(0,E.vU)("Unsupported field reference: "+(0,E.m8)(e));const a=e.signal;let s=this.field[a];if(!s){const l={name:this.signalRef(a)};r&&(l.as=r),this.field[a]=s=Ve(this.add(tH(l)))}return s},compareRef(e){let r=!1;const a=f=>ti(f)?(r=!0,this.signalRef(f.signal)):function(e){return e&&e.expr}(f)?(r=!0,this.exprRef(f.expr)):f,s=(0,E.IX)(e.field).map(a),l=(0,E.IX)(e.order).map(a);return r?Ve(this.add(VS({fields:s,orders:l}))):IS(s,l)},keyRef(e,r){let a=!1;const l=this.signals;return e=(0,E.IX)(e).map(f=>ti(f)?(a=!0,Ve(l[f.signal])):f),a?Ve(this.add(nH({fields:e,flat:r}))):function(e,r){const a={$key:e};return r&&(a.$flat=!0),a}(e,r)},sortRef(e){if(!e)return e;const r=L5(e.op,e.field),a=e.order||"ascending";return a.signal?Ve(this.add(VS({fields:r,orders:this.signalRef(a.signal)}))):IS(r,a)},event(e,r){const a=e+":"+r;if(!this.events[a]){const s=this.id();this.streams.push({id:s,source:e,type:r}),this.events[a]=s}return this.events[a]},hasOwnSignal(e){return(0,E.nr)(this.signals,e)},addSignal(e,r){this.hasOwnSignal(e)&&(0,E.vU)("Duplicate signal name: "+(0,E.m8)(e));const a=r instanceof t_?r:this.add(I5(r));return this.signals[e]=a},getSignal(e){return this.signals[e]||(0,E.vU)("Unrecognized signal name: "+(0,E.m8)(e)),this.signals[e]},signalRef(e){return this.signals[e]?Ve(this.signals[e]):((0,E.nr)(this.lambdas,e)||(this.lambdas[e]=this.add(I5(null))),Ve(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let r=0,a=e.length;r<a;++r){const s=e[r],l=Lo(s,this),f=this.lambdas[s];f.params=l.$params,f.update=l.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return e&&(0,E.Kn)(e)?this.signalRef(e.signal||M_(e)):e},exprRef(e,r){const a={expr:Lo(e,this)};return r&&(a.expr.$name=r),Ve(this.add(JP(a)))},addBinding(e,r){this.bindings||(0,E.vU)("Nested signals do not support binding: "+(0,E.m8)(e)),this.bindings.push((0,E.l7)({signal:e},r))},addScaleProj(e,r){(0,E.nr)(this.scales,e)&&(0,E.vU)("Duplicate scale or projection name: "+(0,E.m8)(e)),this.scales[e]=this.add(r)},addScale(e,r){this.addScaleProj(e,hH(r))},addProjection(e,r){this.addScaleProj(e,uH(r))},getScale(e){return this.scales[e]||(0,E.vU)("Unrecognized scale name: "+(0,E.m8)(e)),this.scales[e]},scaleRef(e){return Ve(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,r){return(0,E.nr)(this.data,e)&&(0,E.vU)("Duplicate data set name: "+(0,E.m8)(e)),this.data[e]=r},getData(e){return this.data[e]||(0,E.vU)("Undefined data set name: "+(0,E.m8)(e)),this.data[e]},addDataPipeline(e,r){return(0,E.nr)(this.data,e)&&(0,E.vU)("Duplicate data set name: "+(0,E.m8)(e)),this.addData(e,kl.fromEntries(this,r))}},(0,E.l7)(Ws,Pe,zi,vi,Nt,Yr,Zr,Ar,Zn,kr,tr,x1)},817:(Ti,_n,Be)=>{Be.d(_n,{S:()=>Pe});class Pe{constructor(zi,vi){this.x=zi,this.y=vi}}},243:(Ti,_n,Be)=>{Be.d(_n,{A:()=>Pe});class Pe{constructor(zi,vi,Nt,Yr){this.positionX=zi,this.positionY=vi,this.width=Nt,this.height=Yr}}},643:(Ti,_n,Be)=>{function Pe(i){return"function"==typeof i}function Uo(i){const t=i(o=>{Error.call(o),o.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const zi=Uo(i=>function(t){i(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((o,c)=>`${c+1}) ${o.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function vi(i,n){if(i){const t=i.indexOf(n);0<=t&&i.splice(t,1)}}class Nt{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const u of t)u.remove(this);else t.remove(this);const{initialTeardown:o}=this;if(Pe(o))try{o()}catch(u){n=u instanceof zi?u.errors:[u]}const{_teardowns:c}=this;if(c){this._teardowns=null;for(const u of c)try{Zr(u)}catch(m){n=null!=n?n:[],m instanceof zi?n=[...n,...m.errors]:n.push(m)}}if(n)throw new zi(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Zr(n);else{if(n instanceof Nt){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&vi(t,n)}remove(n){const{_teardowns:t}=this;t&&vi(t,n),n instanceof Nt&&n._removeParent(this)}}Nt.EMPTY=(()=>{const i=new Nt;return i.closed=!0,i})();const Yr=Nt.EMPTY;function Ar(i){return i instanceof Nt||i&&"closed"in i&&Pe(i.remove)&&Pe(i.add)&&Pe(i.unsubscribe)}function Zr(i){Pe(i)?i():i.unsubscribe()}const Zn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},kr={setTimeout(...i){const{delegate:n}=kr;return((null==n?void 0:n.setTimeout)||setTimeout)(...i)},clearTimeout(i){const{delegate:n}=kr;return((null==n?void 0:n.clearTimeout)||clearTimeout)(i)},delegate:void 0};function tr(i){kr.setTimeout(()=>{const{onUnhandledError:n}=Zn;if(!n)throw i;n(i)})}function x1(){}const E=X2("C",void 0,void 0);function X2(i,n,t){return{kind:i,value:n,error:t}}let K1=null;function Q1(i){if(Zn.useDeprecatedSynchronousErrorHandling){const n=!K1;if(n&&(K1={errorThrown:!1,error:null}),i(),n){const{errorThrown:t,error:o}=K1;if(K1=null,t)throw o}}else i()}class Ol extends Nt{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Ar(n)&&n.add(this)):this.destination=ef}static create(n,t,o){return new J4(n,t,o)}next(n){this.isStopped?zs(X2("N",n,void 0),this):this._next(n)}error(n){this.isStopped?zs(X2("E",void 0,n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?zs(E,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class J4 extends Ol{constructor(n,t,o){let c;if(super(),Pe(n))c=n;else if(n){let u;({next:c,error:t,complete:o}=n),this&&Zn.useDeprecatedNextContext?(u=Object.create(n),u.unsubscribe=()=>this.unsubscribe()):u=n,c=null==c?void 0:c.bind(u),t=null==t?void 0:t.bind(u),o=null==o?void 0:o.bind(u)}this.destination={next:c?Pl(c):x1,error:Pl(null!=t?t:Bn),complete:o?Pl(o):x1}}}function Pl(i,n){return(...t)=>{try{i(...t)}catch(o){Zn.useDeprecatedSynchronousErrorHandling?function(i){Zn.useDeprecatedSynchronousErrorHandling&&K1&&(K1.errorThrown=!0,K1.error=i)}(o):tr(o)}}}function Bn(i){throw i}function zs(i,n){const{onStoppedNotification:t}=Zn;t&&kr.setTimeout(()=>t(i,n))}const ef={closed:!0,next:x1,error:Bn,complete:x1},e6="function"==typeof Symbol&&Symbol.observable||"@@observable";function $o(i){return i}function t6(...i){return Na(i)}function Na(i){return 0===i.length?$o:1===i.length?i[0]:function(t){return i.reduce((o,c)=>c(o),t)}}let Lt=(()=>{class i{constructor(t){t&&(this._subscribe=t)}lift(t){const o=new i;return o.source=this,o.operator=t,o}subscribe(t,o,c){const u=function(i){return i&&i instanceof Ol||function(i){return i&&Pe(i.next)&&Pe(i.error)&&Pe(i.complete)}(i)&&Ar(i)}(t)?t:new J4(t,o,c);return Q1(()=>{const{operator:m,source:g}=this;u.add(m?m.call(u,g):g?this._subscribe(u):this._trySubscribe(u))}),u}_trySubscribe(t){try{return this._subscribe(t)}catch(o){t.error(o)}}forEach(t,o){return new(o=Hl(o))((c,u)=>{let m;m=this.subscribe(g=>{try{t(g)}catch(b){u(b),null==m||m.unsubscribe()}},u,c)})}_subscribe(t){var o;return null===(o=this.source)||void 0===o?void 0:o.subscribe(t)}[e6](){return this}pipe(...t){return Na(t)(this)}toPromise(t){return new(t=Hl(t))((o,c)=>{let u;this.subscribe(m=>u=m,m=>c(m),()=>o(u))})}}return i.create=n=>new i(n),i})();function Hl(i){var n;return null!==(n=null!=i?i:Zn.Promise)&&void 0!==n?n:Promise}const nf=Uo(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let st=(()=>{class i extends Lt{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const o=new Y2(this,this);return o.operator=t,o}_throwIfClosed(){if(this.closed)throw new nf}next(t){Q1(()=>{if(this._throwIfClosed(),!this.isStopped){const o=this.observers.slice();for(const c of o)c.next(t)}})}error(t){Q1(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:o}=this;for(;o.length;)o.shift().error(t)}})}complete(){Q1(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:o,isStopped:c,observers:u}=this;return o||c?Yr:(u.push(t),new Nt(()=>vi(u,t)))}_checkFinalizedStatuses(t){const{hasError:o,thrownError:c,isStopped:u}=this;o?t.error(c):u&&t.complete()}asObservable(){const t=new Lt;return t.source=this,t}}return i.create=(n,t)=>new Y2(n,t),i})();class Y2 extends st{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,o;null===(o=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===o||o.call(t,n)}error(n){var t,o;null===(o=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===o||o.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,o;return null!==(o=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==o?o:Yr}}function Bl(i){return Pe(null==i?void 0:i.lift)}function nn(i){return n=>{if(Bl(n))return n.lift(function(t){try{return i(t,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}class Gt extends Ol{constructor(n,t,o,c,u){super(n),this.onFinalize=u,this._next=t?function(m){try{t(m)}catch(g){n.error(g)}}:super._next,this._error=c?function(m){try{c(m)}catch(g){n.error(g)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(m){n.error(m)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}function an(i,n){return nn((t,o)=>{let c=0;t.subscribe(new Gt(o,u=>{o.next(i.call(n,u,c++))}))})}function qo(i){return this instanceof qo?(this.v=i,this):new qo(i)}function cf(i,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,o=t.apply(i,n||[]),u=[];return c={},m("next"),m("throw"),m("return"),c[Symbol.asyncIterator]=function(){return this},c;function m(z){o[z]&&(c[z]=function(L){return new Promise(function(R,j){u.push([z,L,R,j])>1||g(z,L)})})}function g(z,L){try{!function(z){z.value instanceof qo?Promise.resolve(z.value.v).then(x,D):k(u[0][2],z)}(o[z](L))}catch(R){k(u[0][3],R)}}function x(z){g("next",z)}function D(z){g("throw",z)}function k(z,L){z(L),u.shift(),u.length&&g(u[0][0],u[0][1])}}function uf(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=i[Symbol.asyncIterator];return n?n.call(i):(i=function(i){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&i[n],o=0;if(t)return t.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(u){t[u]=i[u]&&function(m){return new Promise(function(g,b){!function(u,m,g,b){Promise.resolve(b).then(function(x){u({value:x,done:g})},m)}(g,b,(m=i[u](m)).done,m.value)})}}}const K2=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function jl(i){return Pe(null==i?void 0:i.then)}function Ln(i){return Pe(i[e6])}function Kr(i){return Symbol.asyncIterator&&Pe(null==i?void 0:i[Symbol.asyncIterator])}function nr(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Wo="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Q2(i){return Pe(null==i?void 0:i[Wo])}function o6(i){return cf(this,arguments,function*(){const t=i.getReader();try{for(;;){const{value:o,done:c}=yield qo(t.read());if(c)return yield qo(void 0);yield yield qo(o)}}finally{t.releaseLock()}})}function Ul(i){return Pe(null==i?void 0:i.getReader)}function yi(i){if(i instanceof Lt)return i;if(null!=i){if(Ln(i))return function(i){return new Lt(n=>{const t=i[e6]();if(Pe(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(i);if(K2(i))return function(i){return new Lt(n=>{for(let t=0;t<i.length&&!n.closed;t++)n.next(i[t]);n.complete()})}(i);if(jl(i))return function(i){return new Lt(n=>{i.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,tr)})}(i);if(Kr(i))return J2(i);if(Q2(i))return function(i){return new Lt(n=>{for(const t of i)if(n.next(t),n.closed)return;n.complete()})}(i);if(Ul(i))return function(i){return J2(o6(i))}(i)}throw nr(i)}function J2(i){return new Lt(n=>{(function(i,n){var t,o,c,u;return function(i,n,t,o){return new(t||(t=Promise))(function(u,m){function g(D){try{x(o.next(D))}catch(k){m(k)}}function b(D){try{x(o.throw(D))}catch(k){m(k)}}function x(D){D.done?u(D.value):function(u){return u instanceof t?u:new t(function(m){m(u)})}(D.value).then(g,b)}x((o=o.apply(i,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=uf(i);!(o=yield t.next()).done;)if(n.next(o.value),n.closed)return}catch(m){c={error:m}}finally{try{o&&!o.done&&(u=t.return)&&(yield u.call(t))}finally{if(c)throw c.error}}n.complete()})})(i,n).catch(t=>n.error(t))})}function Ni(i,n,t,o=0,c=!1){const u=n.schedule(function(){t(),c?i.add(this.schedule(null,o)):this.unsubscribe()},o);if(i.add(u),!c)return u}function Fs(i,n,t=1/0){return Pe(n)?Fs((o,c)=>an((u,m)=>n(o,u,c,m))(yi(i(o,c))),t):("number"==typeof n&&(t=n),nn((o,c)=>function(i,n,t,o,c,u,m,g){const b=[];let x=0,D=0,k=!1;const z=()=>{k&&!b.length&&!x&&n.complete()},L=j=>x<o?R(j):b.push(j),R=j=>{x++;let B=!1;yi(t(j,D++)).subscribe(new Gt(n,Q=>{n.next(Q)},()=>{B=!0},void 0,()=>{if(B)try{for(x--;b.length&&x<o;){const Q=b.shift();R(Q)}z()}catch(Q){n.error(Q)}}))};return i.subscribe(new Gt(n,L,()=>{k=!0,z()})),()=>{}}(o,c,i,t)))}function f7(i=1/0){return Fs($o,i)}const $l=new Lt(i=>i.complete());function Z(i){return i&&Pe(i.schedule)}function ee(i){return i[i.length-1]}function ne(i){return Pe(ee(i))?i.pop():void 0}function oe(i){return Z(ee(i))?i.pop():void 0}function me(i,n=0){return nn((t,o)=>{t.subscribe(new Gt(o,c=>Ni(o,i,()=>o.next(c),n),()=>Ni(o,i,()=>o.complete(),n),c=>Ni(o,i,()=>o.error(c),n)))})}function ve(i,n=0){return nn((t,o)=>{o.add(i.schedule(()=>t.subscribe(o),n))})}function tc(i,n){if(!i)throw new Error("Iterable cannot be null");return new Lt(t=>{Ni(t,n,()=>{const o=i[Symbol.asyncIterator]();Ni(t,n,()=>{o.next().then(c=>{c.done?t.complete():t.next(c.value)})},0,!0)})})}function nc(i,n){return n?function(i,n){if(null!=i){if(Ln(i))return function(i,n){return yi(i).pipe(ve(n),me(n))}(i,n);if(K2(i))return function(i,n){return new Lt(t=>{let o=0;return n.schedule(function(){o===i.length?t.complete():(t.next(i[o++]),t.closed||this.schedule())})})}(i,n);if(jl(i))return function(i,n){return yi(i).pipe(ve(n),me(n))}(i,n);if(Kr(i))return tc(i,n);if(Q2(i))return function(i,n){return new Lt(t=>{let o;return Ni(t,n,()=>{o=i[Wo](),Ni(t,n,()=>{let c,u;try{({value:c,done:u}=o.next())}catch(m){return void t.error(m)}u?t.complete():t.next(c)},0,!0)}),()=>Pe(null==o?void 0:o.return)&&o.return()})}(i,n);if(Ul(i))return function(i,n){return tc(o6(i),n)}(i,n)}throw nr(i)}(i,n):yi(i)}function ic(...i){const n=oe(i),t=function(i,n){return"number"==typeof ee(i)?i.pop():1/0}(i),o=i;return o.length?1===o.length?yi(o[0]):f7(t)(nc(o,n)):$l}function Xo(i){return i<=0?()=>$l:nn((n,t)=>{let o=0;n.subscribe(new Gt(t,c=>{++o<=i&&(t.next(c),i<=o&&t.complete())}))})}function J_(i,n,...t){return!0===n?(i(),null):!1===n?null:n(...t).pipe(Xo(1)).subscribe(()=>i())}function Yt(i){for(let n in i)if(i[n]===Yt)return n;throw Error("Could not find renamed property on target object.")}function ey(i,n){for(const t in n)n.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(i[t]=n[t])}function ct(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ct).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const n=i.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function Yo(i,n){return null==i||""===i?null===n?"":n:null==n||""===n?i:i+" "+n}const UU=Yt({__forward_ref__:Yt});function kt(i){return i.__forward_ref__=kt,i.toString=function(){return ct(this())},i}function Ie(i){return Sk(i)?i():i}function Sk(i){return"function"==typeof i&&i.hasOwnProperty(UU)&&i.__forward_ref__===kt}class Fa extends Error{constructor(n,t){super(function(i,n){return`${i?`NG0${i}: `:""}${n}`}(n,t)),this.code=n}}function Je(i){return"string"==typeof i?i:null==i?"":String(i)}function Tr(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Je(i)}function oc(i,n){const t=n?` in ${n}`:"";throw new Fa("201",`No provider for ${Tr(i)} found${t}`)}function D1(i,n){null==i&&function(i,n,t,o){throw new Error(`ASSERTION ERROR: ${i}`+(null==o?"":` [Expected=> ${t} ${o} ${n} <=Actual]`))}(n,i,null,"!=")}function Ce(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Te(i){return{providers:i.providers||[],imports:i.imports||[]}}function Fn(i){return Ii(i,Nr)||Ii(i,p7)}function Ii(i,n){return i.hasOwnProperty(n)?i[n]:null}function Qr(i){return i&&(i.hasOwnProperty(A1)||i.hasOwnProperty(g7))?i[A1]:null}const Nr=Yt({\u0275prov:Yt}),A1=Yt({\u0275inj:Yt}),p7=Yt({ngInjectableDef:Yt}),g7=Yt({ngInjectorDef:Yt});var qe=(()=>((qe=qe||{})[qe.Default=0]="Default",qe[qe.Host=1]="Host",qe[qe.Self=2]="Self",qe[qe.SkipSelf=4]="SkipSelf",qe[qe.Optional=8]="Optional",qe))();let v7;function Ir(i){const n=v7;return v7=i,n}function gf(i,n,t){const o=Fn(i);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:t&qe.Optional?null:void 0!==n?n:void oc(ct(i),"Injector")}function Vs(i){return{toString:i}.toString()}var Jr=(()=>((Jr=Jr||{})[Jr.OnPush=0]="OnPush",Jr[Jr.Default=1]="Default",Jr))(),Lr=(()=>{return(i=Lr||(Lr={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Lr;var i})();const Nk="undefined"!=typeof globalThis&&globalThis,Ik="undefined"!=typeof window&&window,ay="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ft=Nk||"undefined"!=typeof global&&global||Ik||ay,ql={},It=[],vf=Yt({\u0275cmp:Yt}),_7=Yt({\u0275dir:Yt}),y7=Yt({\u0275pipe:Yt}),cy=Yt({\u0275mod:Yt}),Va=Yt({\u0275fac:Yt}),a6=Yt({__NG_ELEMENT_ID__:Yt});let Fk=0;function sn(i){return Vs(()=>{const t={},o={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Jr.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||It,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Lr.Emulated,id:"c",styles:i.styles||It,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,u=i.features,m=i.pipes;return o.id+=Fk++,o.inputs=fy(i.inputs,t),o.outputs=fy(i.outputs),u&&u.forEach(g=>g(o)),o.directiveDefs=c?()=>("function"==typeof c?c():c).map(Wl):null,o.pipeDefs=m?()=>("function"==typeof m?m():m).map(b7):null,o})}function sc(i,n,t){const o=i.\u0275cmp;o.directiveDefs=()=>n.map(Wl),o.pipeDefs=()=>t.map(b7)}function Wl(i){return jn(i)||function(i){return i[_7]||null}(i)}function b7(i){return function(i){return i[y7]||null}(i)}const ly={};function lt(i){return Vs(()=>{const n={type:i.type,bootstrap:i.bootstrap||It,declarations:i.declarations||It,imports:i.imports||It,exports:i.exports||It,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(ly[i.id]=i.type),n})}function fy(i,n){if(null==i)return ql;const t={};for(const o in i)if(i.hasOwnProperty(o)){let c=i[o],u=c;Array.isArray(c)&&(u=c[1],c=c[0]),t[c]=o,n&&(n[c]=u)}return t}const Ee=sn;function ii(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function jn(i){return i[vf]||null}function T1(i,n){const t=i[cy]||null;if(!t&&!0===n)throw new Error(`Type ${ct(i)} does not have '\u0275mod' property.`);return t}function no(i){return Array.isArray(i)&&"object"==typeof i[1]}function io(i){return Array.isArray(i)&&!0===i[1]}function x7(i){return 0!=(8&i.flags)}function yf(i){return 2==(2&i.flags)}function l6(i){return 1==(1&i.flags)}function ro(i){return null!==i.template}function hy(i){return 0!=(512&i[2])}function dc(i,n){return i.hasOwnProperty(Va)?i[Va]:null}class py{constructor(n,t,o){this.previousValue=n,this.currentValue=t,this.firstChange=o}isFirstChange(){return this.firstChange}}function Rn(){return gy}function gy(i){return i.type.prototype.ngOnChanges&&(i.setInput=vy),Bk}function Bk(){const i=yy(this),n=null==i?void 0:i.current;if(n){const t=i.previous;if(t===ql)i.previous=n;else for(let o in n)t[o]=n[o];i.current=null,this.ngOnChanges(n)}}function vy(i,n,t,o){const c=yy(i)||function(i,n){return i[_y]=n}(i,{previous:ql,current:null}),u=c.current||(c.current={}),m=c.previous,g=this.declaredInputs[t],b=m[g];u[g]=new py(b&&b.currentValue,n,m===ql),i[o]=n}Rn.ngInherit=!0;const _y="__ngSimpleChanges__";function yy(i){return i[_y]||null}const by="http://www.w3.org/2000/svg";let M7;function xf(){return void 0!==M7?M7:"undefined"!=typeof document?document:void 0}function An(i){return!!i.listen}const xy={createRenderer:(i,n)=>xf()};function Un(i){for(;Array.isArray(i);)i=i[0];return i}function Mf(i,n){return Un(n[i])}function t1(i,n){return Un(n[i.index])}function wf(i,n){return i.data[n]}function oo(i,n){return i[n]}function ar(i,n){const t=n[i];return no(t)?t:t[0]}function w7(i){return 4==(4&i[2])}function u6(i){return 128==(128&i[2])}function Hs(i,n){return null==n?null:i[n]}function Zl(i){i[18]=0}function E7(i,n){i[5]+=n;let t=i,o=i[3];for(;null!==o&&(1===n&&1===t[5]||-1===n&&0===t[5]);)o[5]+=n,t=o,o=o[3]}const et={lFrame:Ly(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ef(){return et.bindingsEnabled}function le(){return et.lFrame.lView}function St(){return et.lFrame.tView}function yn(i){return et.lFrame.contextLView=i,i[8]}function kn(){let i=Df();for(;null!==i&&64===i.type;)i=i.parent;return i}function Df(){return et.lFrame.currentTNode}function ao(i,n){const t=et.lFrame;t.currentTNode=i,t.isParent=n}function ky(){return et.lFrame.isParent}function S7(){et.lFrame.isParent=!1}function d6(){return et.isInCheckNoChangesMode}function Sf(i){et.isInCheckNoChangesMode=i}function sr(){const i=et.lFrame;let n=i.bindingRootIndex;return-1===n&&(n=i.bindingRootIndex=i.tView.bindingStartIndex),n}function Bs(){return et.lFrame.bindingIndex++}function Oa(i){const n=et.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+i,t}function Zk(i,n){const t=et.lFrame;t.bindingIndex=t.bindingRootIndex=i,h6(n)}function h6(i){et.lFrame.currentDirectiveIndex=i}function zy(){return et.lFrame.currentQueryIndex}function k7(i){et.lFrame.currentQueryIndex=i}function Ny(i){const n=i[1];return 2===n.type?n.declTNode:1===n.type?i[6]:null}function Iy(i,n,t){if(t&qe.SkipSelf){let c=n,u=i;for(;!(c=c.parent,null!==c||t&qe.Host||(c=Ny(u),null===c||(u=u[15],10&c.type))););if(null===c)return!1;n=c,i=u}const o=et.lFrame=p6();return o.currentTNode=n,o.lView=i,!0}function m6(i){const n=p6(),t=i[1];et.lFrame=n,n.currentTNode=t.firstChild,n.lView=i,n.tView=t,n.contextLView=i,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function p6(){const i=et.lFrame,n=null===i?null:i.child;return null===n?Ly(i):n}function Ly(i){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=n),n}function Fy(){const i=et.lFrame;return et.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Ry=Fy;function g6(){const i=Fy();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Ci(){return et.lFrame.selectedIndex}function js(i){et.lFrame.selectedIndex=i}function Tn(){const i=et.lFrame;return wf(i.tView,i.selectedIndex)}function Pa(){et.lFrame.currentNamespace=by}function Kl(i,n){for(let t=n.directiveStart,o=n.directiveEnd;t<o;t++){const u=i.data[t].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:g,ngAfterViewInit:b,ngAfterViewChecked:x,ngOnDestroy:D}=u;m&&(i.contentHooks||(i.contentHooks=[])).push(-t,m),g&&((i.contentHooks||(i.contentHooks=[])).push(t,g),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(t,g)),b&&(i.viewHooks||(i.viewHooks=[])).push(-t,b),x&&((i.viewHooks||(i.viewHooks=[])).push(t,x),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(t,x)),null!=D&&(i.destroyHooks||(i.destroyHooks=[])).push(t,D)}}function hc(i,n,t){I7(i,n,3,t)}function mc(i,n,t,o){(3&i[2])===t&&I7(i,n,t,o)}function v6(i,n){let t=i[2];(3&t)===n&&(t&=2047,t+=1,i[2]=t)}function I7(i,n,t,o){const u=null!=o?o:-1,m=n.length-1;let g=0;for(let b=void 0!==o?65535&i[18]:0;b<m;b++)if("number"==typeof n[b+1]){if(g=n[b],null!=o&&g>=o)break}else n[b]<0&&(i[18]+=65536),(g<u||-1==u)&&(nT(i,t,n,b),i[18]=(4294901760&i[18])+b+2),b++}function nT(i,n,t,o){const c=t[o]<0,u=t[o+1],g=i[c?-t[o]:t[o]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===n){i[2]+=2048;try{u.call(g)}finally{}}}else try{u.call(g)}finally{}}class Ne{constructor(n,t,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=o}}function vc(i,n,t){const o=An(i);let c=0;for(;c<t.length;){const u=t[c];if("number"==typeof u){if(0!==u)break;c++;const m=t[c++],g=t[c++],b=t[c++];o?i.setAttribute(n,g,b,m):n.setAttributeNS(m,g,b)}else{const m=u,g=t[++c];L7(m)?o&&i.setProperty(n,m,g):o?i.setAttribute(n,m,g):n.setAttribute(m,g),c++}}return c}function kf(i){return 3===i||4===i||6===i}function L7(i){return 64===i.charCodeAt(0)}function Tf(i,n){if(null!==n&&0!==n.length)if(null===i||0===i.length)i=n.slice();else{let t=-1;for(let o=0;o<n.length;o++){const c=n[o];"number"==typeof c?t=c:0===t||Py(i,t,c,null,-1===t||2===t?n[++o]:null)}}return i}function Py(i,n,t,o,c){let u=0,m=i.length;if(-1===n)m=-1;else for(;u<i.length;){const g=i[u++];if("number"==typeof g){if(g===n){m=-1;break}if(g>n){m=u-1;break}}}for(;u<i.length;){const g=i[u];if("number"==typeof g)break;if(g===t){if(null===o)return void(null!==c&&(i[u+1]=c));if(o===i[u+1])return void(i[u+2]=c)}u++,null!==o&&u++,null!==c&&u++}-1!==m&&(i.splice(m,0,n),u=m+1),i.splice(u++,0,t),null!==o&&i.splice(u++,0,o),null!==c&&i.splice(u++,0,c)}function Hy(i){return-1!==i}function e0(i){return 32767&i}function _c(i,n){let t=function(i){return i>>16}(i),o=n;for(;t>0;)o=o[15],t--;return o}let F7=!0;function zf(i){const n=F7;return F7=i,n}let rT=0;function _6(i,n){const t=y6(i,n);if(-1!==t)return t;const o=n[1];o.firstCreatePass&&(i.injectorIndex=n.length,R7(o.data,i),R7(n,null),R7(o.blueprint,null));const c=If(i,n),u=i.injectorIndex;if(Hy(c)){const m=e0(c),g=_c(c,n),b=g[1].data;for(let x=0;x<8;x++)n[u+x]=g[m+x]|b[m+x]}return n[u+8]=c,u}function R7(i,n){i.push(0,0,0,0,0,0,0,0,n)}function y6(i,n){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===n[i.injectorIndex+8]?-1:i.injectorIndex}function If(i,n){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let t=0,o=null,c=n;for(;null!==c;){const u=c[1],m=u.type;if(o=2===m?u.declTNode:1===m?c[6]:null,null===o)return-1;if(t++,c=c[15],-1!==o.injectorIndex)return o.injectorIndex|t<<16}return-1}function t0(i,n,t){!function(i,n,t){let o;"string"==typeof t?o=t.charCodeAt(0)||0:t.hasOwnProperty(a6)&&(o=t[a6]),null==o&&(o=t[a6]=rT++);const c=255&o;n.data[i+(c>>5)]|=1<<c}(i,n,t)}function By(i,n,t){if(t&qe.Optional)return i;oc(n,"NodeInjector")}function jy(i,n,t,o){if(t&qe.Optional&&void 0===o&&(o=null),0==(t&(qe.Self|qe.Host))){const c=i[9],u=Ir(void 0);try{return c?c.get(n,o,t&qe.Optional):gf(n,o,t&qe.Optional)}finally{Ir(u)}}return By(o,n,t)}function Uy(i,n,t,o=qe.Default,c){if(null!==i){const u=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const n=i.hasOwnProperty(a6)?i[a6]:void 0;return"number"==typeof n?n>=0?255&n:sT:n}(t);if("function"==typeof u){if(!Iy(n,i,o))return o&qe.Host?By(c,t,o):jy(n,t,o,c);try{const m=u(o);if(null!=m||o&qe.Optional)return m;oc(t)}finally{Ry()}}else if("number"==typeof u){let m=null,g=y6(i,n),b=-1,x=o&qe.Host?n[16][6]:null;for((-1===g||o&qe.SkipSelf)&&(b=-1===g?If(i,n):n[g+8],-1!==b&&ea(o,!1)?(m=n[1],g=e0(b),n=_c(b,n)):g=-1);-1!==g;){const D=n[1];if(Ba(u,g,D.data)){const k=cT(g,n,t,m,o,x);if(k!==$y)return k}b=n[g+8],-1!==b&&ea(o,n[1].data[g+8]===x)&&Ba(u,g,n)?(m=D,g=e0(b),n=_c(b,n)):g=-1}}}return jy(n,t,o,c)}const $y={};function sT(){return new n0(kn(),le())}function cT(i,n,t,o,c,u){const m=n[1],g=m.data[i+8],D=Lf(g,m,t,null==o?yf(g)&&F7:o!=m&&0!=(3&g.type),c&qe.Host&&u===g);return null!==D?Us(n,m,D,g):$y}function Lf(i,n,t,o,c){const u=i.providerIndexes,m=n.data,g=1048575&u,b=i.directiveStart,D=u>>20,z=c?g+D:i.directiveEnd;for(let L=o?g:g+D;L<z;L++){const R=m[L];if(L<b&&t===R||L>=b&&R.type===t)return L}if(c){const L=m[b];if(L&&ro(L)&&L.type===t)return b}return null}function Us(i,n,t,o){let c=i[t];const u=n.data;if(function(i){return i instanceof Ne}(c)){const m=c;m.resolving&&function(i,n){throw new Fa("200",`Circular dependency in DI detected for ${i}`)}(Tr(u[t]));const g=zf(m.canSeeViewProviders);m.resolving=!0;const b=m.injectImpl?Ir(m.injectImpl):null;Iy(i,o,qe.Default);try{c=i[t]=m.factory(void 0,u,i,o),n.firstCreatePass&&t>=o.directiveStart&&function(i,n,t){const{ngOnChanges:o,ngOnInit:c,ngDoCheck:u}=n.type.prototype;if(o){const m=gy(n);(t.preOrderHooks||(t.preOrderHooks=[])).push(i,m),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i,m)}c&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-i,c),u&&((t.preOrderHooks||(t.preOrderHooks=[])).push(i,u),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i,u))}(t,u[t],n)}finally{null!==b&&Ir(b),zf(g),m.resolving=!1,Ry()}}return c}function Ba(i,n,t){return!!(t[n+(i>>5)]&1<<i)}function ea(i,n){return!(i&qe.Self||i&qe.Host&&n)}class n0{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,o){return Uy(this._tNode,this._lView,n,o,t)}}function xi(i){return Vs(()=>{const n=i.prototype.constructor,t=n[Va]||$s(n),o=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==o;){const u=c[Va]||$s(c);if(u&&u!==t)return u;c=Object.getPrototypeOf(c)}return u=>new u})}function $s(i){return Sk(i)?()=>{const n=$s(Ie(i));return n&&n()}:dc(i)}function ta(i){return function(i,n){if("class"===n)return i.classes;if("style"===n)return i.styles;const t=i.attrs;if(t){const o=t.length;let c=0;for(;c<o;){const u=t[c];if(kf(u))break;if(0===u)c+=2;else if("number"==typeof u)for(c++;c<o&&"string"==typeof t[c];)c++;else{if(u===n)return t[c+1];c+=2}}}return null}(kn(),i)}const yc="__parameters__";function qs(i,n,t){return Vs(()=>{const o=function(i){return function(...t){if(i){const o=i(...t);for(const c in o)this[c]=o[c]}}}(n);function c(...u){if(this instanceof c)return o.apply(this,u),this;const m=new c(...u);return g.annotation=m,g;function g(b,x,D){const k=b.hasOwnProperty(yc)?b[yc]:Object.defineProperty(b,yc,{value:[]})[yc];for(;k.length<=D;)k.push(null);return(k[D]=k[D]||[]).push(m),b}}return t&&(c.prototype=Object.create(t.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class be{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Ce({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Fi(i,n){void 0===n&&(n=i);for(let t=0;t<i.length;t++){let o=i[t];Array.isArray(o)?(n===i&&(n=i.slice(0,t)),Fi(o,n)):n!==i&&n.push(o)}return n}function te(i,n){i.forEach(t=>Array.isArray(t)?te(t,n):n(t))}function Ws(i,n,t){n>=i.length?i.push(t):i.splice(n,0,t)}function Cc(i,n){return n>=i.length-1?i.pop():i.splice(n,1)[0]}function Gs(i,n){const t=[];for(let o=0;o<i;o++)t.push(n);return t}function cr(i,n,t){let o=o0(i,n);return o>=0?i[1|o]=t:(o=~o,function(i,n,t,o){let c=i.length;if(c==n)i.push(t,o);else if(1===c)i.push(o,i[0]),i[0]=t;else{for(c--,i.push(i[c-1],i[c]);c>n;)i[c]=i[c-2],c--;i[n]=t,i[n+1]=o}}(i,o,n,t)),o}function Rf(i,n){const t=o0(i,n);if(t>=0)return i[1|t]}function o0(i,n){return function(i,n,t){let o=0,c=i.length>>t;for(;c!==o;){const u=o+(c-o>>1),m=i[u<<t];if(n===m)return u<<t;m>n?c=u:o=u+1}return~(c<<t)}(i,n,1)}const M6={},eb="__NG_DI_FLAG__",w6="ngTempTokenPath",pT=/\n/gm,D6="__source",Of=Yt({provide:String,useValue:Yt});let xc;function Ys(i){const n=xc;return xc=i,n}function gT(i,n=qe.Default){if(void 0===xc)throw new Error("inject() must be called from an injection context");return null===xc?gf(i,void 0,n):xc.get(i,n&qe.Optional?null:void 0,n)}function ce(i,n=qe.Default){return(v7||gT)(Ie(i),n)}const Pf=ce;function Zs(i){const n=[];for(let t=0;t<i.length;t++){const o=Ie(i[t]);if(Array.isArray(o)){if(0===o.length)throw new Error("Arguments array must have arguments.");let c,u=qe.Default;for(let m=0;m<o.length;m++){const g=o[m],b=nb(g);"number"==typeof b?-1===b?c=g.token:u|=b:c=g}n.push(ce(c,u))}else n.push(ce(o))}return n}function a0(i,n){return i[eb]=n,i.prototype[eb]=n,i}function nb(i){return i[eb]}function ib(i,n,t,o){const c=i[w6];throw n[D6]&&c.unshift(n[D6]),i.message=function(i,n,t,o=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=ct(n);if(Array.isArray(n))c=n.map(ct).join(" -> ");else if("object"==typeof n){let u=[];for(let m in n)if(n.hasOwnProperty(m)){let g=n[m];u.push(m+":"+("string"==typeof g?JSON.stringify(g):ct(g)))}c=`{${u.join(", ")}}`}return`${t}${o?"("+o+")":""}[${c}]: ${i.replace(pT,"\n  ")}`}("\n"+i.message,c,t,o),i.ngTokenPath=c,i[w6]=null,i}const s0=a0(qs("Inject",i=>({token:i})),-1),Fr=a0(qs("Optional"),8),ja=a0(qs("SkipSelf"),4);let Hf,Bf;function f0(i){var n;return(null==(n=function(){if(void 0===Hf&&(Hf=null,Ft.trustedTypes))try{Hf=Ft.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Hf}())?void 0:n.createHTML(i))||i}function lb(i){var n;return(null==(n=function(){if(void 0===Bf&&(Bf=null,Ft.trustedTypes))try{Bf=Ft.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Bf}())?void 0:n.createHTML(i))||i}class Ua{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class wT extends Ua{getTypeName(){return"HTML"}}class k6 extends Ua{getTypeName(){return"Style"}}class T6 extends Ua{getTypeName(){return"Script"}}class ET extends Ua{getTypeName(){return"URL"}}class ub extends Ua{getTypeName(){return"ResourceURL"}}function Rr(i){return i instanceof Ua?i.changingThisBreaksApplicationSecurity:i}function ia(i,n){const t=fb(i);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===n}function fb(i){return i instanceof Ua&&i.getTypeName()||null}class Qs{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const t=(new window.DOMParser).parseFromString(f0(n),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(n):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class kT{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const o=this.inertDocument.createElement("body");t.appendChild(o)}}getInertBodyElement(n){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=f0(n),t;const o=this.inertDocument.createElement("body");return o.innerHTML=f0(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(o),o}stripCustomNsAttrs(n){const t=n.attributes;for(let c=t.length-1;0<c;c--){const m=t.item(c).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&n.removeAttribute(m)}let o=n.firstChild;for(;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling}}const hb=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,pb=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function z6(i){return(i=String(i)).match(hb)||i.match(pb)?i:"unsafe:"+i}function Uf(i){return(i=String(i)).split(",").map(n=>z6(n.trim())).join(", ")}function ra(i){const n={};for(const t of i.split(","))n[t]=!0;return n}function wc(...i){const n={};for(const t of i)for(const o in t)t.hasOwnProperty(o)&&(n[o]=!0);return n}const gb=ra("area,br,col,hr,img,wbr"),G7=ra("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),vb=ra("rp,rt"),N6=wc(gb,wc(G7,ra("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),wc(vb,ra("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),wc(vb,G7)),$f=ra("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),X7=ra("srcset"),qf=wc($f,X7,ra("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ra("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_b=ra("script,style,template");class Y7{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let t=n.firstChild,o=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?o=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,o&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let c=this.checkClobberedElement(t,t.nextSibling);if(c){t=c;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(n){const t=n.nodeName.toLowerCase();if(!N6.hasOwnProperty(t))return this.sanitizedSomething=!0,!_b.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const o=n.attributes;for(let c=0;c<o.length;c++){const u=o.item(c),m=u.name,g=m.toLowerCase();if(!qf.hasOwnProperty(g)){this.sanitizedSomething=!0;continue}let b=u.value;$f[g]&&(b=z6(b)),X7[g]&&(b=Uf(b)),this.buf.push(" ",m,'="',bb(b),'"')}return this.buf.push(">"),!0}endElement(n){const t=n.nodeName.toLowerCase();N6.hasOwnProperty(t)&&!gb.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(bb(n))}checkClobberedElement(n,t){if(t&&(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return t}}const IT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yb=/([^\#-~ |!])/g;function bb(i){return i.replace(/&/g,"&amp;").replace(IT,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(yb,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let d0;function Wf(i,n){let t=null;try{d0=d0||function(i){const n=new kT(i);return function(){try{return!!(new window.DOMParser).parseFromString(f0(""),"text/html")}catch(i){return!1}}()?new Qs(n):n}(i);let o=n?String(n):"";t=d0.getInertBodyElement(o);let c=5,u=o;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,o=u,u=t.innerHTML,t=d0.getInertBodyElement(o)}while(o!==u);return f0((new Y7).sanitizeChildren(h0(t)||t))}finally{if(t){const o=h0(t)||t;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function h0(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Rt=(()=>((Rt=Rt||{})[Rt.NONE=0]="NONE",Rt[Rt.HTML=1]="HTML",Rt[Rt.STYLE=2]="STYLE",Rt[Rt.SCRIPT=3]="SCRIPT",Rt[Rt.URL=4]="URL",Rt[Rt.RESOURCE_URL=5]="RESOURCE_URL",Rt))();function Gf(i){const n=Ec();return n?lb(n.sanitize(Rt.HTML,i)||""):ia(i,"HTML")?lb(Rr(i)):Wf(xf(),Je(i))}function m0(i){const n=Ec();return n?n.sanitize(Rt.URL,i)||"":ia(i,"URL")?Rr(i):z6(Je(i))}function Ec(){const i=le();return i&&i[12]}const Q7="__ngContext__";function Ri(i,n){i[Q7]=n}function I6(i){const n=function(i){return i[Q7]||null}(i);return n?Array.isArray(n)?n:n.lView:null}function p0(i){return i.ngOriginalError}function Sb(i,...n){i.error(...n)}class lo{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n),o=this._findContext(n),c=(i=n)&&i.ngErrorLogger||Sb;var i;c(this._console,"ERROR",n),t&&c(this._console,"ORIGINAL ERROR",t),o&&c(this._console,"ERROR CONTEXT",o)}_findContext(n){return n?function(i){return i.ngDebugContext}(n)||this._findContext(p0(n)):null}_findOriginalError(n){let t=n&&p0(n);for(;t&&p0(t);)t=p0(t);return t||null}}const Jf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ft))();function Fb(i){return i.ownerDocument.defaultView}function e8(i){return i.ownerDocument}function n1(i){return i instanceof Function?i():i}var Vr=(()=>((Vr=Vr||{})[Vr.Important=1]="Important",Vr[Vr.DashCase=2]="DashCase",Vr))();function t8(i,n){return undefined(i,n)}function Ac(i){const n=i[3];return io(n)?n[3]:n}function l9(i){return Vb(i[13])}function R6(i){return Vb(i[4])}function Vb(i){for(;null!==i&&!io(i);)i=i[4];return i}function Vn(i,n,t,o,c){if(null!=o){let u,m=!1;io(o)?u=o:no(o)&&(m=!0,o=o[0]);const g=Un(o);0===i&&null!==t?null==c?r8(n,t,g):e2(n,t,g,c||null,!0):1===i&&null!==t?e2(n,t,g,c||null,!0):2===i?function(i,n,t){const o=P6(i,n);o&&function(i,n,t,o){An(i)?i.removeChild(n,t,o):n.removeChild(t)}(i,o,n,t)}(n,g,m):3===i&&n.destroyNode(g),null!=u&&function(i,n,t,o,c){const u=t[7];u!==Un(t)&&Vn(n,i,o,u,c);for(let g=10;g<t.length;g++){const b=t[g];B6(b[1],b,i,n,o,u)}}(n,i,u,t,c)}}function N1(i,n,t){return An(i)?i.createElement(n,t):null===t?i.createElement(n):i.createElementNS(t,n)}function f9(i,n){const t=i[9],o=t.indexOf(n),c=n[3];1024&n[2]&&(n[2]&=-1025,E7(c,-1)),t.splice(o,1)}function O6(i,n){if(i.length<=10)return;const t=10+n,o=i[t];if(o){const c=o[17];null!==c&&c!==i&&f9(c,o),n>0&&(i[t-1][4]=o[4]);const u=Cc(i,10+n);!function(i,n){B6(i,n,n[11],2,null,null),n[0]=null,n[6]=null}(o[1],o);const m=u[19];null!==m&&m.detachView(u[1]),o[3]=null,o[4]=null,o[2]&=-129}return o}function d9(i,n){if(!(256&n[2])){const t=n[11];An(t)&&t.destroyNode&&B6(i,n,t,3,null,null),function(i){let n=i[13];if(!n)return h9(i[1],i);for(;n;){let t=null;if(no(n))t=n[13];else{const o=n[10];o&&(t=o)}if(!t){for(;n&&!n[4]&&n!==i;)no(n)&&h9(n[1],n),n=n[3];null===n&&(n=i),no(n)&&h9(n[1],n),t=n&&n[4]}n=t}}(n)}}function h9(i,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(i,n){let t;if(null!=i&&null!=(t=i.destroyHooks))for(let o=0;o<t.length;o+=2){const c=n[t[o]];if(!(c instanceof Ne)){const u=t[o+1];if(Array.isArray(u))for(let m=0;m<u.length;m+=2){const g=c[u[m]],b=u[m+1];try{b.call(g)}finally{}}else try{u.call(c)}finally{}}}}(i,n),function(i,n){const t=i.cleanup,o=n[7];let c=-1;if(null!==t)for(let u=0;u<t.length-1;u+=2)if("string"==typeof t[u]){const m=t[u+1],g="function"==typeof m?m(n):Un(n[m]),b=o[c=t[u+2]],x=t[u+3];"boolean"==typeof x?g.removeEventListener(t[u],b,x):x>=0?o[c=x]():o[c=-x].unsubscribe(),u+=2}else{const m=o[c=t[u+1]];t[u].call(m)}if(null!==o){for(let u=c+1;u<o.length;u++)o[u]();n[7]=null}}(i,n),1===n[1].type&&An(n[11])&&n[11].destroy();const t=n[17];if(null!==t&&io(n[3])){t!==n[3]&&f9(t,n);const o=n[19];null!==o&&o.detachView(i)}}}function m9(i,n,t){return function(i,n,t){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return t[0];if(2&o.flags){const c=i.data[o.directiveStart].encapsulation;if(c===Lr.None||c===Lr.Emulated)return null}return t1(o,t)}(i,n.parent,t)}function e2(i,n,t,o,c){An(i)?i.insertBefore(n,t,o,c):n.insertBefore(t,o,c)}function r8(i,n,t){An(i)?i.appendChild(n,t):n.appendChild(t)}function p9(i,n,t,o,c){null!==o?e2(i,n,t,o,c):r8(i,n,t)}function P6(i,n){return An(i)?i.parentNode(n):n.parentNode}function g9(i,n,t){return H6(i,n,t)}let H6=function(i,n,t){return 40&i.type?t1(i,t):null};function s8(i,n,t,o){const c=m9(i,o,n),u=n[11],g=g9(o.parent||n[6],o,n);if(null!=c)if(Array.isArray(t))for(let b=0;b<t.length;b++)p9(u,c,t[b],g,!1);else p9(u,c,t,g,!1)}function c8(i,n){if(null!==n){const t=n.type;if(3&t)return t1(n,i);if(4&t)return l8(-1,i[n.index]);if(8&t){const o=n.child;if(null!==o)return c8(i,o);{const c=i[n.index];return io(c)?l8(-1,c):Un(c)}}if(32&t)return t8(n,i)()||Un(i[n.index]);{const o=_9(i,n);return null!==o?Array.isArray(o)?o[0]:c8(Ac(i[16]),o):c8(i,n.next)}}return null}function _9(i,n){return null!==n?i[16][6].projection[n.projection]:null}function l8(i,n){const t=10+i+1;if(t<n.length){const o=n[t],c=o[1].firstChild;if(null!==c)return c8(o,c)}return n[7]}function v0(i,n,t,o,c,u,m){for(;null!=t;){const g=o[t.index],b=t.type;if(m&&0===n&&(g&&Ri(Un(g),o),t.flags|=4),64!=(64&t.flags))if(8&b)v0(i,n,t.child,o,c,u,!1),Vn(n,i,c,g,u);else if(32&b){const x=t8(t,o);let D;for(;D=x();)Vn(n,i,c,D,u);Vn(n,i,c,g,u)}else 16&b?Ub(i,n,o,t,c,u):Vn(n,i,c,g,u);t=m?t.projectionNext:t.next}}function B6(i,n,t,o,c,u){v0(t,o,i.firstChild,n,c,u,!1)}function Ub(i,n,t,o,c,u){const m=t[16],b=m[6].projection[o.projection];if(Array.isArray(b))for(let x=0;x<b.length;x++)Vn(n,i,c,b[x],u);else v0(i,n,b,m[3],c,u,!0)}function t2(i,n,t){An(i)?i.setAttribute(n,"style",t):n.style.cssText=t}function C9(i,n,t){An(i)?""===t?i.removeAttribute(n,"class"):i.setAttribute(n,"class",t):n.className=t}function u8(i,n,t){let o=i.length;for(;;){const c=i.indexOf(n,t);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const u=n.length;if(c+u===o||i.charCodeAt(c+u)<=32)return c}t=c+1}}const kc="ng-template";function qt(i,n,t){let o=0;for(;o<i.length;){let c=i[o++];if(t&&"class"===c){if(c=i[o],-1!==u8(c.toLowerCase(),n,0))return!0}else if(1===c){for(;o<i.length&&"string"==typeof(c=i[o++]);)if(c.toLowerCase()===n)return!0;return!1}}return!1}function $b(i){return 4===i.type&&i.value!==kc}function ZT(i,n,t){return n===(4!==i.type||t?i.value:kc)}function KT(i,n,t){let o=4;const c=i.attrs||[],u=function(i){for(let n=0;n<i.length;n++)if(kf(i[n]))return n;return i.length}(c);let m=!1;for(let g=0;g<n.length;g++){const b=n[g];if("number"!=typeof b){if(!m)if(4&o){if(o=2|1&o,""!==b&&!ZT(i,b,t)||""===b&&1===n.length){if(uo(o))return!1;m=!0}}else{const x=8&o?b:n[++g];if(8&o&&null!==i.attrs){if(!qt(i.attrs,x,t)){if(uo(o))return!1;m=!0}continue}const k=QT(8&o?"class":b,c,$b(i),t);if(-1===k){if(uo(o))return!1;m=!0;continue}if(""!==x){let z;z=k>u?"":c[k+1].toLowerCase();const L=8&o?z:null;if(L&&-1!==u8(L,x,0)||2&o&&x!==z){if(uo(o))return!1;m=!0}}}}else{if(!m&&!uo(o)&&!uo(b))return!1;if(m&&uo(b))continue;m=!1,o=b|1&o}}return uo(o)||m}function uo(i){return 0==(1&i)}function QT(i,n,t,o){if(null===n)return-1;let c=0;if(o||!t){let u=!1;for(;c<n.length;){const m=n[c];if(m===i)return c;if(3===m||6===m)u=!0;else{if(1===m||2===m){let g=n[++c];for(;"string"==typeof g;)g=n[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=u?1:2}return-1}return function(i,n){let t=i.indexOf(4);if(t>-1)for(t++;t<i.length;){const o=i[t];if("number"==typeof o)return-1;if(o===n)return t;t++}return-1}(n,i)}function qb(i,n,t=!1){for(let o=0;o<n.length;o++)if(KT(i,n[o],t))return!0;return!1}function Wb(i,n){e:for(let t=0;t<n.length;t++){const o=n[t];if(i.length===o.length){for(let c=0;c<i.length;c++)if(i[c]!==o[c])continue e;return!0}}return!1}function x9(i,n){return i?":not("+n.trim()+")":n}function Gb(i){let n=i[0],t=1,o=2,c="",u=!1;for(;t<i.length;){let m=i[t];if("string"==typeof m)if(2&o){const g=i[++t];c+="["+m+(g.length>0?'="'+g+'"':"")+"]"}else 8&o?c+="."+m:4&o&&(c+=" "+m);else""!==c&&!uo(m)&&(n+=x9(u,c),c=""),o=m,u=u||!uo(o);t++}return""!==c&&(n+=x9(u,c)),n}const nt={};function he(i){M9(St(),le(),Ci()+i,d6())}function M9(i,n,t,o){if(!o)if(3==(3&n[2])){const u=i.preOrderCheckHooks;null!==u&&hc(n,u,t)}else{const u=i.preOrderHooks;null!==u&&mc(n,u,0,t)}js(t)}function d8(i,n){return i<<17|n<<2}function fo(i){return i>>17&32767}function E9(i){return 2|i}function Wa(i){return(131068&i)>>2}function D9(i,n){return-131069&i|n<<2}function S9(i){return 1|i}function L9(i,n){const t=i.contentQueries;if(null!==t)for(let o=0;o<t.length;o+=2){const c=t[o],u=t[o+1];if(-1!==u){const m=i.data[u];k7(c),m.contentQueries(2,n[u],u)}}}function C0(i,n,t,o,c,u,m,g,b,x){const D=n.blueprint.slice();return D[0]=c,D[2]=140|o,Zl(D),D[3]=D[15]=i,D[8]=t,D[10]=m||i&&i[10],D[11]=g||i&&i[11],D[12]=b||i&&i[12]||null,D[9]=x||i&&i[9]||null,D[6]=u,D[16]=2==n.type?i[16]:D,D}function Nc(i,n,t,o,c){let u=i.data[n];if(null===u)u=function(i,n,t,o,c){const u=Df(),m=ky(),b=i.data[n]=function(i,n,t,o,c,u){return{type:t,index:o,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:u,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?u:u&&u.parent,t,n,o,c);return null===i.firstChild&&(i.firstChild=b),null!==u&&(m?null==u.child&&null!==b.parent&&(u.child=b):null===u.next&&(u.next=b)),b}(i,n,t,o,c),et.lFrame.inI18n&&(u.flags|=64);else if(64&u.type){u.type=t,u.value=o,u.attrs=c;const m=function(){const i=et.lFrame,n=i.currentTNode;return i.isParent?n:n.parent}();u.injectorIndex=null===m?-1:m.injectorIndex}return ao(u,!0),u}function fr(i,n,t,o){if(0===t)return-1;const c=n.length;for(let u=0;u<t;u++)n.push(o),i.blueprint.push(o),i.data.push(null);return c}function Ic(i,n,t){m6(n);try{const o=i.viewQuery;null!==o&&D8(1,o,t);const c=i.template;null!==c&&R9(i,n,c,1,t),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&L9(i,n),i.staticViewQueries&&D8(2,i.viewQuery,t);const u=i.components;null!==u&&function(i,n){for(let t=0;t<n.length;t++)dz(i,n[t])}(n,u)}catch(o){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),o}finally{n[2]&=-5,g6()}}function Lc(i,n,t,o){const c=n[2];if(256==(256&c))return;m6(n);const u=d6();try{Zl(n),function(i){et.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==t&&R9(i,n,t,2,o);const m=3==(3&c);if(!u)if(m){const x=i.preOrderCheckHooks;null!==x&&hc(n,x,null)}else{const x=i.preOrderHooks;null!==x&&mc(n,x,0,null),v6(n,0)}if(function(i){for(let n=l9(i);null!==n;n=R6(n)){if(!n[2])continue;const t=n[9];for(let o=0;o<t.length;o++){const c=t[o],u=c[3];0==(1024&c[2])&&E7(u,1),c[2]|=1024}}}(n),function(i){for(let n=l9(i);null!==n;n=R6(n))for(let t=10;t<n.length;t++){const o=n[t],c=o[1];u6(o)&&Lc(c,o,c.template,o[8])}}(n),null!==i.contentQueries&&L9(i,n),!u)if(m){const x=i.contentCheckHooks;null!==x&&hc(n,x)}else{const x=i.contentHooks;null!==x&&mc(n,x,1),v6(n,1)}!function(i,n){const t=i.hostBindingOpCodes;if(null!==t)try{for(let o=0;o<t.length;o++){const c=t[o];if(c<0)js(~c);else{const u=c,m=t[++o],g=t[++o];Zk(m,u),g(2,n[u])}}}finally{js(-1)}}(i,n);const g=i.components;null!==g&&function(i,n){for(let t=0;t<n.length;t++)fz(i,n[t])}(n,g);const b=i.viewQuery;if(null!==b&&D8(2,b,o),!u)if(m){const x=i.viewCheckHooks;null!==x&&hc(n,x)}else{const x=i.viewHooks;null!==x&&mc(n,x,2),v6(n,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),u||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,E7(n[3],-1))}finally{g6()}}function iC(i,n,t,o){const c=n[10],u=!d6(),m=w7(n);try{u&&!m&&c.begin&&c.begin(),m&&Ic(i,n,o),Lc(i,n,t,o)}finally{u&&!m&&c.end&&c.end()}}function R9(i,n,t,o,c){const u=Ci(),m=2&o;try{js(-1),m&&n.length>20&&M9(i,n,20,d6()),t(o,c)}finally{js(u)}}function W6(i,n,t){if(x7(n)){const c=n.directiveEnd;for(let u=n.directiveStart;u<c;u++){const m=i.data[u];m.contentQueries&&m.contentQueries(1,t[u],u)}}}function b8(i,n,t){!Ef()||(function(i,n,t,o){const c=t.directiveStart,u=t.directiveEnd;i.firstCreatePass||_6(t,n),Ri(o,n);const m=t.initialInputs;for(let g=c;g<u;g++){const b=i.data[g],x=ro(b);x&&mC(n,t,b);const D=Us(n,i,g,t);Ri(D,n),null!==m&&pC(0,g-c,D,b,0,m),x&&(ar(t.index,n)[8]=D)}}(i,n,t,t1(t,n)),128==(128&t.flags)&&function(i,n,t){const o=t.directiveStart,c=t.directiveEnd,m=t.index,g=et.lFrame.currentDirectiveIndex;try{js(m);for(let b=o;b<c;b++){const x=i.data[b],D=n[b];h6(b),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&dr(x,D)}}finally{js(-1),h6(g)}}(i,n,t))}function V9(i,n,t=t1){const o=n.localNames;if(null!==o){let c=n.index+1;for(let u=0;u<o.length;u+=2){const m=o[u+1],g=-1===m?t(n,i):i[m];i[c++]=g}}}function G6(i){const n=i.tView;return null===n||n.incompleteFirstPass?i.tView=C8(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):n}function C8(i,n,t,o,c,u,m,g,b,x){const D=20+o,k=D+c,z=function(i,n){const t=[];for(let o=0;o<n;o++)t.push(o<i?null:nt);return t}(D,k),L="function"==typeof x?x():x;return z[1]={type:i,blueprint:z,template:t,queries:null,viewQuery:g,declTNode:n,data:z.slice().fill(null,D),bindingStartIndex:D,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof u?u():u,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:b,consts:L,incompleteFirstPass:!1}}function oC(i,n,t,o){const c=X9(n);null===t?c.push(o):(c.push(t),i.firstCreatePass&&Y9(i).push(o,c.length-1))}function P9(i,n,t){for(let o in i)if(i.hasOwnProperty(o)){const c=i[o];(t=null===t?{}:t).hasOwnProperty(o)?t[o].push(n,c):t[o]=[n,c]}return t}function Or(i,n,t,o,c,u,m,g){const b=t1(n,t);let D,x=n.inputs;!g&&null!=x&&(D=x[o])?(CC(i,t,D,o,c),yf(n)&&function(i,n){const t=ar(n,i);16&t[2]||(t[2]|=64)}(t,n.index)):3&n.type&&(o=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(o),c=null!=m?m(c,n.value||"",o):c,An(u)?u.setProperty(b,o,c):L7(o)||(b.setProperty?b.setProperty(o,c):b[o]=c))}function aa(i,n,t,o){let c=!1;if(Ef()){const u=function(i,n,t){const o=i.directiveRegistry;let c=null;if(o)for(let u=0;u<o.length;u++){const m=o[u];qb(t,m.selectors,!1)&&(c||(c=[]),t0(_6(t,n),i,m.type),ro(m)?(hC(i,t),c.unshift(m)):c.push(m))}return c}(i,n,t),m=null===o?null:{"":-1};if(null!==u){c=!0,w0(t,i.data.length,u.length);for(let D=0;D<u.length;D++){const k=u[D];k.providersResolver&&k.providersResolver(k)}let g=!1,b=!1,x=fr(i,n,u.length,null);for(let D=0;D<u.length;D++){const k=u[D];t.mergedAttrs=Tf(t.mergedAttrs,k.hostAttrs),X6(i,t,n,x,k),sz(x,k,m),null!==k.contentQueries&&(t.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(t.flags|=128);const z=k.type.prototype;!g&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t.index),g=!0),!b&&(z.ngOnChanges||z.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t.index),b=!0),x++}!function(i,n){const o=n.directiveEnd,c=i.data,u=n.attrs,m=[];let g=null,b=null;for(let x=n.directiveStart;x<o;x++){const D=c[x],k=D.inputs,z=null===u||$b(n)?null:gC(k,u);m.push(z),g=P9(k,x,g),b=P9(D.outputs,x,b)}null!==g&&(g.hasOwnProperty("class")&&(n.flags|=16),g.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=m,n.inputs=g,n.outputs=b}(i,t)}m&&function(i,n,t){if(n){const o=i.localNames=[];for(let c=0;c<n.length;c+=2){const u=t[n[c+1]];if(null==u)throw new Fa("301",`Export of name '${n[c+1]}' not found!`);o.push(n[c],u)}}}(t,o,m)}return t.mergedAttrs=Tf(t.mergedAttrs,t.attrs),c}function M0(i,n,t,o,c,u){const m=u.hostBindings;if(m){let g=i.hostBindingOpCodes;null===g&&(g=i.hostBindingOpCodes=[]);const b=~n.index;(function(i){let n=i.length;for(;n>0;){const t=i[--n];if("number"==typeof t&&t<0)return t}return 0})(g)!=b&&g.push(b),g.push(o,c,m)}}function dr(i,n){null!==i.hostBindings&&i.hostBindings(1,n)}function hC(i,n){n.flags|=2,(i.components||(i.components=[])).push(n.index)}function sz(i,n,t){if(t){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)t[n.exportAs[o]]=i;ro(n)&&(t[""]=i)}}function w0(i,n,t){i.flags|=1,i.directiveStart=n,i.directiveEnd=n+t,i.providerIndexes=n}function X6(i,n,t,o,c){i.data[o]=c;const u=c.factory||(c.factory=dc(c.type)),m=new Ne(u,ro(c),null);i.blueprint[o]=m,t[o]=m,M0(i,n,0,o,fr(i,t,c.hostVars,nt),c)}function mC(i,n,t){const o=t1(n,i),c=G6(t),u=i[10],m=E0(i,C0(i,c,null,t.onPush?64:16,o,n,u,u.createRenderer(o,t),null,null));i[n.index]=m}function Oi(i,n,t,o,c,u){const m=t1(i,n);!function(i,n,t,o,c,u,m){if(null==u)An(i)?i.removeAttribute(n,c,t):n.removeAttribute(c);else{const g=null==m?Je(u):m(u,o||"",c);An(i)?i.setAttribute(n,c,g,t):t?n.setAttributeNS(t,c,g):n.setAttribute(c,g)}}(n[11],m,u,i.value,t,o,c)}function pC(i,n,t,o,c,u){const m=u[n];if(null!==m){const g=o.setInput;for(let b=0;b<m.length;){const x=m[b++],D=m[b++],k=m[b++];null!==g?o.setInput(t,k,x,D):t[D]=k}}}function gC(i,n){let t=null,o=0;for(;o<n.length;){const c=n[o];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===t&&(t=[]),t.push(c,i[c],n[o+1])),o+=2}else o+=2;else o+=4}return t}function j9(i,n,t,o){return new Array(i,!0,!1,n,null,0,o,t,null,null)}function fz(i,n){const t=ar(n,i);if(u6(t)){const o=t[1];80&t[2]?Lc(o,t,o.template,t[8]):t[5]>0&&U9(t)}}function U9(i){for(let o=l9(i);null!==o;o=R6(o))for(let c=10;c<o.length;c++){const u=o[c];if(1024&u[2]){const m=u[1];Lc(m,u,m.template,u[8])}else u[5]>0&&U9(u)}const t=i[1].components;if(null!==t)for(let o=0;o<t.length;o++){const c=ar(t[o],i);u6(c)&&c[5]>0&&U9(c)}}function dz(i,n){const t=ar(n,i),o=t[1];(function(i,n){for(let t=n.length;t<i.blueprint.length;t++)n.push(i.blueprint[t])})(o,t),Ic(o,t,t[8])}function E0(i,n){return i[13]?i[14][4]=n:i[13]=n,i[14]=n,n}function w8(i){for(;i;){i[2]|=64;const n=Ac(i);if(hy(i)&&!n)return i;i=n}return null}function q9(i,n,t){const o=n[10];o.begin&&o.begin();try{Lc(i,n,i.template,t)}catch(c){throw bC(n,c),c}finally{o.end&&o.end()}}function E8(i){!function(i){for(let n=0;n<i.components.length;n++){const t=i.components[n],o=I6(t),c=o[1];iC(c,o,c.template,t)}}(i[8])}function D8(i,n,t){k7(0),n(i,t)}const G9=(()=>Promise.resolve(null))();function X9(i){return i[7]||(i[7]=[])}function Y9(i){return i.cleanup||(i.cleanup=[])}function bC(i,n){const t=i[9],o=t?t.get(lo,null):null;o&&o.handleError(n)}function CC(i,n,t,o,c){for(let u=0;u<t.length;){const m=t[u++],g=t[u++],b=n[m],x=i.data[m];null!==x.setInput?x.setInput(b,c,o,g):b[g]=c}}function Za(i,n,t){const o=Mf(n,i);!function(i,n,t){An(i)?i.setValue(n,t):n.textContent=t}(i[11],o,t)}function S8(i,n,t){let o=t?i.styles:null,c=t?i.classes:null,u=0;if(null!==n)for(let m=0;m<n.length;m++){const g=n[m];"number"==typeof g?u=g:1==u?c=Yo(c,g):2==u&&(o=Yo(o,g+": "+n[++m]+";"))}t?i.styles=o:i.stylesWithoutHost=o,t?i.classes=c:i.classesWithoutHost=c}const Y6=new be("INJECTOR",-1);class Z6{get(n,t=M6){if(t===M6){const o=new Error(`NullInjectorError: No provider for ${ct(n)}!`);throw o.name="NullInjectorError",o}return t}}const I1=new be("Set Injector scope."),Fc={},xC={};let A8;function k8(){return void 0===A8&&(A8=new Z6),A8}function T8(i,n=null,t=null,o){return new z8(i,t,n||k8(),o)}class z8{constructor(n,t,o,c=null){this.parent=o,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const u=[];t&&te(t,g=>this.processProvider(g,n,t)),te([n],g=>this.processInjectorType(g,[],u)),this.records.set(Y6,D0(void 0,this));const m=this.records.get(I1);this.scope=null!=m?m.value:null,this.source=c||("object"==typeof n?null:ct(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,t=M6,o=qe.Default){this.assertNotDestroyed();const c=Ys(this),u=Ir(void 0);try{if(!(o&qe.SkipSelf)){let g=this.records.get(n);if(void 0===g){const b=("function"==typeof(i=n)||"object"==typeof i&&i instanceof be)&&Fn(n);g=b&&this.injectableDefInScope(b)?D0(N8(n),Fc):null,this.records.set(n,g)}if(null!=g)return this.hydrate(n,g)}return(o&qe.Self?k8():this.parent).get(n,t=o&qe.Optional&&t===M6?null:t)}catch(m){if("NullInjectorError"===m.name){if((m[w6]=m[w6]||[]).unshift(ct(n)),c)throw m;return ib(m,n,"R3InjectorError",this.source)}throw m}finally{Ir(u),Ys(c)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((o,c)=>n.push(ct(c))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,t,o){if(!(n=Ie(n)))return!1;let c=Qr(n);const u=null==c&&n.ngModule||void 0,m=void 0===u?n:u,g=-1!==o.indexOf(m);if(void 0!==u&&(c=Qr(u)),null==c)return!1;if(null!=c.imports&&!g){let D;o.push(m);try{te(c.imports,k=>{this.processInjectorType(k,t,o)&&(void 0===D&&(D=[]),D.push(k))})}finally{}if(void 0!==D)for(let k=0;k<D.length;k++){const{ngModule:z,providers:L}=D[k];te(L,R=>this.processProvider(R,z,L||It))}}this.injectorDefTypes.add(m);const b=dc(m)||(()=>new m);this.records.set(m,D0(b,Fc));const x=c.providers;if(null!=x&&!g){const D=n;te(x,k=>this.processProvider(k,D,x))}return void 0!==u&&void 0!==n.providers}processProvider(n,t,o){let c=S0(n=Ie(n))?n:Ie(n&&n.provide);const u=function(i,n,t){return K9(i)?D0(void 0,i.useValue):D0(I8(i),Fc)}(n);if(S0(n)||!0!==n.multi)this.records.get(c);else{let m=this.records.get(c);m||(m=D0(void 0,Fc,!0),m.factory=()=>Zs(m.multi),this.records.set(c,m)),c=n,m.multi.push(n)}this.records.set(c,u)}hydrate(n,t){return t.value===Fc&&(t.value=xC,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(i=t.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(t.value),t.value;var i}injectableDefInScope(n){if(!n.providedIn)return!1;const t=Ie(n.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function N8(i){const n=Fn(i),t=null!==n?n.factory:dc(i);if(null!==t)return t;if(i instanceof be)throw new Error(`Token ${ct(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const n=i.length;if(n>0){const o=Gs(n,"?");throw new Error(`Can't resolve all parameters for ${ct(i)}: (${o.join(", ")}).`)}const t=function(i){const n=i&&(i[Nr]||i[p7]);if(n){const t=function(i){if(i.hasOwnProperty("name"))return i.name;const n=(""+i).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),n}return null}(i);return null!==t?()=>t.factory(i):()=>new i}(i);throw new Error("unreachable")}function I8(i,n,t){let o;if(S0(i)){const c=Ie(i);return dc(c)||N8(c)}if(K9(i))o=()=>Ie(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))o=()=>i.useFactory(...Zs(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))o=()=>ce(Ie(i.useExisting));else{const c=Ie(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return dc(c)||N8(c);o=()=>new c(...Zs(i.deps))}return o}function D0(i,n,t=!1){return{factory:i,value:n,multi:t?[]:void 0}}function K9(i){return null!==i&&"object"==typeof i&&Of in i}function S0(i){return"function"==typeof i}const kC=function(i,n,t){return function(i,n=null,t=null,o){const c=T8(i,n,t,o);return c._resolveInjectorDefTypes(),c}({name:t},n,i,t)};let Kt=(()=>{class i{static create(t,o){return Array.isArray(t)?kC(t,o,""):kC(t.providers,t.parent,t.name||"")}}return i.THROW_IF_NOT_FOUND=M6,i.NULL=new Z6,i.\u0275prov=Ce({token:i,providedIn:"any",factory:()=>ce(Y6)}),i.__NG_ELEMENT_ID__=-1,i})();function H8(i,n){Kl(I6(i)[1],kn())}function Ze(i){let n=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),t=!0;const o=[i];for(;n;){let c;if(ro(i))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");c=n.\u0275dir}if(c){if(t){o.push(c);const m=i;m.inputs=fm(i.inputs),m.declaredInputs=fm(i.declaredInputs),m.outputs=fm(i.outputs);const g=c.hostBindings;g&&HC(i,g);const b=c.viewQuery,x=c.contentQueries;if(b&&dm(i,b),x&&Vc(i,x),ey(i.inputs,c.inputs),ey(i.declaredInputs,c.declaredInputs),ey(i.outputs,c.outputs),ro(c)&&c.data.animation){const D=i.data;D.animation=(D.animation||[]).concat(c.data.animation)}}const u=c.features;if(u)for(let m=0;m<u.length;m++){const g=u[m];g&&g.ngInherit&&g(i),g===Ze&&(t=!1)}}n=Object.getPrototypeOf(n)}!function(i){let n=0,t=null;for(let o=i.length-1;o>=0;o--){const c=i[o];c.hostVars=n+=c.hostVars,c.hostAttrs=Tf(c.hostAttrs,t=Tf(t,c.hostAttrs))}}(o)}function fm(i){return i===ql?{}:i===It?[]:i}function dm(i,n){const t=i.viewQuery;i.viewQuery=t?(o,c)=>{n(o,c),t(o,c)}:n}function Vc(i,n){const t=i.contentQueries;i.contentQueries=t?(o,c,u)=>{n(o,c,u),t(o,c,u)}:n}function HC(i,n){const t=i.hostBindings;i.hostBindings=t?(o,c)=>{n(o,c),t(o,c)}:n}let A0=null;function k0(){if(!A0){const i=Ft.Symbol;if(i&&i.iterator)A0=i.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<n.length;++t){const o=n[t];"entries"!==o&&"size"!==o&&Map.prototype[o]===Map.prototype.entries&&(A0=o)}}}return A0}function o1(i){return!!T0(i)&&(Array.isArray(i)||!(i instanceof Map)&&k0()in i)}function T0(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function fn(i,n,t){return!Object.is(i[n],t)&&(i[n]=t,!0)}function dt(i,n,t,o){const c=le();return fn(c,Bs(),n)&&(St(),Oi(Tn(),c,i,n,t,o)),dt}function c2(i,n,t,o){return fn(i,Bs(),t)?n+Je(t)+o:nt}function ot(i,n,t,o,c,u,m,g){const b=le(),x=St(),D=i+20,k=x.firstCreatePass?function(i,n,t,o,c,u,m,g,b){const x=n.consts,D=Nc(n,i,4,m||null,Hs(x,g));aa(n,t,D,Hs(x,b)),Kl(n,D);const k=D.tViews=C8(2,D,o,c,u,n.directiveRegistry,n.pipeRegistry,null,n.schemas,x);return null!==n.queries&&(n.queries.template(n,D),k.queries=n.queries.embeddedTView(D)),D}(D,x,b,n,t,o,c,u,m):x.data[D];ao(k,!1);const z=b[11].createComment("");s8(x,b,z,k),Ri(z,b),E0(b,b[D]=j9(z,b,z,k)),l6(k)&&b8(x,b,k),null!=m&&V9(b,k,g)}function f2(i){return oo(et.lFrame.contextLView,20+i)}function U(i,n=qe.Default){const t=le();return null===t?ce(i,n):Uy(kn(),t,Ie(i),n)}function Z8(){throw new Error("invalid")}function pe(i,n,t){const o=le();return fn(o,Bs(),n)&&Or(St(),Tn(),o,i,n,o[11],t,!1),pe}function I0(i,n,t,o,c){const m=c?"class":"style";CC(i,t,n.inputs[m],m,o)}function X(i,n,t,o){const c=le(),u=St(),m=20+i,g=c[11],b=c[m]=N1(g,n,et.lFrame.currentNamespace),x=u.firstCreatePass?function(i,n,t,o,c,u,m){const g=n.consts,x=Nc(n,i,2,c,Hs(g,u));return aa(n,t,x,Hs(g,m)),null!==x.attrs&&S8(x,x.attrs,!1),null!==x.mergedAttrs&&S8(x,x.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,x),x}(m,u,c,0,n,t,o):u.data[m];ao(x,!0);const D=x.mergedAttrs;null!==D&&vc(g,b,D);const k=x.classes;null!==k&&C9(g,b,k);const z=x.styles;null!==z&&t2(g,b,z),64!=(64&x.flags)&&s8(u,c,b,x),0===et.lFrame.elementDepthCount&&Ri(b,c),et.lFrame.elementDepthCount++,l6(x)&&(b8(u,c,x),W6(u,x,c)),null!==o&&V9(c,x)}function $(){let i=kn();ky()?S7():(i=i.parent,ao(i,!1));const n=i;et.lFrame.elementDepthCount--;const t=St();t.firstCreatePass&&(Kl(t,i),x7(i)&&t.queries.elementEnd(i)),null!=n.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(n)&&I0(t,n,le(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(n)&&I0(t,n,le(),n.stylesWithoutHost,!1)}function He(i,n,t,o){X(i,n,t,o),$()}function K8(i,n,t){const o=le(),c=St(),u=i+20,m=c.firstCreatePass?function(i,n,t,o,c){const u=n.consts,m=Hs(u,o),g=Nc(n,i,8,"ng-container",m);return null!==m&&S8(g,m,!0),aa(n,t,g,Hs(u,c)),null!==n.queries&&n.queries.elementStart(n,g),g}(u,c,o,n,t):c.data[u];ao(m,!0);const g=o[u]=o[11].createComment("");s8(c,o,g,m),Ri(g,o),l6(m)&&(b8(c,o,m),W6(c,m,o)),null!=t&&V9(o,m)}function h2(){let i=kn();const n=St();ky()?S7():(i=i.parent,ao(i,!1)),n.firstCreatePass&&(Kl(n,i),x7(i)&&n.queries.elementEnd(i))}function $n(){return le()}function Q8(i){return!!i&&"function"==typeof i.then}function m2(i){return!!i&&"function"==typeof i.subscribe}const R1=m2;function Me(i,n,t,o){const c=le(),u=St(),m=kn();return function(i,n,t,o,c,u,m,g){const b=l6(o),D=i.firstCreatePass&&Y9(i),k=n[8],z=X9(n);let L=!0;if(3&o.type||g){const B=t1(o,n),Q=g?g(B):B,K=z.length,de=g?_e=>g(Un(_e[o.index])):o.index;if(An(t)){let _e=null;if(!g&&b&&(_e=function(i,n,t,o){const c=i.cleanup;if(null!=c)for(let u=0;u<c.length-1;u+=2){const m=c[u];if(m===t&&c[u+1]===o){const g=n[7],b=c[u+2];return g.length>b?g[b]:null}"string"==typeof m&&(u+=2)}return null}(i,n,c,o.index)),null!==_e)(_e.__ngLastListenerFn__||_e).__ngNextListenerFn__=u,_e.__ngLastListenerFn__=u,L=!1;else{u=Mm(o,n,k,u,!1);const Ge=t.listen(Q,c,u);z.push(u,Ge),D&&D.push(c,de,K,K+1)}}else u=Mm(o,n,k,u,!0),Q.addEventListener(c,u,m),z.push(u),D&&D.push(c,de,K,m)}else u=Mm(o,n,k,u,!1);const R=o.outputs;let j;if(L&&null!==R&&(j=R[c])){const B=j.length;if(B)for(let Q=0;Q<B;Q+=2){const wt=n[j[Q]][j[Q+1]].subscribe(u),Wt=z.length;z.push(u,wt),D&&D.push(c,o.index,Wt,-(Wt+1))}}}(u,c,c[11],m,i,n,!!t,o),Me}function ux(i,n,t,o){try{return!1!==t(o)}catch(c){return bC(i,c),!1}}function Mm(i,n,t,o,c){return function u(m){if(m===Function)return o;const g=2&i.flags?ar(i.index,n):n;0==(32&n[2])&&w8(g);let b=ux(n,0,o,m),x=u.__ngNextListenerFn__;for(;x;)b=ux(n,0,x,m)&&b,x=x.__ngNextListenerFn__;return c&&!1===b&&(m.preventDefault(),m.returnValue=!1),b}}function ze(i=1){return function(i){return(et.lFrame.contextLView=function(i,n){for(;i>0;)n=n[15],i--;return n}(i,et.lFrame.contextLView))[8]}(i)}function Pz(i,n){let t=null;const o=function(i){const n=i.attrs;if(null!=n){const t=n.indexOf(5);if(0==(1&t))return n[t+1]}return null}(i);for(let c=0;c<n.length;c++){const u=n[c];if("*"!==u){if(null===o?qb(i,u,!0):Wb(o,u))return c}else t=c}return t}function Hi(i){const n=le()[16][6];if(!n.projection){const o=n.projection=Gs(i?i.length:1,null),c=o.slice();let u=n.child;for(;null!==u;){const m=i?Pz(u,i):0;null!==m&&(c[m]?c[m].projectionNext=u:o[m]=u,c[m]=u),u=u.next}}}function rn(i,n=0,t){const o=le(),c=St(),u=Nc(c,20+i,16,null,t||null);null===u.projection&&(u.projection=n),S7(),64!=(64&u.flags)&&function(i,n,t){Ub(n[11],0,n,t,m9(i,t,n),g9(t.parent||n[6],t,n))}(c,o,u)}function Ja(i,n,t){return Hc(i,"",n,"",t),Ja}function Hc(i,n,t,o,c){const u=le(),m=c2(u,n,t,o);return m!==nt&&Or(St(),Tn(),u,i,m,u[11],c,!1),Hc}function vx(i,n,t,o,c){const u=i[t+1],m=null===n;let g=o?fo(u):Wa(u),b=!1;for(;0!==g&&(!1===b||m);){const D=i[g+1];nu(i[g],n)&&(b=!0,i[g+1]=o?S9(D):E9(D)),g=o?fo(D):Wa(D)}b&&(i[t+1]=o?E9(u):S9(u))}function nu(i,n){return null===i||null==n||(Array.isArray(i)?i[1]:i)===n||!(!Array.isArray(i)||"string"!=typeof n)&&o0(i,n)>=0}const bn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function L0(i){return i.substring(bn.key,bn.keyEnd)}function _x(i,n){const t=bn.textEnd;return t===n?-1:(n=bn.keyEnd=function(i,n,t){for(;n<t&&i.charCodeAt(n)>32;)n++;return n}(i,bn.key=n,t),F0(i,n,t))}function F0(i,n,t){for(;n<t&&i.charCodeAt(n)<=32;)n++;return n}function Pr(i,n,t){return vo(i,n,t,!1),Pr}function on(i,n){return vo(i,n,null,!0),on}function fa(i,n){for(let t=function(i){return function(i){bn.key=0,bn.keyEnd=0,bn.value=0,bn.valueEnd=0,bn.textEnd=i.length}(i),_x(i,F0(i,0,bn.textEnd))}(n);t>=0;t=_x(n,t))cr(i,L0(n),!0)}function vo(i,n,t,o){const c=le(),u=St(),m=Oa(2);u.firstUpdatePass&&wx(u,i,m,o),n!==nt&&fn(c,m,n)&&Dx(u,u.data[Ci()],c,c[11],i,c[m+1]=function(i,n){return null==i||("string"==typeof n?i+=n:"object"==typeof i&&(i=ct(Rr(i)))),i}(n,t),o,m)}function Mx(i,n){return n>=i.expandoStartIndex}function wx(i,n,t,o){const c=i.data;if(null===c[t+1]){const u=c[Ci()],m=Mx(i,t);Qn(u,o)&&null===n&&!m&&(n=!1),n=function(i,n,t,o){const c=function(i){const n=et.lFrame.currentDirectiveIndex;return-1===n?null:i[n]}(i);let u=o?n.residualClasses:n.residualStyles;if(null===c)0===(o?n.classBindings:n.styleBindings)&&(t=iu(t=Em(null,i,n,t,o),n.attrs,o),u=null);else{const m=n.directiveStylingLast;if(-1===m||i[m]!==c)if(t=Em(c,i,n,t,o),null===u){let b=function(i,n,t){const o=t?n.classBindings:n.styleBindings;if(0!==Wa(o))return i[fo(o)]}(i,n,o);void 0!==b&&Array.isArray(b)&&(b=Em(null,i,n,b[1],o),b=iu(b,n.attrs,o),function(i,n,t,o){i[fo(t?n.classBindings:n.styleBindings)]=o}(i,n,o,b))}else u=function(i,n,t){let o;const c=n.directiveEnd;for(let u=1+n.directiveStylingLast;u<c;u++)o=iu(o,i[u].hostAttrs,t);return iu(o,n.attrs,t)}(i,n,o)}return void 0!==u&&(o?n.residualClasses=u:n.residualStyles=u),t}(c,u,n,o),function(i,n,t,o,c,u){let m=u?n.classBindings:n.styleBindings,g=fo(m),b=Wa(m);i[o]=t;let D,x=!1;if(Array.isArray(t)){const k=t;D=k[1],(null===D||o0(k,D)>0)&&(x=!0)}else D=t;if(c)if(0!==b){const z=fo(i[g+1]);i[o+1]=d8(z,g),0!==z&&(i[z+1]=D9(i[z+1],o)),i[g+1]=function(i,n){return 131071&i|n<<17}(i[g+1],o)}else i[o+1]=d8(g,0),0!==g&&(i[g+1]=D9(i[g+1],o)),g=o;else i[o+1]=d8(b,0),0===g?g=o:i[b+1]=D9(i[b+1],o),b=o;x&&(i[o+1]=E9(i[o+1])),vx(i,D,o,!0),vx(i,D,o,!1),function(i,n,t,o,c){const u=c?i.residualClasses:i.residualStyles;null!=u&&"string"==typeof n&&o0(u,n)>=0&&(t[o+1]=S9(t[o+1]))}(n,D,i,o,u),m=d8(g,b),u?n.classBindings=m:n.styleBindings=m}(c,u,n,t,m,o)}}function Em(i,n,t,o,c){let u=null;const m=t.directiveEnd;let g=t.directiveStylingLast;for(-1===g?g=t.directiveStart:g++;g<m&&(u=n[g],o=iu(o,u.hostAttrs,c),u!==i);)g++;return null!==i&&(t.directiveStylingLast=g),o}function iu(i,n,t){const o=t?1:2;let c=-1;if(null!==n)for(let u=0;u<n.length;u++){const m=n[u];"number"==typeof m?c=m:c===o&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),cr(i,m,!!t||n[++u]))}return void 0===i?null:i}function Dx(i,n,t,o,c,u,m,g){if(!(3&n.type))return;const b=i.data,x=b[g+1];id(function(i){return 1==(1&i)}(x)?Dm(b,n,t,c,Wa(x),m):void 0)||(id(u)||function(i){return 2==(2&i)}(x)&&(u=Dm(b,null,t,c,g,m)),function(i,n,t,o,c){const u=An(i);if(n)c?u?i.addClass(t,o):t.classList.add(o):u?i.removeClass(t,o):t.classList.remove(o);else{let m=-1===o.indexOf("-")?void 0:Vr.DashCase;if(null==c)u?i.removeStyle(t,o,m):t.style.removeProperty(o);else{const g="string"==typeof c&&c.endsWith("!important");g&&(c=c.slice(0,-10),m|=Vr.Important),u?i.setStyle(t,o,c,m):t.style.setProperty(o,c,g?"important":"")}}}(o,m,Mf(Ci(),t),c,u))}function Dm(i,n,t,o,c,u){const m=null===n;let g;for(;c>0;){const b=i[c],x=Array.isArray(b),D=x?b[1]:b,k=null===D;let z=t[c+1];z===nt&&(z=k?It:void 0);let L=k?Rf(z,o):D===o?z:void 0;if(x&&!id(L)&&(L=Rf(b,o)),id(L)&&(g=L,m))return g;const R=i[c+1];c=m?fo(R):Wa(R)}if(null!==n){let b=u?n.residualClasses:n.residualStyles;null!=b&&(g=Rf(b,o))}return g}function id(i){return void 0!==i}function Qn(i,n){return 0!=(i.flags&(n?16:32))}function je(i,n=""){const t=le(),o=St(),c=i+20,u=o.firstCreatePass?Nc(o,c,1,n,null):o.data[c],m=t[c]=function(i,n){return An(i)?i.createText(n):i.createTextNode(n)}(t[11],n);s8(o,t,m,u),ao(u,!1)}function V1(i){return mr("",i,""),V1}function mr(i,n,t){const o=le(),c=c2(o,i,n,t);return c!==nt&&Za(o,Ci(),c),mr}function g2(i,n,t){!function(i,n,t,o){const c=St(),u=Oa(2);c.firstUpdatePass&&wx(c,null,u,o);const m=le();if(t!==nt&&fn(m,u,t)){const g=c.data[Ci()];if(Qn(g,o)&&!Mx(c,u)){let b=o?g.classesWithoutHost:g.stylesWithoutHost;null!==b&&(t=Yo(b,t||"")),I0(c,g,m,t,o)}else!function(i,n,t,o,c,u,m,g){c===nt&&(c=It);let b=0,x=0,D=0<c.length?c[0]:null,k=0<u.length?u[0]:null;for(;null!==D||null!==k;){const z=b<c.length?c[b+1]:void 0,L=x<u.length?u[x+1]:void 0;let j,R=null;D===k?(b+=2,x+=2,z!==L&&(R=k,j=L)):null===k||null!==D&&D<k?(b+=2,R=D):(x+=2,R=k,j=L),null!==R&&Dx(i,n,t,o,R,j,m,g),D=b<c.length?c[b]:null,k=x<u.length?u[x]:null}}(c,g,m,m[11],m[u+1],m[u+1]=function(i,n,t){if(null==t||""===t)return It;const o=[],c=Rr(t);if(Array.isArray(c))for(let u=0;u<c.length;u++)i(o,c[u],!0);else if("object"==typeof c)for(const u in c)c.hasOwnProperty(u)&&i(o,u,c[u]);else"string"==typeof c&&n(o,c);return o}(i,n,t),o,u)}}(cr,fa,c2(le(),i,n,t),!0)}function _2(i,n,t){const o=le();return fn(o,Bs(),n)&&Or(St(),Tn(),o,i,n,o[11],t,!0),_2}const y2=void 0;var Jz=["en",[["a","p"],["AM","PM"],y2],[["AM","PM"],y2,y2],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],y2,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],y2,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",y2,"{1} 'at' {0}",y2],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const t=Math.floor(Math.abs(i)),o=i.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===o?1:5}];let yo={};function ud(i){return i in yo||(yo[i]=Ft.ng&&Ft.ng.common&&Ft.ng.common.locales&&Ft.ng.common.locales[i]),yo[i]}var we=(()=>((we=we||{})[we.LocaleId=0]="LocaleId",we[we.DayPeriodsFormat=1]="DayPeriodsFormat",we[we.DayPeriodsStandalone=2]="DayPeriodsStandalone",we[we.DaysFormat=3]="DaysFormat",we[we.DaysStandalone=4]="DaysStandalone",we[we.MonthsFormat=5]="MonthsFormat",we[we.MonthsStandalone=6]="MonthsStandalone",we[we.Eras=7]="Eras",we[we.FirstDayOfWeek=8]="FirstDayOfWeek",we[we.WeekendRange=9]="WeekendRange",we[we.DateFormat=10]="DateFormat",we[we.TimeFormat=11]="TimeFormat",we[we.DateTimeFormat=12]="DateTimeFormat",we[we.NumberSymbols=13]="NumberSymbols",we[we.NumberFormats=14]="NumberFormats",we[we.CurrencyCode=15]="CurrencyCode",we[we.CurrencySymbol=16]="CurrencySymbol",we[we.CurrencyName=17]="CurrencyName",we[we.Currencies=18]="Currencies",we[we.Directionality=19]="Directionality",we[we.PluralCase=20]="PluralCase",we[we.ExtraData=21]="ExtraData",we))();const da="en-US";let hd=da;function Ym(i,n,t,o,c){if(i=Ie(i),Array.isArray(i))for(let u=0;u<i.length;u++)Ym(i[u],n,t,o,c);else{const u=St(),m=le();let g=S0(i)?i:Ie(i.provide),b=I8(i);const x=kn(),D=1048575&x.providerIndexes,k=x.directiveStart,z=x.providerIndexes>>20;if(S0(i)||!i.multi){const L=new Ne(b,c,U),R=Cd(g,n,c?D:D+z,k);-1===R?(t0(_6(x,m),u,g),Zm(u,i,n.length),n.push(g),x.directiveStart++,x.directiveEnd++,c&&(x.providerIndexes+=1048576),t.push(L),m.push(L)):(t[R]=L,m[R]=L)}else{const L=Cd(g,n,D+z,k),R=Cd(g,n,D,D+z),j=L>=0&&t[L],B=R>=0&&t[R];if(c&&!B||!c&&!j){t0(_6(x,m),u,g);const Q=function(i,n,t,o,c){const u=new Ne(i,t,U);return u.multi=[],u.index=n,u.componentProviders=0,tM(u,c,o&&!t),u}(c?iM:nM,t.length,c,o,b);!c&&B&&(t[R].providerFactory=Q),Zm(u,i,n.length,0),n.push(g),x.directiveStart++,x.directiveEnd++,c&&(x.providerIndexes+=1048576),t.push(Q),m.push(Q)}else Zm(u,i,L>-1?L:R,tM(t[c?R:L],b,!c&&o));!c&&o&&B&&t[R].componentProviders++}}}function Zm(i,n,t,o){const c=S0(n);if(c||function(i){return!!i.useClass}(n)){const m=(n.useClass||n).prototype.ngOnDestroy;if(m){const g=i.destroyHooks||(i.destroyHooks=[]);if(!c&&n.multi){const b=g.indexOf(t);-1===b?g.push(t,[o,m]):g[b+1].push(o,m)}else g.push(t,m)}}}function tM(i,n,t){return t&&i.componentProviders++,i.multi.push(n)-1}function Cd(i,n,t,o){for(let c=t;c<o;c++)if(n[c]===i)return c;return-1}function nM(i,n,t,o){return as(this.multi,[])}function iM(i,n,t,o){const c=this.multi;let u;if(this.providerFactory){const m=this.providerFactory.componentProviders,g=Us(t,t[1],this.providerFactory.index,o);u=g.slice(0,m),as(c,u);for(let b=m;b<g.length;b++)u.push(g[b])}else u=[],as(c,u);return u}function as(i,n){for(let t=0;t<i.length;t++)n.push((0,i[t])());return n}function Ye(i,n=[]){return t=>{t.providersResolver=(o,c)=>function(i,n,t){const o=St();if(o.firstCreatePass){const c=ro(i);Ym(t,o.data,o.blueprint,c,!0),Ym(n,o.data,o.blueprint,c,!1)}}(o,c?c(i):i,n)}}class Km{}const oM="ngComponent";class EN{resolveComponentFactory(n){throw function(i){const n=Error(`No component factory found for ${ct(i)}. Did you add it to @NgModule.entryComponents?`);return n[oM]=i,n}(n)}}let ji=(()=>{class i{}return i.NULL=new EN,i})();function Md(...i){}function ss(i,n){return new mt(t1(i,n))}const DN=function(){return ss(kn(),le())};let mt=(()=>{class i{constructor(t){this.nativeElement=t}}return i.__NG_ELEMENT_ID__=DN,i})();function U0(i){return i instanceof mt?i.nativeElement:i}class ma{}let x2=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>wd(),i})();const wd=function(){const i=le(),t=ar(kn().index,i);return function(i){return i[11]}(no(t)?t:i)};let Jm=(()=>{class i{}return i.\u0275prov=Ce({token:i,providedIn:"root",factory:()=>null}),i})();class cs{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const $0=new cs("13.0.2"),M2={};function qc(i,n,t,o,c=!1){for(;null!==t;){const u=n[t.index];if(null!==u&&o.push(Un(u)),io(u))for(let g=10;g<u.length;g++){const b=u[g],x=b[1].firstChild;null!==x&&qc(b[1],b,x,o)}const m=t.type;if(8&m)qc(i,n,t.child,o);else if(32&m){const g=t8(t,n);let b;for(;b=g();)o.push(b)}else if(16&m){const g=_9(n,t);if(Array.isArray(g))o.push(...g);else{const b=Ac(n[16]);qc(b[1],b,g,o,!0)}}t=c?t.projectionNext:t.next}return o}class vu{constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,t=n[1];return qc(t,n,t.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(io(n)){const t=n[8],o=t?t.indexOf(this):-1;o>-1&&(O6(n,o),Cc(t,o))}this._attachedToViewContainer=!1}d9(this._lView[1],this._lView)}onDestroy(n){oC(this._lView[1],this._lView,null,n)}markForCheck(){w8(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){q9(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,n,t){Sf(!0);try{q9(i,n,t)}finally{Sf(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,B6(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class lM extends vu{constructor(n){super(n),this._view=n}detectChanges(){E8(this._view)}checkNoChanges(){!function(i){Sf(!0);try{E8(i)}finally{Sf(!1)}}(this._view)}get context(){return null}}class uM extends ji{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=jn(n);return new tp(t,this.ngModule)}}function ep(i){const n=[];for(let t in i)i.hasOwnProperty(t)&&n.push({propName:i[t],templateName:t});return n}const TN=new be("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Jf});class tp extends Km{constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=n.selectors.map(Gb).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return ep(this.componentDef.inputs)}get outputs(){return ep(this.componentDef.outputs)}create(n,t,o,c){const u=(c=c||this.ngModule)?function(i,n){return{get:(t,o,c)=>{const u=i.get(t,M2,c);return u!==M2||o===M2?u:n.get(t,o,c)}}}(n,c.injector):n,m=u.get(ma,xy),g=u.get(Jm,null),b=m.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",D=o?function(i,n,t){if(An(i))return i.selectRootElement(n,t===Lr.ShadowDom);let o="string"==typeof n?i.querySelector(n):n;return o.textContent="",o}(b,o,this.componentDef.encapsulation):N1(m.createRenderer(null,this.componentDef),x,function(i){const n=i.toLowerCase();return"svg"===n?by:"math"===n?"http://www.w3.org/1998/MathML/":null}(x)),k=this.componentDef.onPush?576:528,z=function(i,n){return{components:[],scheduler:i||Jf,clean:G9,playerHandler:n||null,flags:0}}(),L=C8(0,null,null,1,0,null,null,null,null,null),R=C0(null,L,z,k,null,null,m,b,g,u);let j,B;m6(R);try{const Q=function(i,n,t,o,c,u){const m=t[1];t[20]=i;const b=Nc(m,20,2,"#host",null),x=b.mergedAttrs=n.hostAttrs;null!==x&&(S8(b,x,!0),null!==i&&(vc(c,i,x),null!==b.classes&&C9(c,i,b.classes),null!==b.styles&&t2(c,i,b.styles)));const D=o.createRenderer(i,n),k=C0(t,G6(n),null,n.onPush?64:16,t[20],b,o,D,u||null,null);return m.firstCreatePass&&(t0(_6(b,t),m,n.type),hC(m,b),w0(b,t.length,1)),E0(t,k),t[20]=k}(D,this.componentDef,R,m,b);if(D)if(o)vc(b,D,["ng-version",$0.full]);else{const{attrs:K,classes:de}=function(i){const n=[],t=[];let o=1,c=2;for(;o<i.length;){let u=i[o];if("string"==typeof u)2===c?""!==u&&n.push(u,i[++o]):8===c&&t.push(u);else{if(!uo(c))break;c=u}o++}return{attrs:n,classes:t}}(this.componentDef.selectors[0]);K&&vc(b,D,K),de&&de.length>0&&C9(b,D,de.join(" "))}if(B=wf(L,20),void 0!==t){const K=B.projection=[];for(let de=0;de<this.ngContentSelectors.length;de++){const _e=t[de];K.push(null!=_e?Array.from(_e):null)}}j=function(i,n,t,o,c){const u=t[1],m=function(i,n,t){const o=kn();i.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),X6(i,o,n,fr(i,n,1,null),t));const c=Us(n,i,o.directiveStart,o);Ri(c,n);const u=t1(o,n);return u&&Ri(u,n),c}(u,t,n);if(o.components.push(m),i[8]=m,c&&c.forEach(b=>b(m,n)),n.contentQueries){const b=kn();n.contentQueries(1,m,b.directiveStart)}const g=kn();return!u.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(js(g.index),M0(t[1],g,0,g.directiveStart,g.directiveEnd,n),dr(n,m)),m}(Q,this.componentDef,R,z,[H8]),Ic(L,R,null)}finally{g6()}return new IN(this.componentType,j,ss(B,R),R,B)}}class IN extends class{}{constructor(n,t,o,c,u){super(),this.location=o,this._rootLView=c,this._tNode=u,this.instance=t,this.hostView=this.changeDetectorRef=new lM(c),this.componentType=n}get injector(){return new n0(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class w2{}const Wc=new Map;class op extends w2{constructor(n,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new uM(this);const o=T1(n);this._bootstrapComponents=n1(o.bootstrap),this._r3Injector=T8(n,t,[{provide:w2,useValue:this},{provide:ji,useValue:this.componentFactoryResolver}],ct(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,t=Kt.THROW_IF_NOT_FOUND,o=qe.Default){return n===Kt||n===w2||n===Y6?this:this._r3Injector.get(n,t,o)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Ad extends class{}{constructor(n){super(),this.moduleType=n,null!==T1(n)&&function(i){const n=new Set;!function t(o){const c=T1(o,!0),u=c.id;null!==u&&(function(i,n,t){if(n&&n!==t)throw new Error(`Duplicate module registered for ${i} - ${ct(n)} vs ${ct(n.name)}`)}(u,Wc.get(u),o),Wc.set(u,o));const m=n1(c.imports);for(const g of m)n.has(g)||(n.add(g),t(g))}(i)}(n)}create(n){return new op(this.moduleType,n)}}function ap(i,n,t,o,c,u){const m=n+t;return fn(i,m,c)?function(i,n,t){return i[n]=t}(i,m+1,u?o.call(u,c):o(c)):function(i,n){const t=i[n];return t===nt?void 0:t}(i,m+1)}function Td(i){return n=>{setTimeout(i,void 0,n)}}const it=class extends st{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,o){var b,x,D;let c=n,u=t||(()=>null),m=o;if(n&&"object"==typeof n){const k=n;c=null==(b=k.next)?void 0:b.bind(k),u=null==(x=k.error)?void 0:x.bind(k),m=null==(D=k.complete)?void 0:D.bind(k)}this.__isAsync&&(u=Td(u),c&&(c=Td(c)),m&&(m=Td(m)));const g=super.subscribe({next:c,error:u,complete:m});return n instanceof Nt&&n.add(g),g}};function ls(){return this._results[k0()]()}class On{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=k0(),o=On.prototype;o[t]||(o[t]=ls)}get changes(){return this._changes||(this._changes=new it)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const o=this;o.dirty=!1;const c=Fi(n);(this._changesDetected=!function(i,n,t){if(i.length!==n.length)return!1;for(let o=0;o<i.length;o++){let c=i[o],u=n[o];if(t&&(c=t(c),u=t(u)),u!==c)return!1}return!0}(o._results,c,t))&&(o._results=c,o.length=c.length,o.last=c[this.length-1],o.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;const up=function(){return xu(kn(),le())};let si=(()=>{class i{}return i.__NG_ELEMENT_ID__=up,i})();const pr=si,WN=class extends pr{constructor(n,t,o){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=o}createEmbeddedView(n){const t=this._declarationTContainer.tViews,o=C0(this._declarationLView,t,n,16,null,t.declTNode,null,null,null,null);o[17]=this._declarationLView[this._declarationTContainer.index];const u=this._declarationLView[19];return null!==u&&(o[19]=u.createEmbeddedView(t)),Ic(t,o,n),new vu(o)}};function xu(i,n){return 4&i.type?new WN(n,i,ss(i,n)):null}const xM=function(){return dp(kn(),le())};let gr=(()=>{class i{}return i.__NG_ELEMENT_ID__=xM,i})();const Gc=gr,Xc=class extends Gc{constructor(n,t,o){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=o}get element(){return ss(this._hostTNode,this._hostLView)}get injector(){return new n0(this._hostTNode,this._hostLView)}get parentInjector(){const n=If(this._hostTNode,this._hostLView);if(Hy(n)){const t=_c(n,this._hostLView),o=e0(n);return new n0(t[1].data[o+8],t)}return new n0(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=Nd(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,t,o){const c=n.createEmbeddedView(t||{});return this.insert(c,o),c}createComponent(n,t,o,c,u){const m=n&&!function(i){return"function"==typeof i}(n);let g;if(m)g=t;else{const k=t||{};g=k.index,o=k.injector,c=k.projectableNodes,u=k.ngModuleRef}const b=m?n:new tp(jn(n)),x=o||this.parentInjector;if(!u&&null==b.ngModule&&x){const k=x.get(w2,null);k&&(u=k)}const D=b.create(x,c,void 0,u);return this.insert(D.hostView,g),D}insert(n,t){const o=n._lView,c=o[1];if(io(o[3])){const D=this.indexOf(n);if(-1!==D)this.detach(D);else{const k=o[3],z=new Xc(k,k[6],k[3]);z.detach(z.indexOf(n))}}const u=this._adjustIndex(t),m=this._lContainer;!function(i,n,t,o){const c=10+o,u=t.length;o>0&&(t[c-1][4]=n),o<u-10?(n[4]=t[c],Ws(t,10+o,n)):(t.push(n),n[4]=null),n[3]=t;const m=n[17];null!==m&&t!==m&&function(i,n){const t=i[9];n[16]!==n[3][3][16]&&(i[2]=!0),null===t?i[9]=[n]:t.push(n)}(m,n);const g=n[19];null!==g&&g.insertView(i),n[2]|=128}(c,o,m,u);const g=l8(u,m),b=o[11],x=P6(b,m[7]);return null!==x&&function(i,n,t,o,c,u){o[0]=c,o[6]=n,B6(i,o,t,1,c,u)}(c,m[6],b,o,x,g),n.attachToViewContainerRef(),Ws(fp(m),u,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=Nd(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),o=O6(this._lContainer,t);o&&(Cc(fp(this._lContainer),t),d9(o[1],o))}detach(n){const t=this._adjustIndex(n,-1),o=O6(this._lContainer,t);return o&&null!=Cc(fp(this._lContainer),t)?new vu(o):null}_adjustIndex(n,t=0){return null==n?this.length+t:n}};function Nd(i){return i[8]}function fp(i){return i[8]||(i[8]=[])}function dp(i,n){let t;const o=n[i.index];if(io(o))t=o;else{let c;if(8&i.type)c=Un(o);else{const u=n[11];c=u.createComment("");const m=t1(i,n);e2(u,P6(u,m),c,function(i,n){return An(i)?i.nextSibling(n):n.nextSibling}(u,m),!1)}n[i.index]=t=j9(o,n,c,i),E0(n,t)}return new Xc(t,i,n)}class Mu{constructor(n){this.queryList=n,this.matches=null}clone(){return new Mu(this.queryList)}setDirty(){this.queryList.setDirty()}}class hp{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const o=null!==n.contentQueries?n.contentQueries[0]:t.length,c=[];for(let u=0;u<o;u++){const m=t.getByIndex(u);c.push(this.queries[m.indexInDeclarationView].clone())}return new hp(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==DM(n,t).matches&&this.queries[t].setDirty()}}class EM{constructor(n,t,o=null){this.predicate=n,this.flags=t,this.read=o}}class Id{constructor(n=[]){this.queries=n}elementStart(n,t){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let o=0;o<this.length;o++){const c=null!==t?t.length:0,u=this.getByIndex(o).embeddedTView(n,c);u&&(u.indexInDeclarationView=o,null!==t?t.push(u):t=[u])}return null!==t?new Id(t):null}template(n,t){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class mp{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new mp(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==t;)o=o.parent;return t===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const o=this.metadata.predicate;if(Array.isArray(o))for(let c=0;c<o.length;c++){const u=o[c];this.matchTNodeWithReadOption(n,t,KN(t,u)),this.matchTNodeWithReadOption(n,t,Lf(t,n,u,!1,!1))}else o===si?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Lf(t,n,o,!1,!1))}matchTNodeWithReadOption(n,t,o){if(null!==o){const c=this.metadata.read;if(null!==c)if(c===mt||c===gr||c===si&&4&t.type)this.addMatch(t.index,-2);else{const u=Lf(t,n,c,!1,!1);null!==u&&this.addMatch(t.index,u)}else this.addMatch(t.index,o)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function KN(i,n){const t=i.localNames;if(null!==t)for(let o=0;o<t.length;o+=2)if(t[o]===n)return t[o+1];return null}function W0(i,n,t,o){return-1===t?function(i,n){return 11&i.type?ss(i,n):4&i.type?xu(i,n):null}(n,i):-2===t?function(i,n,t){return t===mt?ss(n,i):t===si?xu(n,i):t===gr?dp(n,i):void 0}(i,n,o):Us(i,i[1],t,n)}function P1(i,n,t,o){const c=n[19].queries[o];if(null===c.matches){const u=i.data,m=t.matches,g=[];for(let b=0;b<m.length;b+=2){const x=m[b];g.push(x<0?null:W0(n,u[x],m[b+1],t.metadata.read))}c.matches=g}return c.matches}function pa(i,n,t,o){const c=i.queries.getByIndex(t),u=c.matches;if(null!==u){const m=P1(i,n,c,t);for(let g=0;g<u.length;g+=2){const b=u[g];if(b>0)o.push(m[g/2]);else{const x=u[g+1],D=n[-b];for(let k=10;k<D.length;k++){const z=D[k];z[17]===z[3]&&pa(z[1],z,x,o)}if(null!==D[9]){const k=D[9];for(let z=0;z<k.length;z++){const L=k[z];pa(L[1],L,x,o)}}}}}return o}function vt(i){const n=le(),t=St(),o=zy();k7(o+1);const c=DM(t,o);if(i.dirty&&w7(n)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const u=c.crossesNgTemplate?pa(t,n,o,[]):P1(t,n,c,o);i.reset(u,U0),i.notifyOnChanges()}return!0}return!1}function Pn(i,n,t){const o=St();o.firstCreatePass&&(Ui(o,new EM(i,n,t),-1),2==(2&n)&&(o.staticViewQueries=!0)),Ld(o,le(),n)}function Jn(i,n,t,o){const c=St();if(c.firstCreatePass){const u=kn();Ui(c,new EM(n,t,o),u.index),function(i,n){const t=i.contentQueries||(i.contentQueries=[]);n!==(t.length?t[t.length-1]:-1)&&t.push(i.queries.length-1,n)}(c,i),2==(2&t)&&(c.staticContentQueries=!0)}Ld(c,le(),t)}function _t(){return i=le(),n=zy(),i[19].queries[n].queryList;var i,n}function Ld(i,n,t){const o=new On(4==(4&t));oC(i,n,o,o.destroy),null===n[19]&&(n[19]=new hp),n[19].queries.push(new Mu(o))}function Ui(i,n,t){null===i.queries&&(i.queries=new Id),i.queries.track(new mp(n,t))}function DM(i,n){return i.queries.getByIndex(n)}const Eu=new be("Application Initializer");let Z0=(()=>{class i{constructor(t){this.appInits=t,this.resolve=Md,this.reject=Md,this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,c)=>{this.resolve=o,this.reject=c})}runInitializers(){if(this.initialized)return;const t=[],o=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const u=this.appInits[c]();if(Q8(u))t.push(u);else if(R1(u)){const m=new Promise((g,b)=>{u.subscribe({complete:g,error:b})});t.push(m)}}Promise.all(t).then(()=>{o()}).catch(c=>{this.reject(c)}),0===t.length&&o(),this.initialized=!0}}return i.\u0275fac=function(t){return new(t||i)(ce(Eu,8))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();const Du=new be("AppId"),OM={provide:Du,useFactory:function(){return`${jd()}${jd()}${jd()}`},deps:[]};function jd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Tp=new be("Platform Initializer"),Su=new be("Platform ID"),yI=new be("appBootstrapListener");let Ud=(()=>{class i{log(t){console.log(t)}warn(t){console.warn(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();const fs=new be("LocaleId"),PM=new be("DefaultCurrencyCode");class CI{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}const Np=function(i){return new Ad(i)},MI=Np,wI=function(i){return Promise.resolve(Np(i))},Ip=function(i){const n=Np(i),o=n1(T1(i).declarations).reduce((c,u)=>{const m=jn(u);return m&&c.push(new tp(m)),c},[]);return new CI(n,o)},Lp=Ip,jM=function(i){return Promise.resolve(Ip(i))};let UM=(()=>{class i{constructor(){this.compileModuleSync=MI,this.compileModuleAsync=wI,this.compileModuleAndAllComponentsSync=Lp,this.compileModuleAndAllComponentsAsync=jM}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();const DI=(()=>Promise.resolve(0))();function Fp(i){"undefined"==typeof Zone?DI.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Et{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new it(!1),this.onMicrotaskEmpty=new it(!1),this.onStable=new it(!1),this.onError=new it(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!o&&t,c.shouldCoalesceRunChangeDetection=o,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let i=Ft.requestAnimationFrame,n=Ft.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&n){const t=i[Zone.__symbol__("OriginalDelegate")];t&&(i=t);const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(i){const n=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Ft,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Vp(i),i.isCheckStableRunning=!0,Rp(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Vp(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,o,c,u,m,g)=>{try{return Op(i),t.invokeTask(c,u,m,g)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===u.type||i.shouldCoalesceRunChangeDetection)&&n(),$d(i)}},onInvoke:(t,o,c,u,m,g,b)=>{try{return Op(i),t.invoke(c,u,m,g,b)}finally{i.shouldCoalesceRunChangeDetection&&n(),$d(i)}},onHasTask:(t,o,c,u)=>{t.hasTask(c,u),o===c&&("microTask"==u.change?(i._hasPendingMicrotasks=u.microTask,Vp(i),Rp(i)):"macroTask"==u.change&&(i.hasPendingMacrotasks=u.macroTask))},onHandleError:(t,o,c,u)=>(t.handleError(c,u),i.runOutsideAngular(()=>i.onError.emit(u)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Et.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Et.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,t,o){return this._inner.run(n,t,o)}runTask(n,t,o,c){const u=this._inner,m=u.scheduleEventTask("NgZoneEvent: "+c,n,qM,Md,Md);try{return u.runTask(m,t,o)}finally{u.cancelTask(m)}}runGuarded(n,t,o){return this._inner.runGuarded(n,t,o)}runOutsideAngular(n){return this._outer.run(n)}}const qM={};function Rp(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Vp(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Op(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function $d(i){i._nesting--,Rp(i)}class WM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new it,this.onMicrotaskEmpty=new it,this.onStable=new it,this.onError=new it}run(n,t,o){return n.apply(t,o)}runGuarded(n,t,o){return n.apply(t,o)}runOutsideAngular(n){return n()}runTask(n,t,o,c){return n.apply(t,o)}}let qd=(()=>{class i{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Et.assertNotInAngularZone(),Fp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Fp(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(t)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,o,c){let u=-1;o&&o>0&&(u=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==u),t(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:t,timeoutId:u,updateCb:c})}whenStable(t,o,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,o,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,o,c){return[]}}return i.\u0275fac=function(t){return new(t||i)(ce(Et))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})(),Pp=(()=>{class i{constructor(){this._applications=new Map,Au.addToWindow(this)}registerApplication(t,o){this._applications.set(t,o)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,o=!0){return Au.findTestabilityInTree(this,t,o)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();class GM{addToWindow(n){}findTestabilityInTree(n,t,o){return null}}let Au=new GM,YM=!0,ZM=!1;function Hp(){return ZM=!0,YM}let vr;const Oe=new be("AllowMultipleToken");function xn(i,n,t=[]){const o=`Platform: ${n}`,c=new be(o);return(u=[])=>{let m=Nn();if(!m||m.injector.get(Oe,!1))if(i)i(t.concat(u).concat({provide:c,useValue:!0}));else{const g=t.concat(u).concat({provide:c,useValue:!0},{provide:I1,useValue:"platform"});!function(i){if(vr&&!vr.destroyed&&!vr.injector.get(Oe,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");vr=i.get(pt);const n=i.get(Tp,null);n&&n.forEach(t=>t())}(Kt.create({providers:g,name:o}))}return function(i){const n=Nn();if(!n)throw new Error("No platform exists!");if(!n.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}(c)}}function Nn(){return vr&&!vr.destroyed?vr:null}let pt=(()=>{class i{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,o){const g=function(i,n){let t;return t="noop"===i?new WM:("zone.js"===i?void 0:i)||new Et({enableLongStackTrace:Hp(),shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),t}(o?o.ngZone:void 0,{ngZoneEventCoalescing:o&&o.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:o&&o.ngZoneRunCoalescing||!1}),b=[{provide:Et,useValue:g}];return g.run(()=>{const x=Kt.create({providers:b,parent:this.injector,name:t.moduleType.name}),D=t.create(x),k=D.injector.get(lo,null);if(!k)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return g.runOutsideAngular(()=>{const z=g.onError.subscribe({next:L=>{k.handleError(L)}});D.onDestroy(()=>{Q0(this._modules,D),z.unsubscribe()})}),function(i,n,t){try{const o=t();return Q8(o)?o.catch(c=>{throw n.runOutsideAngular(()=>i.handleError(c)),c}):o}catch(o){throw n.runOutsideAngular(()=>i.handleError(o)),o}}(k,g,()=>{const z=D.injector.get(Z0);return z.runInitializers(),z.donePromise.then(()=>(function(i){D1(i,"Expected localeId to be defined"),"string"==typeof i&&(hd=i.toLowerCase().replace(/_/g,"-"))}(D.injector.get(fs,da)||da),this._moduleDoBootstrap(D),D))})})}bootstrapModule(t,o=[]){const c=s1({},o);return function(i,n,t){const o=new Ad(t);return Promise.resolve(o)}(0,0,t).then(u=>this.bootstrapModuleFactory(u,c))}_moduleDoBootstrap(t){const o=t.injector.get(Le);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(c=>o.bootstrap(c));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${ct(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(o)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(t){return new(t||i)(ce(Kt))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();function s1(i,n){return Array.isArray(n)?n.reduce(s1,i):Ct(Ct({},i),n)}let Le=(()=>{class i{constructor(t,o,c,u,m){this._zone=t,this._injector=o,this._exceptionHandler=c,this._componentFactoryResolver=u,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new Lt(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),b=new Lt(x=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Et.assertNotInAngularZone(),Fp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Et.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{D.unsubscribe(),k.unsubscribe()}});this.isStable=ic(g,b.pipe(function(i={}){const{connector:n=(()=>new st),resetOnError:t=!0,resetOnComplete:o=!0,resetOnRefCountZero:c=!0}=i;return u=>{let m=null,g=null,b=null,x=0,D=!1,k=!1;const z=()=>{null==g||g.unsubscribe(),g=null},L=()=>{z(),m=b=null,D=k=!1},R=()=>{const j=m;L(),null==j||j.unsubscribe()};return nn((j,B)=>{x++,!k&&!D&&z();const Q=b=null!=b?b:n();B.add(()=>{x--,0===x&&!k&&!D&&(g=J_(R,c))}),Q.subscribe(B),m||(m=new J4({next:K=>Q.next(K),error:K=>{k=!0,z(),g=J_(L,t,K),Q.error(K)},complete:()=>{D=!0,z(),g=J_(L,o),Q.complete()}}),nc(j).subscribe(m))})(u)}}()))}bootstrap(t,o){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let c;c=t instanceof Km?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(c.componentType);const u=function(i){return i.isBoundToModule}(c)?void 0:this._injector.get(w2),g=c.create(Kt.NULL,[],o||c.selector,u),b=g.location.nativeElement,x=g.injector.get(qd,null),D=x&&g.injector.get(Pp);return x&&D&&D.registerApplication(b,x),g.onDestroy(()=>{this.detachView(g.hostView),Q0(this.components,g),D&&D.unregisterApplication(b)}),this._loadComponent(g),g}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const o=t;this._views.push(o),o.attachToAppRef(this)}detachView(t){const o=t;Q0(this._views,o),o.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(yI,[]).concat(this._bootstrapListeners).forEach(c=>c(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(t){return new(t||i)(ce(Et),ce(Kt),ce(lo),ce(ji),ce(Z0))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();function Q0(i,n){const t=i.indexOf(n);t>-1&&i.splice(t,1)}const wq=function(i){return function(i,n,t){if(yf(i)&&!t){const o=ar(i.index,n);return new vu(o,o)}return 47&i.type?new vu(n[16],n):null}(kn(),le(),16==(16&i))};let Bt=(()=>{class i{}return i.__NG_ELEMENT_ID__=wq,i})();class Xp{constructor(){}supports(n){return o1(n)}create(n){return new RI(n)}}const FI=(i,n)=>n;class RI{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||FI}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,o=this._removalsHead,c=0,u=null;for(;t||o;){const m=!o||t&&t.currentIndex<fw(o,c,u)?t:o,g=fw(m,c,u),b=m.currentIndex;if(m===o)c--,o=o._nextRemoved;else if(t=t._next,null==m.previousIndex)c++;else{u||(u=[]);const x=g-c,D=b-c;if(x!=D){for(let z=0;z<x;z++){const L=z<u.length?u[z]:u[z]=0,R=L+z;D<=R&&R<x&&(u[z]=L+1)}u[m.previousIndex]=D-x}}g!==b&&n(m,g,b)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!o1(n))throw new Error(`Error trying to diff '${ct(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,u,m,t=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let g=0;g<this.length;g++)u=n[g],m=this._trackByFn(g,u),null!==t&&Object.is(t.trackById,m)?(o&&(t=this._verifyReinsertion(t,u,m,g)),Object.is(t.item,u)||this._addIdentityChange(t,u)):(t=this._mismatch(t,u,m,g),o=!0),t=t._next}else c=0,function(i,n){if(Array.isArray(i))for(let t=0;t<i.length;t++)n(i[t]);else{const t=i[k0()]();let o;for(;!(o=t.next()).done;)n(o.value)}}(n,g=>{m=this._trackByFn(c,g),null!==t&&Object.is(t.trackById,m)?(o&&(t=this._verifyReinsertion(t,g,m,c)),Object.is(t.item,g)||this._addIdentityChange(t,g)):(t=this._mismatch(t,g,m,c),o=!0),t=t._next,c++}),this.length=c;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,o,c){let u;return null===n?u=this._itTail:(u=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,u,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,c))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,u,c)):n=this._addAfter(new lw(t,o),u,c),n}_verifyReinsertion(n,t,o,c){let u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==u?n=this._reinsertAfter(u,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,u=n._nextRemoved;return null===c?this._removalsHead=u:c._nextRemoved=u,null===u?this._removalsTail=c:u._prevRemoved=c,this._insertAfter(n,t,o),this._addToMoves(n,o),n}_moveAfter(n,t,o){return this._unlink(n),this._insertAfter(n,t,o),this._addToMoves(n,o),n}_addAfter(n,t,o){return this._insertAfter(n,t,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,o){const c=null===t?this._itHead:t._next;return n._next=c,n._prev=t,null===c?this._itTail=n:c._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new uw),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,o=n._next;return null===t?this._itHead=o:t._next=o,null===o?this._itTail=t:o._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uw),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class lw{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VI{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===t||t<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const t=n._prevDup,o=n._nextDup;return null===t?this._head=o:t._nextDup=o,null===o?this._tail=t:o._prevDup=t,null===this._head}}class uw{constructor(){this.map=new Map}put(n){const t=n.trackById;let o=this.map.get(t);o||(o=new VI,this.map.set(t,o)),o.add(n)}get(n,t){const c=this.map.get(n);return c?c.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fw(i,n,t){const o=i.previousIndex;if(null===o)return o;let c=0;return t&&o<t.length&&(c=t[o]),o+n+c}class Yp{constructor(){}supports(n){return n instanceof Map||T0(n)}create(){return new dw}}class dw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||T0(n)))throw new Error(`Error trying to diff '${ct(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,c)=>{if(t&&t.key===c)this._maybeAddToChanges(t,o),this._appendAfter=t,t=t._next;else{const u=this._getOrCreateRecordForKey(c,o);t=this._insertBeforeOrAppend(t,u)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let o=t;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const o=n._prev;return t._next=n,t._prev=o,n._prev=t,o&&(o._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,t);const u=c._prev,m=c._next;return u&&(u._next=m),m&&(m._prev=u),c._next=null,c._prev=null,c}const o=new hw(n);return this._records.set(n,o),o.currentValue=t,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(o=>t(n[o],o))}}class hw{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Kd(){return new Qc([new Xp])}let Qc=(()=>{class i{constructor(t){this.factories=t}static create(t,o){if(null!=o){const c=o.factories.slice();t=t.concat(c)}return new i(t)}static extend(t){return{provide:i,useFactory:o=>i.create(t,o||Kd()),deps:[[i,new ja,new Fr]]}}find(t){const o=this.factories.find(c=>c.supports(t));if(null!=o)return o;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(i){return i.name||typeof i}(t)}'`)}}return i.\u0275prov=Ce({token:i,providedIn:"root",factory:Kd}),i})();function Zp(){return new ya([new Yp])}let ya=(()=>{class i{constructor(t){this.factories=t}static create(t,o){if(o){const c=o.factories.slice();t=t.concat(c)}return new i(t)}static extend(t){return{provide:i,useFactory:o=>i.create(t,o||Zp()),deps:[[i,new ja,new Fr]]}}find(t){const o=this.factories.find(c=>c.supports(t));if(o)return o;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return i.\u0275prov=Ce({token:i,providedIn:"root",factory:Zp}),i})();const Lu=[new Yp],OI=new Qc([new Xp]),pw=new ya(Lu),gw=xn(null,"core",[{provide:Su,useValue:"unknown"},{provide:pt,deps:[Kt]},{provide:Pp,deps:[]},{provide:Ud,deps:[]}]),eh=[{provide:Le,useClass:Le,deps:[Et,Kt,lo,ji,Z0]},{provide:TN,deps:[Et],useFactory:function(i){let n=[];return i.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(t){n.push(t)}}},{provide:Z0,useClass:Z0,deps:[[new Fr,Eu]]},{provide:UM,useClass:UM,deps:[]},OM,{provide:Qc,useFactory:function(){return OI},deps:[]},{provide:ya,useFactory:function(){return pw},deps:[]},{provide:fs,useFactory:function(i){return i||"undefined"!=typeof $localize&&$localize.locale||da},deps:[[new s0(fs),new Fr,new ja]]},{provide:PM,useValue:"USD"}];let Cw=(()=>{class i{constructor(t){}}return i.\u0275fac=function(t){return new(t||i)(ce(Le))},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({providers:eh}),i})(),al=null;function So(){return al}const ut=new be("DocumentToken");let sl=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:function(){return ce(xg)},providedIn:"platform"}),i})(),xg=(()=>{class i extends sl{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return So().getBaseHref(this._doc)}onPopState(t){const o=So().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",t,!1),()=>o.removeEventListener("popstate",t)}onHashChange(t){const o=So().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",t,!1),()=>o.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,o,c){cE()?this._history.pushState(t,o,c):this.location.hash=c}replaceState(t,o,c){cE()?this._history.replaceState(t,o,c):this.location.hash=c}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return i.\u0275fac=function(t){return new(t||i)(ce(ut))},i.\u0275prov=Ce({token:i,factory:function(){return new xg(ce(ut))},providedIn:"platform"}),i})();function cE(){return!!window.history.pushState}function lE(i,n){if(0==i.length)return n;if(0==n.length)return i;let t=0;return i.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?i+n.substring(1):1==t?i+n:i+"/"+n}function uE(i){const n=i.match(/#|\?|$/),t=n&&n.index||i.length;return i.slice(0,t-("/"===i[t-1]?1:0))+i.slice(t)}function cl(i){return i&&"?"!==i[0]?"?"+i:i}let Mg=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:function(){return function(i){const n=ce(ut).location;return new fE(ce(sl),n&&n.origin||"")}()},providedIn:"root"}),i})();const WL=new be("appBaseHref");let fE=(()=>{class i extends Mg{constructor(t,o){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return lE(this._baseHref,t)}path(t=!1){const o=this._platformLocation.pathname+cl(this._platformLocation.search),c=this._platformLocation.hash;return c&&t?`${o}${c}`:o}pushState(t,o,c,u){const m=this.prepareExternalUrl(c+cl(u));this._platformLocation.pushState(t,o,m)}replaceState(t,o,c,u){const m=this.prepareExternalUrl(c+cl(u));this._platformLocation.replaceState(t,o,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var o,c;null==(c=(o=this._platformLocation).historyGo)||c.call(o,t)}}return i.\u0275fac=function(t){return new(t||i)(ce(sl),ce(WL,8))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})(),dE=(()=>{class i{constructor(t,o){this._subject=new it,this._urlChangeListeners=[],this._platformStrategy=t;const c=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=uE(d4(c)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,o=""){return this.path()==this.normalize(t+cl(o))}normalize(t){return i.stripTrailingSlash(function(i,n){return i&&n.startsWith(i)?n.substring(i.length):n}(this._baseHref,d4(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,o="",c=null){this._platformStrategy.pushState(c,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+cl(o)),c)}replaceState(t,o="",c=null){this._platformStrategy.replaceState(c,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+cl(o)),c)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var o,c;null==(c=(o=this._platformStrategy).historyGo)||c.call(o,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(t="",o){this._urlChangeListeners.forEach(c=>c(t,o))}subscribe(t,o,c){return this._subject.subscribe({next:t,error:o,complete:c})}}return i.normalizeQueryParams=cl,i.joinWithSlash=lE,i.stripTrailingSlash=uE,i.\u0275fac=function(t){return new(t||i)(ce(Mg),ce(sl))},i.\u0275prov=Ce({token:i,factory:function(){return new dE(ce(Mg),ce(sl))},providedIn:"root"}),i})();function d4(i){return i.replace(/\/index.html$/,"")}var Hn=(()=>((Hn=Hn||{})[Hn.Zero=0]="Zero",Hn[Hn.One=1]="One",Hn[Hn.Two=2]="Two",Hn[Hn.Few=3]="Few",Hn[Hn.Many=4]="Many",Hn[Hn.Other=5]="Other",Hn))();const eF=function(i){return function(i){const n=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let t=ud(n);if(t)return t;const o=n.split("-")[0];if(t=ud(o),t)return t;if("en"===o)return Jz;throw new Error(`Missing locale data for the locale "${i}".`)}(i)[we.PluralCase]};class Fh{}let CF=(()=>{class i extends Fh{constructor(t){super(),this.locale=t}getPluralCategory(t,o){switch(eF(o||this.locale)(t)){case Hn.Zero:return"zero";case Hn.One:return"one";case Hn.Two:return"two";case Hn.Few:return"few";case Hn.Many:return"many";default:return"other"}}}return i.\u0275fac=function(t){return new(t||i)(ce(fs))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})(),Rh=(()=>{class i{constructor(t,o,c,u){this._iterableDiffers=t,this._keyValueDiffers=o,this._ngEl=c,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(o1(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${ct(o.item)}`);this._toggleClass(o.item,!0)}),t.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!0)):Object.keys(t).forEach(o=>this._toggleClass(o,!!t[o])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!1)):Object.keys(t).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(t,o){(t=t.trim())&&t.split(/\s+/g).forEach(c=>{o?this._renderer.addClass(this._ngEl.nativeElement,c):this._renderer.removeClass(this._ngEl.nativeElement,c)})}}return i.\u0275fac=function(t){return new(t||i)(U(Qc),U(ya),U(mt),U(x2))},i.\u0275dir=Ee({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),i})();class wF{constructor(n,t,o,c){this.$implicit=n,this.ngForOf=t,this.index=o,this.count=c}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let dl=(()=>{class i{constructor(t,o,c){this._viewContainer=t,this._template=o,this._differs=c,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(o){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(i){return i.name||typeof i}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const o=[];t.forEachOperation((c,u,m)=>{if(null==c.previousIndex){const g=this._viewContainer.createEmbeddedView(this._template,new wF(null,this._ngForOf,-1,-1),null===m?void 0:m),b=new Vh(c,g);o.push(b)}else if(null==m)this._viewContainer.remove(null===u?void 0:u);else if(null!==u){const g=this._viewContainer.get(u);this._viewContainer.move(g,m);const b=new Vh(c,g);o.push(b)}});for(let c=0;c<o.length;c++)this._perViewChange(o[c].view,o[c].record);for(let c=0,u=this._viewContainer.length;c<u;c++){const m=this._viewContainer.get(c);m.context.index=c,m.context.count=u,m.context.ngForOf=this._ngForOf}t.forEachIdentityChange(c=>{this._viewContainer.get(c.currentIndex).context.$implicit=c.item})}_perViewChange(t,o){t.context.$implicit=o.item}static ngTemplateContextGuard(t,o){return!0}}return i.\u0275fac=function(t){return new(t||i)(U(gr),U(si),U(Qc))},i.\u0275dir=Ee({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class Vh{constructor(n,t){this.record=n,this.view=t}}let N2=(()=>{class i{constructor(t,o){this._viewContainer=t,this._context=new Cs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ME("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ME("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,o){return!0}}return i.\u0275fac=function(t){return new(t||i)(U(gr),U(si))},i.\u0275dir=Ee({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class Cs{constructor(){this.$implicit=null,this.ngIf=null}}function ME(i,n){if(n&&!n.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${ct(n)}'.`)}class kg{constructor(n,t){this._viewContainerRef=n,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let hl=(()=>{class i{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const o=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||o,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),o}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let o=0;o<this._defaultViews.length;o++)this._defaultViews[o].enforceState(t)}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Ee({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),i})(),ml=(()=>{class i{constructor(t,o,c){this.ngSwitch=c,c._addCase(),this._view=new kg(t,o)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(t){return new(t||i)(U(gr),U(si),U(hl,9))},i.\u0275dir=Ee({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),i})(),Oh=(()=>{class i{constructor(t,o,c){c._addDefault(new kg(t,o))}}return i.\u0275fac=function(t){return new(t||i)(U(gr),U(si),U(hl,9))},i.\u0275dir=Ee({type:i,selectors:[["","ngSwitchDefault",""]]}),i})(),zg=(()=>{class i{constructor(t,o,c){this._ngEl=t,this._differs=o,this._renderer=c,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,o){const[c,u]=t.split(".");null!=(o=null!=o&&u?`${o}${u}`:o)?this._renderer.setStyle(this._ngEl.nativeElement,c,o):this._renderer.removeStyle(this._ngEl.nativeElement,c)}_applyChanges(t){t.forEachRemovedItem(o=>this._setStyle(o.key,null)),t.forEachAddedItem(o=>this._setStyle(o.key,o.currentValue)),t.forEachChangedItem(o=>this._setStyle(o.key,o.currentValue))}}return i.\u0275fac=function(t){return new(t||i)(U(mt),U(ya),U(x2))},i.\u0275dir=Ee({type:i,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),i})();class DE{createSubscription(n,t){return n.subscribe({next:t,error:o=>{throw o}})}dispose(n){n.unsubscribe()}onDestroy(n){n.unsubscribe()}}class Ig{createSubscription(n,t){return n.then(t,o=>{throw o})}dispose(n){}onDestroy(n){}}const Lg=new Ig,DF=new DE;let SE=(()=>{class i{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,o=>this._updateLatestValue(t,o))}_selectStrategy(t){if(Q8(t))return Lg;if(m2(t))return DF;throw function(i,n){return Error(`InvalidPipeArgument: '${n}' for pipe '${ct(i)}'`)}(i,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,o){t===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return i.\u0275fac=function(t){return new(t||i)(U(Bt,16))},i.\u0275pipe=ii({name:"async",type:i,pure:!1}),i})(),L2=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({providers:[{provide:Fh,useClass:CF}]}),i})();const TE="browser";function Rg(i){return i===TE}class Vg extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new Vg,al||(al=i)}onAndCancel(n,t,o){return n.addEventListener(t,o,!1),()=>{n.removeEventListener(t,o,!1)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=(i3=i3||document.querySelector("base"),i3?i3.getAttribute("href"):null);return null==t?null:function(i){v4=v4||document.createElement("a"),v4.setAttribute("href",i);const n=v4.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){i3=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function(i,n){n=encodeURIComponent(n);for(const t of i.split(";")){const o=t.indexOf("="),[c,u]=-1==o?[t,""]:[t.slice(0,o),t.slice(o+1)];if(c.trim()===n)return decodeURIComponent(u)}return null}(document.cookie,n)}}let v4,i3=null;const jh=new be("TRANSITION_ID"),Og=[{provide:Eu,useFactory:function(i,n,t){return()=>{t.get(Z0).donePromise.then(()=>{const o=So(),c=n.querySelectorAll(`style[ng-transition="${i}"]`);for(let u=0;u<c.length;u++)o.remove(c[u])})}},deps:[jh,ut,Kt],multi:!0}];class r3{static init(){var i;i=new r3,Au=i}addToWindow(n){Ft.getAngularTestability=(o,c=!0)=>{const u=n.findTestabilityInTree(o,c);if(null==u)throw new Error("Could not find testability for element.");return u},Ft.getAllAngularTestabilities=()=>n.getAllTestabilities(),Ft.getAllAngularRootElements=()=>n.getAllRootElements(),Ft.frameworkStabilizers||(Ft.frameworkStabilizers=[]),Ft.frameworkStabilizers.push(o=>{const c=Ft.getAllAngularTestabilities();let u=c.length,m=!1;const g=function(b){m=m||b,u--,0==u&&o(m)};c.forEach(function(b){b.whenStable(g)})})}findTestabilityInTree(n,t,o){if(null==t)return null;const c=n.getTestability(t);return null!=c?c:o?So().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null}}let $F=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();const o3=new be("EventManagerPlugins");let a3=(()=>{class i{constructor(t,o){this._zone=o,this._eventNameToPlugin=new Map,t.forEach(c=>c.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,o,c){return this._findPluginFor(o).addEventListener(t,o,c)}addGlobalEventListener(t,o,c){return this._findPluginFor(o).addGlobalEventListener(t,o,c)}getZone(){return this._zone}_findPluginFor(t){const o=this._eventNameToPlugin.get(t);if(o)return o;const c=this._plugins;for(let u=0;u<c.length;u++){const m=c[u];if(m.supports(t))return this._eventNameToPlugin.set(t,m),m}throw new Error(`No event manager plugin found for event ${t}`)}}return i.\u0275fac=function(t){return new(t||i)(ce(o3),ce(Et))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();class Ms{constructor(n){this._doc=n}addGlobalEventListener(n,t,o){const c=So().getGlobalEventTarget(this._doc,n);if(!c)throw new Error(`Unsupported event target ${c} for event ${t}`);return this.addEventListener(c,t,o)}}let Wh=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(t){const o=new Set;t.forEach(c=>{this._stylesSet.has(c)||(this._stylesSet.add(c),o.add(c))}),this.onStylesAdded(o)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})(),s3=(()=>{class i extends Wh{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,o,c){t.forEach(u=>{const m=this._doc.createElement("style");m.textContent=u,c.push(o.appendChild(m))})}addHost(t){const o=[];this._addStylesToHost(this._stylesSet,t,o),this._hostNodes.set(t,o)}removeHost(t){const o=this._hostNodes.get(t);o&&o.forEach(HE),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((o,c)=>{this._addStylesToHost(t,c,o)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(HE))}}return i.\u0275fac=function(t){return new(t||i)(ce(ut))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();function HE(i){So().remove(i)}const F2={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},$g=/%COMP%/g;function y4(i,n,t){for(let o=0;o<n.length;o++){let c=n[o];Array.isArray(c)?y4(i,c,t):(c=c.replace($g,i),t.push(c))}return t}function UE(i){return n=>{if("__ngUnwrap__"===n)return i;!1===i(n)&&(n.preventDefault(),n.returnValue=!1)}}let b4=(()=>{class i{constructor(t,o,c){this.eventManager=t,this.sharedStylesHost=o,this.appId=c,this.rendererByCompId=new Map,this.defaultRenderer=new pl(t)}createRenderer(t,o){if(!t||!o)return this.defaultRenderer;switch(o.encapsulation){case Lr.Emulated:{let c=this.rendererByCompId.get(o.id);return c||(c=new KF(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,c)),c.applyToHost(t),c}case 1:case Lr.ShadowDom:return new QF(this.eventManager,this.sharedStylesHost,t,o);default:if(!this.rendererByCompId.has(o.id)){const c=y4(o.id,o.styles,[]);this.sharedStylesHost.addStyles(c),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(t){return new(t||i)(ce(a3),ce(s3),ce(Du))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();class pl{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?document.createElementNS(F2[t]||t,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,t){n.appendChild(t)}insertBefore(n,t,o){n&&n.insertBefore(t,o)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let o="string"==typeof n?document.querySelector(n):n;if(!o)throw new Error(`The selector "${n}" did not match any elements`);return t||(o.textContent=""),o}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,o,c){if(c){t=c+":"+t;const u=F2[c];u?n.setAttributeNS(u,t,o):n.setAttribute(t,o)}else n.setAttribute(t,o)}removeAttribute(n,t,o){if(o){const c=F2[o];c?n.removeAttributeNS(c,t):n.removeAttribute(`${o}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,o,c){c&(Vr.DashCase|Vr.Important)?n.style.setProperty(t,o,c&Vr.Important?"important":""):n.style[t]=o}removeStyle(n,t,o){o&Vr.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,o){n[t]=o}setValue(n,t){n.nodeValue=t}listen(n,t,o){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,t,UE(o)):this.eventManager.addEventListener(n,t,UE(o))}}class KF extends pl{constructor(n,t,o,c){super(n),this.component=o;const u=y4(c+"-"+o.id,o.styles,[]);t.addStyles(u),this.contentAttr="_ngcontent-%COMP%".replace($g,c+"-"+o.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace($g,i)}(c+"-"+o.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,t){const o=super.createElement(n,t);return super.setAttribute(o,this.contentAttr,""),o}}class QF extends pl{constructor(n,t,o,c){super(n),this.sharedStylesHost=t,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=y4(c.id,c.styles,[]);for(let m=0;m<u.length;m++){const g=document.createElement("style");g.textContent=u[m],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,o){return super.insertBefore(this.nodeOrShadowRoot(n),t,o)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let JF=(()=>{class i extends Ms{constructor(t){super(t)}supports(t){return!0}addEventListener(t,o,c){return t.addEventListener(o,c,!1),()=>this.removeEventListener(t,o,c)}removeEventListener(t,o,c){return t.removeEventListener(o,c)}}return i.\u0275fac=function(t){return new(t||i)(ce(ut))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();const GE=["alt","control","meta","shift"],aR={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},C4={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},sR={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let cR=(()=>{class i extends Ms{constructor(t){super(t)}supports(t){return null!=i.parseEventName(t)}addEventListener(t,o,c){const u=i.parseEventName(o),m=i.eventCallback(u.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>So().onAndCancel(t,u.domEventName,m))}static parseEventName(t){const o=t.toLowerCase().split("."),c=o.shift();if(0===o.length||"keydown"!==c&&"keyup"!==c)return null;const u=i._normalizeKey(o.pop());let m="";if(GE.forEach(b=>{const x=o.indexOf(b);x>-1&&(o.splice(x,1),m+=b+".")}),m+=u,0!=o.length||0===u.length)return null;const g={};return g.domEventName=c,g.fullKey=m,g}static getEventFullKey(t){let o="",c=function(i){let n=i.key;if(null==n){if(n=i.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===i.location&&C4.hasOwnProperty(n)&&(n=C4[n]))}return aR[n]||n}(t);return c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),GE.forEach(u=>{u!=c&&sR[u](t)&&(o+=u+".")}),o+=c,o}static eventCallback(t,o,c){return u=>{i.getEventFullKey(u)===t&&c.runGuarded(()=>o(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return i.\u0275fac=function(t){return new(t||i)(ce(ut))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})(),vl=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:function(t){let o=null;return o=t?new(t||i):ce(Wg),o},providedIn:"root"}),i})(),Wg=(()=>{class i extends vl{constructor(t){super(),this._doc=t}sanitize(t,o){if(null==o)return null;switch(t){case Rt.NONE:return o;case Rt.HTML:return ia(o,"HTML")?Rr(o):Wf(this._doc,String(o)).toString();case Rt.STYLE:return ia(o,"Style")?Rr(o):o;case Rt.SCRIPT:if(ia(o,"Script"))return Rr(o);throw new Error("unsafe value used in a script context");case Rt.URL:return fb(o),ia(o,"URL")?Rr(o):z6(String(o));case Rt.RESOURCE_URL:if(ia(o,"ResourceURL"))return Rr(o);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function(i){return new wT(i)}(t)}bypassSecurityTrustStyle(t){return function(i){return new k6(i)}(t)}bypassSecurityTrustScript(t){return function(i){return new T6(i)}(t)}bypassSecurityTrustUrl(t){return function(i){return new ET(i)}(t)}bypassSecurityTrustResourceUrl(t){return function(i){return new ub(i)}(t)}}return i.\u0275fac=function(t){return new(t||i)(ce(ut))},i.\u0275prov=Ce({token:i,factory:function(t){let o=null;return o=t?new t:function(i){return new Wg(i.get(ut))}(ce(Kt)),o},providedIn:"root"}),i})();const uR=[{provide:Su,useValue:TE},{provide:Tp,useValue:function(){Vg.makeCurrent(),r3.init()},multi:!0},{provide:ut,useFactory:function(){return i=document,M7=i,document;var i},deps:[]}],dR=xn(gw,"browser",uR),hR=[[],{provide:I1,useValue:"root"},{provide:lo,useFactory:function(){return new lo},deps:[]},{provide:o3,useClass:JF,multi:!0,deps:[ut,Et,Su]},{provide:o3,useClass:cR,multi:!0,deps:[ut]},[],{provide:b4,useClass:b4,deps:[a3,s3,Du]},{provide:ma,useExisting:b4},{provide:Wh,useExisting:s3},{provide:s3,useClass:s3,deps:[ut]},{provide:qd,useClass:qd,deps:[Et]},{provide:a3,useClass:a3,deps:[o3,Et]},{provide:class{},useClass:$F,deps:[]},[]];let Yg=(()=>{class i{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:i,providers:[{provide:Du,useValue:t.appId},{provide:jh,useExisting:Du},Og]}}}return i.\u0275fac=function(t){return new(t||i)(ce(i,12))},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({providers:hR,imports:[L2,Cw]}),i})();function u3(i){return(u3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(i)}function YE(i,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function ZE(i,n,t){return n in i?Object.defineProperty(i,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[n]=t,i}function Dt(i){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),o.forEach(function(c){ZE(i,c,t[c])})}return i}function Qg(i,n){return function(i){if(Array.isArray(i))return i}(i)||function(i,n){var t=[],o=!0,c=!1,u=void 0;try{for(var g,m=i[Symbol.iterator]();!(o=(g=m.next()).done)&&(t.push(g.value),!n||t.length!==n);o=!0);}catch(b){c=!0,u=b}finally{try{!o&&null!=m.return&&m.return()}finally{if(c)throw u}}return t}(i,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}"undefined"!=typeof window&&window;var ev={},QE={};try{"undefined"!=typeof window&&(ev=window),"undefined"!=typeof document&&(QE=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(i){}var eD=(ev.navigator||{}).userAgent,fi=void 0===eD?"":eD,Ea=ev,Xn=QE,ko=!!Xn.documentElement&&!!Xn.head&&"function"==typeof Xn.addEventListener&&"function"==typeof Xn.createElement,ws=(~fi.indexOf("MSIE")||fi.indexOf("Trident/"),"___FONT_AWESOME___"),f3="svg-inline--fa",sD=[1,2,3,4,5,6,7,8,9,10],kR=sD.concat([11,12,13,14,15,16,17,18,19,20]),O2={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},iv=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",O2.GROUP,O2.SWAP_OPACITY,O2.PRIMARY,O2.SECONDARY].concat(sD.map(function(i){return"".concat(i,"x")})).concat(kR.map(function(i){return"w-".concat(i)})),Ea.FontAwesomeConfig||{});Xn&&"function"==typeof Xn.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(i){var n=Qg(i,2),o=n[1],c=function(i){return""===i||"false"!==i&&("true"===i||i)}(function(i){var n=Xn.querySelector("script["+i+"]");if(n)return n.getAttribute(i)}(n[0]));null!=c&&(iv[o]=c)});var d3=Dt({},{familyPrefix:"fa",replacementClass:f3,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},iv);d3.autoReplaceSvg||(d3.observeMutations=!1);var Ke=Dt({},d3);Ea.FontAwesomeConfig=Ke;var Da=Ea||{};Da[ws]||(Da[ws]={}),Da[ws].styles||(Da[ws].styles={}),Da[ws].hooks||(Da[ws].hooks={}),Da[ws].shims||(Da[ws].shims=[]);var To=Da[ws],rv=[];ko&&((Xn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Xn.readyState)||Xn.addEventListener("DOMContentLoaded",function i(){Xn.removeEventListener("DOMContentLoaded",i),rv.map(function(n){return n()})}));var ov,di="pending",ln="settled",A4="fulfilled",e5="rejected",lD=function(){},uD="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,FR="undefined"==typeof setImmediate?setTimeout:setImmediate,h3=[];function RR(){for(var i=0;i<h3.length;i++)h3[i][0](h3[i][1]);h3=[],ov=!1}function t5(i,n){h3.push([i,n]),ov||(ov=!0,FR(RR,0))}function fD(i){var n=i.owner,t=n._state,o=n._data,c=i[t],u=i.then;if("function"==typeof c){t=A4;try{o=c(o)}catch(m){P2(u,m)}}dD(u,o)||(t===A4&&av(u,o),t===e5&&P2(u,o))}function dD(i,n){var t;try{if(i===n)throw new TypeError("A promises callback cannot return that same promise.");if(n&&("function"==typeof n||"object"===u3(n))){var o=n.then;if("function"==typeof o)return o.call(n,function(c){t||(t=!0,n===c?sv(i,c):av(i,c))},function(c){t||(t=!0,P2(i,c))}),!0}}catch(c){return t||P2(i,c),!0}return!1}function av(i,n){(i===n||!dD(i,n))&&sv(i,n)}function sv(i,n){i._state===di&&(i._state=ln,i._data=n,t5(OR,i))}function P2(i,n){i._state===di&&(i._state=ln,i._data=n,t5(bl,i))}function cv(i){i._then=i._then.forEach(fD)}function OR(i){i._state=A4,cv(i)}function bl(i){i._state=e5,cv(i),!i._handled&&uD&&global.process.emit("unhandledRejection",i._data,i)}function lv(i){global.process.emit("rejectionHandled",i)}function h1(i){if("function"!=typeof i)throw new TypeError("Promise resolver "+i+" is not a function");if(!(this instanceof h1))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(i,n){function o(c){P2(n,c)}try{i(function(c){av(n,c)},o)}catch(c){o(c)}}(i,this)}h1.prototype={constructor:h1,_state:di,_then:null,_data:void 0,_handled:!1,then:function(n,t){var o={owner:this,then:new this.constructor(lD),fulfilled:n,rejected:t};return(t||n)&&!this._handled&&(this._handled=!0,this._state===e5&&uD&&t5(lv,this)),this._state===A4||this._state===e5?t5(fD,o):this._then.push(o),o.then},catch:function(n){return this.then(null,n)}},h1.all=function(i){if(!Array.isArray(i))throw new TypeError("You must pass an array to Promise.all().");return new h1(function(n,t){var o=[],c=0;function u(b){return c++,function(x){o[b]=x,--c||n(o)}}for(var g,m=0;m<i.length;m++)(g=i[m])&&"function"==typeof g.then?g.then(u(m),t):o[m]=g;c||n(o)})},h1.race=function(i){if(!Array.isArray(i))throw new TypeError("You must pass an array to Promise.race().");return new h1(function(n,t){for(var c,o=0;o<i.length;o++)(c=i[o])&&"function"==typeof c.then?c.then(n,t):n(c)})},h1.resolve=function(i){return i&&"object"===u3(i)&&i.constructor===h1?i:new h1(function(n){n(i)})},h1.reject=function(i){return new h1(function(n,t){t(i)})};var Ds={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function k4(){for(var i=12,n="";i-- >0;)n+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return n}function i5(i){return"".concat(i).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function r5(i){return Object.keys(i||{}).reduce(function(n,t){return n+"".concat(t,": ").concat(i[t],";")},"")}function fv(i){return i.size!==Ds.size||i.x!==Ds.x||i.y!==Ds.y||i.rotate!==Ds.rotate||i.flipX||i.flipY}function hD(i){var n=i.transform,o=i.iconWidth,c={transform:"translate(".concat(i.containerWidth/2," 256)")},u="translate(".concat(32*n.x,", ").concat(32*n.y,") "),m="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),g="rotate(".concat(n.rotate," 0 0)");return{outer:c,inner:{transform:"".concat(u," ").concat(m," ").concat(g)},path:{transform:"translate(".concat(o/2*-1," -256)")}}}var dv={x:0,y:0,width:"100%",height:"100%"};function gn(i){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return i.attributes&&(i.attributes.fill||n)&&(i.attributes.fill="black"),i}function $r(i){return"g"===i.tag?i.children:[i]}function o5(i){var n=i.icons,t=n.main,o=n.mask,c=i.prefix,u=i.iconName,m=i.transform,g=i.symbol,b=i.title,x=i.maskId,D=i.titleId,k=i.extra,z=i.watchable,L=void 0!==z&&z,R=o.found?o:t,j=R.width,B=R.height,Q="fak"===c,K=Q?"":"fa-w-".concat(Math.ceil(j/B*16)),de=[Ke.replacementClass,u?"".concat(Ke.familyPrefix,"-").concat(u):"",K].filter(function(ni){return-1===k.classes.indexOf(ni)}).filter(function(ni){return""!==ni||!!ni}).concat(k.classes).join(" "),_e={children:[],attributes:Dt({},k.attributes,{"data-prefix":c,"data-icon":u,class:de,role:k.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(j," ").concat(B)})},Ge=Q&&!~k.classes.indexOf("fa-fw")?{width:"".concat(j/B*16*.0625,"em")}:{};L&&(_e.attributes["data-fa-i2svg"]=""),b&&_e.children.push({tag:"title",attributes:{id:_e.attributes["aria-labelledby"]||"title-".concat(D||k4())},children:[b]});var wt=Dt({},_e,{prefix:c,iconName:u,main:t,mask:o,maskId:x,transform:m,symbol:g,styles:Dt({},Ge,k.styles)}),Wt=o.found&&t.found?function(i){var n=i.children,t=i.attributes,o=i.main,c=i.mask,u=i.maskId,b=o.icon,D=c.icon,k=hD({transform:i.transform,containerWidth:c.width,iconWidth:o.width}),z={tag:"rect",attributes:Dt({},dv,{fill:"white"})},L=b.children?{children:b.children.map(gn)}:{},R={tag:"g",attributes:Dt({},k.inner),children:[gn(Dt({tag:b.tag,attributes:Dt({},b.attributes,k.path)},L))]},j={tag:"g",attributes:Dt({},k.outer),children:[R]},B="mask-".concat(u||k4()),Q="clip-".concat(u||k4()),K={tag:"mask",attributes:Dt({},dv,{id:B,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[z,j]},de={tag:"defs",children:[{tag:"clipPath",attributes:{id:Q},children:$r(D)},K]};return n.push(de,{tag:"rect",attributes:Dt({fill:"currentColor","clip-path":"url(#".concat(Q,")"),mask:"url(#".concat(B,")")},dv)}),{children:n,attributes:t}}(wt):function(i){var n=i.children,t=i.attributes,o=i.main,c=i.transform,m=r5(i.styles);if(m.length>0&&(t.style=m),fv(c)){var g=hD({transform:c,containerWidth:o.width,iconWidth:o.width});n.push({tag:"g",attributes:Dt({},g.outer),children:[{tag:"g",attributes:Dt({},g.inner),children:[{tag:o.icon.tag,children:o.icon.children,attributes:Dt({},o.icon.attributes,g.path)}]}]})}else n.push(o.icon);return{children:n,attributes:t}}(wt),Ji=Wt.attributes;return wt.children=Wt.children,wt.attributes=Ji,g?function(i){var t=i.iconName,o=i.children,u=i.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Dt({},i.attributes,{id:!0===u?"".concat(i.prefix,"-").concat(Ke.familyPrefix,"-").concat(t):u}),children:o}]}]}(wt):function(i){var n=i.children,t=i.main,o=i.mask,c=i.attributes,u=i.styles,m=i.transform;if(fv(m)&&t.found&&!o.found){var x={x:t.width/t.height/2,y:.5};c.style=r5(Dt({},u,{"transform-origin":"".concat(x.x+m.x/16,"em ").concat(x.y+m.y/16,"em")}))}return[{tag:"svg",attributes:c,children:n}]}(wt)}var s5=function(n,t,o,c){var b,x,D,u=Object.keys(n),m=u.length,g=void 0!==c?function(n,t){return function(o,c,u,m){return n.call(t,o,c,u,m)}}(t,c):t;for(void 0===o?(b=1,D=n[u[0]]):(b=0,D=o);b<m;b++)D=g(D,n[x=u[b]],x,n);return D};function _D(i,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.skipHooks,c=void 0!==o&&o,u=Object.keys(n).reduce(function(m,g){var b=n[g];return b.icon?m[b.iconName]=b.icon:m[g]=b,m},{});"function"!=typeof To.hooks.addPack||c?To.styles[i]=Dt({},To.styles[i]||{},u):To.hooks.addPack(i,u),"fas"===i&&_D("fa",n)}var qr=To.styles,HR=To.shims,v3=function(){var n=function(c){return s5(qr,function(u,m,g){return u[g]=s5(m,c,{}),u},{})};n(function(o,c,u){return c[3]&&(o[c[3]]=u),o}),n(function(o,c,u){var m=c[2];return o[u]=u,m.forEach(function(g){o[g]=u}),o});var t="far"in qr;s5(HR,function(o,c){var m=c[1];return"far"===m&&!t&&(m="fas"),o[c[0]]={prefix:m,iconName:c[2]},o},{})};function f5(i,n,t){if(i&&i[n]&&i[n][t])return{prefix:n,iconName:t,icon:i[n][t]}}function H2(i){var n=i.tag,t=i.attributes,o=void 0===t?{}:t,c=i.children,u=void 0===c?[]:c;return"string"==typeof i?i5(i):"<".concat(n," ").concat(function(i){return Object.keys(i||{}).reduce(function(n,t){return n+"".concat(t,'="').concat(i5(i[t]),'" ')},"").trim()}(o),">").concat(u.map(H2).join(""),"</").concat(n,">")}v3();function wl(i){this.name="MissingIcon",this.message=i||"Icon unavailable",this.stack=(new Error).stack}(wl.prototype=Object.create(Error.prototype)).constructor=wl;var b3={fill:"currentColor"},wD={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},d5=(Dt({},b3,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),Dt({},wD,{attributeName:"opacity"}));function bv(i){var n=i[0],t=i[1],u=Qg(i.slice(4),1)[0];return{found:!0,width:n,height:t,icon:Array.isArray(u)?{tag:"g",attributes:{class:"".concat(Ke.familyPrefix,"-").concat(O2.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ke.familyPrefix,"-").concat(O2.SECONDARY),fill:"currentColor",d:u[0]}},{tag:"path",attributes:{class:"".concat(Ke.familyPrefix,"-").concat(O2.PRIMARY),fill:"currentColor",d:u[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:u}}}}Dt({},b3,{cx:"256",cy:"364",r:"28"}),Dt({},wD,{attributeName:"r",values:"28;14;28;28;14;28;"}),Dt({},d5,{values:"1;0;1;1;0;1;"}),Dt({},b3,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),Dt({},d5,{values:"1;0;0;0;0;1;"}),Dt({},b3,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),Dt({},d5,{values:"0;0;1;1;0;0;"});var rV=function(){function i(){(function(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")})(this,i),this.definitions={}}return function(i,n,t){n&&YE(i.prototype,n)}(i,[{key:"add",value:function(){for(var t=this,o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var m=c.reduce(this._pullDefinitions,{});Object.keys(m).forEach(function(g){t.definitions[g]=Dt({},t.definitions[g]||{},m[g]),_D(g,m[g]),v3()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,o){var c=o.prefix&&o.iconName&&o.icon?{0:o}:o;return Object.keys(c).map(function(u){var m=c[u],g=m.prefix,b=m.iconName,x=m.icon;t[g]||(t[g]={}),t[g][b]=x}),t}}]),i}();function El(){Ke.autoAddCss&&!p5&&(function(i){if(i&&ko){var n=Xn.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=i;for(var t=Xn.head.childNodes,o=null,c=t.length-1;c>-1;c--){var u=t[c],m=(u.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(m)>-1&&(o=u)}Xn.head.insertBefore(n,o)}}(function(){var i="fa",n=f3,t=Ke.familyPrefix,o=Ke.replacementClass,c='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(t!==i||o!==n){var u=new RegExp("\\.".concat(i,"\\-"),"g"),m=new RegExp("\\--".concat(i,"\\-"),"g"),g=new RegExp("\\.".concat(n),"g");c=c.replace(u,".".concat(t,"-")).replace(m,"--".concat(t,"-")).replace(g,".".concat(o))}return c}()),p5=!0)}function C3(i,n){return Object.defineProperty(i,"abstract",{get:n}),Object.defineProperty(i,"html",{get:function(){return i.abstract.map(function(o){return H2(o)})}}),Object.defineProperty(i,"node",{get:function(){if(ko){var o=Xn.createElement("div");return o.innerHTML=i.html,o.children}}}),i}function wv(i){var n=i.prefix,t=void 0===n?"fa":n,o=i.iconName;if(o)return f5(kD.definitions,t,o)||f5(To.styles,t,o)}var i,kD=new rV,p5=!1,zD_transform=function(n){return function(n){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n?n.toLowerCase().split(" ").reduce(function(o,c){var u=c.toLowerCase().split("-"),m=u[0],g=u.slice(1).join("-");if(m&&"h"===g)return o.flipX=!0,o;if(m&&"v"===g)return o.flipY=!0,o;if(g=parseFloat(g),isNaN(g))return o;switch(m){case"grow":o.size=o.size+g;break;case"shrink":o.size=o.size-g;break;case"left":o.x=o.x-g;break;case"right":o.x=o.x+g;break;case"up":o.y=o.y-g;break;case"down":o.y=o.y+g;break;case"rotate":o.rotate=o.rotate+g}return o},t):t}(n)},ND=(i=function(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.transform,o=void 0===t?Ds:t,c=n.symbol,u=void 0!==c&&c,m=n.mask,g=void 0===m?null:m,b=n.maskId,x=void 0===b?null:b,D=n.title,k=void 0===D?null:D,z=n.titleId,L=void 0===z?null:z,R=n.classes,j=void 0===R?[]:R,B=n.attributes,Q=void 0===B?{}:B,K=n.styles,de=void 0===K?{}:K;if(i){var _e=i.prefix,Ge=i.iconName,wt=i.icon;return C3(Dt({type:"icon"},i),function(){return El(),Ke.autoA11y&&(k?Q["aria-labelledby"]="".concat(Ke.replacementClass,"-title-").concat(L||k4()):(Q["aria-hidden"]="true",Q.focusable="false")),o5({icons:{main:bv(wt),mask:g?bv(g.icon):{found:!1,width:null,height:null,icon:{}}},prefix:_e,iconName:Ge,transform:Dt({},Ds,o),symbol:u,title:k,maskId:x,titleId:L,extra:{attributes:Q,styles:de,classes:j}})})}},function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(n||{}).icon?n:wv(n||{}),c=t.mask;return c&&(c=(c||{}).icon?c:wv(c||{})),i(o,Dt({},t,{mask:c}))});const lV=["*"],dV=i=>{const n={"fa-spin":i.spin,"fa-pulse":i.pulse,"fa-fw":i.fixedWidth,"fa-border":i.border,"fa-inverse":i.inverse,"fa-layers-counter":i.counter,"fa-flip-horizontal":"horizontal"===i.flip||"both"===i.flip,"fa-flip-vertical":"vertical"===i.flip||"both"===i.flip,[`fa-${i.size}`]:null!==i.size,[`fa-rotate-${i.rotate}`]:null!==i.rotate,[`fa-pull-${i.pull}`]:null!==i.pull,[`fa-stack-${i.stackItemSize}`]:null!=i.stackItemSize};return Object.keys(n).map(t=>n[t]?t:null).filter(t=>t)};let Dv=(()=>{class i{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),hV=(()=>{class i{constructor(){this.definitions={}}addIcons(...t){for(const o of t){o.prefix in this.definitions||(this.definitions[o.prefix]={}),this.definitions[o.prefix][o.iconName]=o;for(const c of o.icon[2])"string"==typeof c&&(this.definitions[o.prefix][c]=o)}}addIconPacks(...t){for(const o of t){const c=Object.keys(o).map(u=>o[u]);this.addIcons(...c)}}getIconDefinition(t,o){return t in this.definitions&&o in this.definitions[t]?this.definitions[t][o]:null}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Wr=(()=>{class i{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Ee({type:i,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[Rn]}),i})(),LD=(()=>{class i{constructor(t,o){this.renderer=t,this.elementRef=o}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return i.\u0275fac=function(t){return new(t||i)(U(x2),U(mt))},i.\u0275cmp=sn({type:i,selectors:[["fa-stack"]],inputs:{size:"size"},features:[Rn],ngContentSelectors:lV,decls:1,vars:0,template:function(t,o){1&t&&(Hi(),rn(0))},encapsulation:2}),i})(),Aa=(()=>{class i{constructor(t,o,c,u,m){this.sanitizer=t,this.config=o,this.iconLibrary=c,this.stackItem=u,this.classes=[],null!=m&&null==u&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let o=null;if(o=null==this.icon?this.config.fallbackIcon:this.icon,t){const c=this.findIconDefinition(o);if(null!=c){const u=this.buildParams();this.renderIcon(c,u)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const o=((i,n)=>(i=>void 0!==i.prefix&&void 0!==i.iconName)(i)?i:Array.isArray(i)&&2===i.length?{prefix:i[0],iconName:i[1]}:"string"==typeof i?{prefix:n,iconName:i}:void 0)(t,this.config.defaultPrefix);if("icon"in o)return o;const c=this.iconLibrary.getIconDefinition(o.prefix,o.iconName);return null!=c?c:((i=>{throw new Error(`Could not find icon with iconName=${i.iconName} and prefix=${i.prefix} in the icon library.`)})(o),null)}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},o="string"==typeof this.transform?zD_transform(this.transform):this.transform;return{title:this.title,transform:o,classes:[...dV(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,o){const c=ND(t,o);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(c.html.join("\n"))}}return i.\u0275fac=function(t){return new(t||i)(U(vl),U(Dv),U(hV),U(Wr,8),U(LD,8))},i.\u0275cmp=sn({type:i,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,o){2&t&&(_2("innerHTML",o.renderedIconHTML,Gf),dt("title",o.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[Rn],decls:0,vars:0,template:function(t,o){},encapsulation:2}),i})(),mV=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({}),i})();function Sv(i,n){1&i&&He(0,"app-start")}function pV(i,n){1&i&&He(0,"app-visualization")}let Av=(()=>{class i{constructor(){this.visEnabled=!1}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=sn({type:i,selectors:[["app-root"]],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(t,o){1&t&&(ot(0,Sv,1,0,"app-start",0),ot(1,pV,1,0,"app-visualization",0)),2&t&&(pe("ngIf",!o.visEnabled),he(1),pe("ngIf",o.visEnabled))},styles:[""]}),i})();class As extends st{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:o}=this;if(n)throw t;return this._throwIfClosed(),o}next(n){super.next(this._value=n)}}function wr(...i){return nc(i,oe(i))}const{isArray:kv}=Array;function M3(i){return an(n=>function(i,n){return kv(n)?i(...n):i(n)}(i,n))}function Tv(i,n,t){return t?Tv(i,n).pipe(M3(t)):new Lt(o=>{const c=(...m)=>o.next(1===m.length?m[0]:m),u=i(c);return Pe(n)?()=>n(c,u):void 0})}const{isArray:vV}=Array,{getPrototypeOf:RD,prototype:VD,keys:_V}=Object;function OD(i){if(1===i.length){const n=i[0];if(vV(n))return{args:n,keys:null};if(function(i){return i&&"object"==typeof i&&RD(i)===VD}(n)){const t=_V(n);return{args:t.map(o=>n[o]),keys:t}}}return{args:i,keys:null}}function zv(i,n){return i.reduce((t,o,c)=>(t[o]=n[c],t),{})}function ks(...i){const n=oe(i),t=ne(i),{args:o,keys:c}=OD(i);if(0===o.length)return nc([],n);const u=new Lt(_5(o,n,c?m=>zv(c,m):$o));return t?u.pipe(M3(t)):u}function _5(i,n,t=$o){return o=>{y5(n,()=>{const{length:c}=i,u=new Array(c);let m=c,g=c;for(let b=0;b<c;b++)y5(n,()=>{const x=nc(i[b],n);let D=!1;x.subscribe(new Gt(o,k=>{u[b]=k,D||(D=!0,g--),g||o.next(t(u.slice()))},()=>{--m||o.complete()}))},o)},o)}}function y5(i,n,t){i?Ni(t,i,n):n()}function Nv(...i){return f7(1)(nc(i,oe(i)))}function No(...i){const n=oe(i);return nn((t,o)=>{(n?Nv(i,t,n):Nv(i,t)).subscribe(o)})}function w3(i,n,t){const o=Pe(i)||n||t?{next:i,error:n,complete:t}:i;return o?nn((c,u)=>{var m;null===(m=o.subscribe)||void 0===m||m.call(o);let g=!0;c.subscribe(new Gt(u,b=>{var x;null===(x=o.next)||void 0===x||x.call(o,b),u.next(b)},()=>{var b;g=!1,null===(b=o.complete)||void 0===b||b.call(o),u.complete()},b=>{var x;g=!1,null===(x=o.error)||void 0===x||x.call(o,b),u.error(b)},()=>{var b,x;g&&(null===(b=o.unsubscribe)||void 0===b||b.call(o)),null===(x=o.finalize)||void 0===x||x.call(o)}))}):$o}function Jt(i){return nn((n,t)=>{yi(i).subscribe(new Gt(t,()=>t.complete(),x1)),!t.closed&&n.subscribe(t)})}class xV extends Lt{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Bl(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Nt;const t=this.getSubject();n.add(this.source.subscribe(new Gt(t,void 0,()=>{this._teardown(),t.complete()},o=>{this._teardown(),t.error(o)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Nt.EMPTY)}return n}refCount(){return nn((i,n)=>{let t=null;i._refCount++;const o=new Gt(n,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(t=null);const c=i._connection,u=t;t=null,c&&(!u||c===u)&&c.unsubscribe(),n.unsubscribe()});i.subscribe(o),o.closed||(t=i.connect())})(this)}}const wV={connector:()=>new st};function PD(i,n=wV){const{connector:t}=n;return nn((o,c)=>{const u=t();nc(i(function(i){return new Lt(n=>i.subscribe(n))}(u))).subscribe(c),c.add(o.subscribe(u))})}function Iv(i,n){return nn((t,o)=>{let c=null,u=0,m=!1;const g=()=>m&&!c&&o.complete();t.subscribe(new Gt(o,b=>{null==c||c.unsubscribe();let x=0;const D=u++;yi(i(b,D)).subscribe(c=new Gt(o,k=>o.next(n?n(b,k,D,x++):k),()=>{c=null,g()}))},()=>{m=!0,g()}))})}function Lv(...i){const n=ne(i);return nn((t,o)=>{const c=i.length,u=new Array(c);let m=i.map(()=>!1),g=!1;for(let b=0;b<c;b++)yi(i[b]).subscribe(new Gt(o,x=>{u[b]=x,!g&&!m[b]&&(m[b]=!0,(g=m.every($o))&&(m=null))},x1));t.subscribe(new Gt(o,b=>{if(g){const x=[b,...u];o.next(n?n(...x):x)}}))})}function SV(i,n,t,o,c){return(u,m)=>{let g=t,b=n,x=0;u.subscribe(new Gt(m,D=>{const k=x++;b=g?i(b,D,k):(g=!0,D),o&&m.next(b)},c&&(()=>{g&&m.next(b),m.complete()})))}}function E3(i,n=$o){return i=null!=i?i:HD,nn((t,o)=>{let c,u=!0;t.subscribe(new Gt(o,m=>{const g=n(m);(u||!i(c,g))&&(u=!1,c=g,o.next(m))}))})}function HD(i,n){return i===n}const{isArray:kV}=Array;function TV(i){return 1===i.length&&kV(i[0])?i[0]:i}function Fv(...i){const n=ne(i);return n?t6(Fv(...i),M3(n)):nn((t,o)=>{_5([t,...TV(i)])(o)})}function Io(i,n){return nn((t,o)=>{let c=0;t.subscribe(new Gt(o,u=>i.call(n,u,c++)&&o.next(u)))})}const NV=["youtubeContainer"];let L4=(()=>{class i{constructor(t,o){this._ngZone=t,this._youtubeContainer=new st,this._destroyed=new st,this._playerChanges=new As(void 0),this._videoId=new As(void 0),this._height=new As(390),this._width=new As(640),this._startSeconds=new As(void 0),this._endSeconds=new As(void 0),this._suggestedQuality=new As(void 0),this._playerVars=new As(void 0),this.ready=this._getLazyEmitter("onReady"),this.stateChange=this._getLazyEmitter("onStateChange"),this.error=this._getLazyEmitter("onError"),this.apiChange=this._getLazyEmitter("onApiChange"),this.playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange"),this.playbackRateChange=this._getLazyEmitter("onPlaybackRateChange"),this._isBrowser=Rg(o)}get videoId(){return this._videoId.value}set videoId(t){this._videoId.next(t)}get height(){return this._height.value}set height(t){this._height.next(t||390)}get width(){return this._width.value}set width(t){this._width.next(t||640)}set startSeconds(t){this._startSeconds.next(t)}set endSeconds(t){this._endSeconds.next(t)}set suggestedQuality(t){this._suggestedQuality.next(t)}get playerVars(){return this._playerVars.value}set playerVars(t){this._playerVars.next(t)}ngOnInit(){if(!this._isBrowser)return;let t=wr(!0);if(!window.YT||!window.YT.Player){const c=new st;this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback&&this._existingApiReadyCallback(),this._ngZone.run(()=>c.next(!0))},t=c.pipe(Xo(1),No(!1))}const o=function(i,n,t,o,c,u,m){const g=ks([n,u]).pipe(Lv(ks([o,c])),an(([b,x])=>{const[D,k]=b,[z,L]=x;return D?{videoId:D,playerVars:k,width:z,height:L}:void 0}));return ks([i,g,wr(m)]).pipe(function(i){return t6(Fv(i),nn((n,t)=>{let o=!1;n.subscribe(new Gt(t,u=>(o||(o=!(([n,t])=>!t)(u)))&&t.next(u)))}),an(([n])=>n))}(t),function(i,n){return nn(SV(i,n,arguments.length>=2,!0))}(Vv,void 0),E3())}(this._youtubeContainer,this._videoId,t,this._width,this._height,this._playerVars,this._ngZone).pipe(w3(c=>{this._playerChanges.next(c)}),Fs(n=>n?Lo(n)?wr(n):new Lt(t=>{let o=!1,c=!1;const u=m=>{c=!0,o||(m.target.removeEventListener("onReady",u),t.next(m.target))};return n.addEventListener("onReady",u),()=>{o=!0,c||(c=>{Lo(c)||c.destroy()})(n)}}).pipe(Xo(1),No(void 0)):wr(void 0)),Jt(this._destroyed),function(i){return i?n=>PD(i)(n):n=>function(i,n){const t=Pe(i)?i:()=>i;return Pe(n)?PD(n,{connector:t}):o=>new xV(o,t)}(new st)(n)}());o.subscribe(c=>{this._player=c,c&&this._pendingPlayerState&&this._initializePlayer(c,this._pendingPlayerState),this._pendingPlayerState=void 0}),function(i,n,t){ks([i,n,t]).subscribe(([o,c,u])=>o&&o.setSize(c,u))}(o,this._width,this._height),function(i,n){ks([i,n]).subscribe(([t,o])=>t&&o&&t.setPlaybackQuality(o))}(o,this._suggestedQuality),function(i,n,t,o,c,u){const m=ks([t,o]).pipe(an(([D,k])=>({startSeconds:D,endSeconds:k}))),g=m.pipe(Ov(i,D=>!!D&&!function(i){const n=i.getPlayerState();return n!==YT.PlayerState.UNSTARTED&&n!==YT.PlayerState.CUED}(D))),b=n.pipe(Ov(i,(D,k)=>!!D&&D.videoId!==k));ic(i.pipe(Ov(ks([n,m]),([D,k],z)=>!(!z||D==z.videoId&&!k.startSeconds&&!k.endSeconds))),b,g).pipe(Lv(ks([i,n,m,c])),an(([D,k])=>k),Jt(u)).subscribe(([D,k,z,L])=>{!k||!D||(D.videoId=k,D.cueVideoById(Ct({videoId:k,suggestedQuality:L},z)))})}(o,this._videoId,this._startSeconds,this._endSeconds,this._suggestedQuality,this._destroyed),o.connect()}ngAfterViewInit(){this._youtubeContainer.next(this.youtubeContainer.nativeElement)}ngOnDestroy(){this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._videoId.complete(),this._height.complete(),this._width.complete(),this._startSeconds.complete(),this._endSeconds.complete(),this._suggestedQuality.complete(),this._youtubeContainer.complete(),this._playerVars.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=YT.PlayerState.PLAYING}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=YT.PlayerState.PAUSED}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=YT.PlayerState.CUED}seekTo(t,o){this._player?this._player.seekTo(t,o):this._getPendingState().seek={seconds:t,allowSeekAhead:o}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(t){this._player?this._player.setVolume(t):this._getPendingState().volume=t}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(t){if(this._player)return this._player.setPlaybackRate(t);this._getPendingState().playbackRate=t}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:YT.PlayerState.UNSTARTED}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_initializePlayer(t,o){const{playbackState:c,playbackRate:u,volume:m,muted:g,seek:b}=o;switch(c){case YT.PlayerState.PLAYING:t.playVideo();break;case YT.PlayerState.PAUSED:t.pauseVideo();break;case YT.PlayerState.CUED:t.stopVideo()}null!=u&&t.setPlaybackRate(u),null!=m&&t.setVolume(m),null!=g&&(g?t.mute():t.unMute()),null!=b&&t.seekTo(b.seconds,b.allowSeekAhead)}_getLazyEmitter(t){return this._playerChanges.pipe(Iv(o=>o?Tv(c=>{o.addEventListener(t,c)},c=>{try{o.removeEventListener&&o.removeEventListener(t,c)}catch(u){}}):wr()),o=>new Lt(c=>o.subscribe({next:u=>this._ngZone.run(()=>c.next(u)),error:u=>c.error(u),complete:()=>c.complete()})),Jt(this._destroyed))}}return i.\u0275fac=function(t){return new(t||i)(U(Et),U(Su))},i.\u0275cmp=sn({type:i,selectors:[["youtube-player"]],viewQuery:function(t,o){if(1&t&&Pn(NV,5),2&t){let c;vt(c=_t())&&(o.youtubeContainer=c.first)}},inputs:{videoId:"videoId",height:"height",width:"width",startSeconds:"startSeconds",endSeconds:"endSeconds",suggestedQuality:"suggestedQuality",playerVars:"playerVars",showBeforeIframeApiLoads:"showBeforeIframeApiLoads"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},decls:2,vars:0,consts:[["youtubeContainer",""]],template:function(t,o){1&t&&He(0,"div",null,0)},encapsulation:2,changeDetection:0}),i})();function Vv(i,[n,t,o]){if(i&&t&&i.playerVars!==t.playerVars)i.destroy();else{if(!t)return void(i&&i.destroy());if(i)return i}const c=o.runOutsideAngular(()=>new YT.Player(n,t));return c.videoId=t.videoId,c.playerVars=t.playerVars,c}function Lo(i){return"getPlayerStatus"in i}function Ov(i,n){return t6(Lv(i),Io(([t,o])=>n(o,t)),an(([t])=>t))}let qD=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({}),i})();function RV(i,n){if(1&i&&(X(0,"a",26),je(1),$()),2&i){const t=n.index,o=ze();Ja("href",o.navURL[t],m0),he(1),V1(o.navText[t])}}function Pv(i,n){1&i&&He(0,"img",27),2&i&&Hc("src","assets/",n.$implicit,"",m0)}function VV(i,n){if(1&i){const t=$n();X(0,"div",28),X(1,"button",29),Me("click",function(){const u=yn(t).index,m=ze();return m.playVideoTo(m.videoTimeStamps[u])}),X(2,"p",30),je(3),$(),X(4,"p",31),je(5),$(),$(),$()}if(2&i){const t=n.index,o=ze();he(3),mr(" ",o.videoTitle[t],""),he(2),mr(" ",o.videoDescription[t],"")}}let OV=(()=>{class i{constructor(t){this.appComponent=t,this.navText=["GitHub","Master Tables","HubMap Consortium"],this.navURL=["https://github.com/Chris77UNI/ASCTVIS","https://docs.google.com/spreadsheets/d/1tK916JyG5ZSXW_cXfsyZnzXfjyoN-8B2GXLbYD6_vF0/edit#gid=559906129","https://hubmapconsortium.github.io/ccf/index.html"],this.headerText="The CCF ASCT+B Reporter is a visualization tool for displaying anatomical structures, cell types, and biomarker (ASCT+B) authored by domain\nexperts for different human organs. The tables are used to develop a common coordinate framework (CCF) of the healthy human body see also\nHubmap Consortium website.",this.aboutText="The ASCT+B Reporter is a state-of-the-art visualization tool. The video gives an overview of the functionalities listed below.\nPlease use the selectors below to skip to any section you\u2019d want to specifically know about.",this.previewData=["subgraph1.svg","subgraph2.svg","partial.svg","containment.svg","explore.svg"],this.videoTitle=["Introduction","Large Scale Graph Visualization","Modes of Operation","Partial View","Containment","Graph Exploration"],this.videoDescription=["Know about the Reporter, what it is and why was it built","Learn how to analyze large quantities of biological data","Different modes of operation with user interactivity","Hiding bio-markers allows a more compact representation","Visualization based on a hierarchical ordering of cell types","Explore all graph structures using a layered approach"],this.videoTimeStamps=[50,100,150,200,250,300],this.appComponent=t}ngOnInit(){const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",document.body.appendChild(t)}onReady(t){let o=document.querySelector("iframe");null!=o&&(o.style.width="100%",o.style.height="100%",this.player=t.target)}ngAfterViewInit(){}goToVis(){this.appComponent.visEnabled=!0}playVideoTo(t){null!=this.player&&this.player.seekTo(t,!0)}}return i.\u0275fac=function(t){return new(t||i)(U(Av))},i.\u0275cmp=sn({type:i,selectors:[["app-start"]],decls:42,vars:5,consts:[["id","cont",1,"container-fluid"],["id","mainHeader",1,"row","h-50"],["id","navbarDIV"],["id","navID",1,"navbar","d-flex"],[1,"navbar-brand"],[1,"d-flex","flex-row-reverse"],[3,"href",4,"ngFor","ngForOf"],["id","textDIV"],[1,"d-flex","justify-content-center","align-items-center"],[1,"d-flex","justify-content-center"],[1,"row"],[1,"col-md-3"],[1,"col-md-6"],[1,"d-flex","justify-content-center","align-items-start"],[1,"btn-primary","btn-lg",3,"click"],["class","w-100  h-100 ",3,"src",4,"ngFor","ngForOf"],["id","about",1,"row","h-50"],[1,"row","spacerDIV10"],["id","aboutText",1,"row","d-flex","justify-content-center"],["id","aboutMain",1,"d-flex"],[1,"col-md-1"],["id","actionsHeight",1,"col-md-5"],["class","divPAD",4,"ngFor","ngForOf"],[1,"col-md-5"],["id","tutorialVideo",1,""],["videoId","I5RZzYX8quQ","id","yt",3,"ready"],[3,"href"],[1,"w-100","h-100",3,"src"],[1,"divPAD"],[1,"section-selector","w-75",3,"click"],[1,"ss-header"],[1,"ss-desc"]],template:function(t,o){1&t&&(X(0,"div",0),X(1,"div",1),X(2,"div",2),X(3,"nav",3),X(4,"span",4),je(5,"ASCT+B Reporter"),$(),X(6,"div",5),ot(7,RV,2,2,"a",6),$(),$(),$(),X(8,"div",7),X(9,"div",8),X(10,"h1"),je(11," ASCT+B Reporter"),$(),$(),X(12,"div",9),X(13,"div",10),He(14,"div",11),X(15,"div",12),X(16,"p"),je(17),$(),$(),He(18,"div",11),$(),$(),$(),X(19,"div",13),X(20,"button",14),Me("click",function(){return o.goToVis()}),je(21," Go to Visualization"),$(),$(),X(22,"div",8),ot(23,Pv,1,1,"img",15),$(),$(),X(24,"div",16),He(25,"div",17),X(26,"div",18),He(27,"div",11),X(28,"div",12),X(29,"h2"),je(30,"ABOUT"),$(),X(31,"p"),je(32),$(),$(),He(33,"div",11),$(),X(34,"div",19),He(35,"div",20),X(36,"div",21),ot(37,VV,6,2,"div",22),$(),X(38,"div",23),X(39,"div",24),X(40,"youtube-player",25),Me("ready",function(u){return o.onReady(u)}),$(),$(),$(),He(41,"div",20),$(),$(),$()),2&t&&(he(7),pe("ngForOf",o.navText),he(10),mr(" ",o.headerText,""),he(6),pe("ngForOf",o.previewData),he(9),mr(" ",o.aboutText," "),he(5),pe("ngForOf",o.videoTitle))},directives:[dl,L4],styles:['#mainHeader[_ngcontent-%COMP%]{background-color:#262626}#cont[_ngcontent-%COMP%]{height:150vh}#navbarDIV[_ngcontent-%COMP%]{color:#fff}#navbarDIV[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;padding-left:1vw}#textDIV[_ngcontent-%COMP%]{color:#fff;text-align:center}.spacerDIV10[_ngcontent-%COMP%]{height:10%}.spacerDIV5[_ngcontent-%COMP%]{height:5%}#laptop[_ngcontent-%COMP%]{height:55%}#aboutText[_ngcontent-%COMP%]{text-align:center}#aboutMain[_ngcontent-%COMP%]{padding-top:8vh}#tutorialVideo[_ngcontent-%COMP%]{height:100%;width:100%}iframe[_ngcontent-%COMP%]{height:100%!important;width:100%!important}#aboutMain[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background-color:#000;border:.125rem solid black;border-radius:.5rem;border-left-width:.9375rem;color:#fff}.ss-header[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;font-weight:500;font-size:14pt}.section-selector[_ngcontent-%COMP%]{text-align:left;outline:none;border:.125rem solid black;border-radius:.5rem;border-left-width:.9375rem;background-color:#fff;transition:all .2s}.ss-desc[_ngcontent-%COMP%]{color:gray}.divPAD[_ngcontent-%COMP%]{padding-top:1vh}']}),i})();var XD={prefix:"fas",iconName:"angle-down",icon:[320,512,[],"f107","M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"]},YD={prefix:"fas",iconName:"angle-up",icon:[320,512,[],"f106","M177 159.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 329.7c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"]},a_={prefix:"fas",iconName:"cog",icon:[512,512,[],"f013","M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"]},u_={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"]},Yi={prefix:"fas",iconName:"expand",icon:[448,512,[],"f065","M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"]},dA={prefix:"fas",iconName:"globe",icon:[496,512,[],"f0ac","M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"]},mj={prefix:"fas",iconName:"redo",icon:[512,512,[],"f01e","M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"]},CA={prefix:"fas",iconName:"search",icon:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"]},pj={prefix:"fas",iconName:"server",icon:[512,512,[],"f233","M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z"]},DW={prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]},xA=Be(817),gj=Be(951),vj=Be(243);function Nl(i,...n){return n.length?n.some(t=>i[t]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}class uoe extends Nt{constructor(n,t){super()}schedule(n,t=0){return this}}const EA={setInterval(...i){const{delegate:n}=EA;return((null==n?void 0:n.setInterval)||setInterval)(...i)},clearInterval(i){const{delegate:n}=EA;return((null==n?void 0:n.clearInterval)||clearInterval)(i)},delegate:void 0};class yj extends uoe{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){if(this.closed)return this;this.state=n;const o=this.id,c=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(c,o,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(c,this.id,t),this}requestAsyncId(n,t,o=0){return EA.setInterval(n.flush.bind(n,this),o)}recycleAsyncId(n,t,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return t;EA.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(n,t);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let c,o=!1;try{this.work(n)}catch(u){o=!0,c=u||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),c}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:o}=t;this.work=this.state=this.scheduler=null,this.pending=!1,vi(o,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}}const TW={now:()=>(TW.delegate||Date).now(),delegate:void 0};class D_{constructor(n,t=D_.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,o){return new this.schedulerActionCtor(this,n).schedule(o,t)}}D_.now=TW.now;class bj extends D_{constructor(n,t=D_.now){super(n,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let o;this._active=!0;do{if(o=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,o){for(;n=t.shift();)n.unsubscribe();throw o}}}const zW=new bj(yj),NW=zW;function Cj(i,n=zW){return nn((t,o)=>{let c=null,u=null,m=null;const g=()=>{if(c){c.unsubscribe(),c=null;const x=u;u=null,o.next(x)}};function b(){const x=m+i,D=n.now();if(D<x)return c=this.schedule(void 0,x-D),void o.add(c);g()}t.subscribe(new Gt(o,x=>{u=x,m=n.now(),c||(c=n.schedule(b,i),o.add(c))},()=>{g(),o.complete()},void 0,()=>{u=c=null}))})}function IW(i){return Io((n,t)=>i<=t)}function Pt(i){return null!=i&&"false"!=`${i}`}function q5(i,n=0){return function(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):n}function DA(i){return Array.isArray(i)?i:[i]}function gi(i){return null==i?"":"string"==typeof i?i:`${i}px`}function Il(i){return i instanceof mt?i.nativeElement:i}let xj;try{xj="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){xj=!1}let W5,Xr=(()=>{class i{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Rg(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!xj)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(t){return new(t||i)(ce(Su))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),SA=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({}),i})();const LW=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function FW(){if(W5)return W5;if("object"!=typeof document||!document)return W5=new Set(LW),W5;let i=document.createElement("input");return W5=new Set(LW.filter(n=>(i.setAttribute("type",n),i.type===n))),W5}let S_,P3,Mj;function A_(i){return function(){if(null==S_&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>S_=!0}))}finally{S_=S_||!1}return S_}()?i:!!i.capture}function hoe(){if(null==P3){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return P3=!1,P3;if("scrollBehavior"in document.documentElement.style)P3=!0;else{const i=Element.prototype.scrollTo;P3=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return P3}function RW(i){if(function(){if(null==Mj){const i="undefined"!=typeof document?document.head:null;Mj=!(!i||!i.createShadowRoot&&!i.attachShadow)}return Mj}()){const n=i.getRootNode?i.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function H3(i){return i.composedPath?i.composedPath()[0]:i.target}function wj(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}let VW=(()=>{class i{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),poe=(()=>{class i{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,o)=>this._cleanupObserver(o))}observe(t){const o=Il(t);return new Lt(c=>{const m=this._observeElement(o).subscribe(c);return()=>{m.unsubscribe(),this._unobserveElement(o)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const o=new st,c=this._mutationObserverFactory.create(u=>o.next(u));c&&c.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:c,stream:o,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:o,stream:c}=this._observedElements.get(t);o&&o.disconnect(),c.complete(),this._observedElements.delete(t)}}}return i.\u0275fac=function(t){return new(t||i)(ce(VW))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ej=(()=>{class i{constructor(t,o,c){this._contentObserver=t,this._elementRef=o,this._ngZone=c,this.event=new it,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Pt(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=q5(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Cj(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null==(t=this._currentSubscription)||t.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(U(poe),U(mt),U(Et))},i.\u0275dir=Ee({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),i})(),kA=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({providers:[VW]}),i})();function TA(i,n){return(i.getAttribute(n)||"").match(/\S+/g)||[]}const PW="cdk-describedby-message-container",HW="cdk-describedby-message",zA="cdk-describedby-host";let _oe=0;const j2=new Map;let Po=null,yoe=(()=>{class i{constructor(t){this._document=t}describe(t,o,c){if(!this._canBeDescribed(t,o))return;const u=Dj(o,c);"string"!=typeof o?(BW(o),j2.set(u,{messageElement:o,referenceCount:0})):j2.has(u)||this._createMessageElement(o,c),this._isElementDescribedByMessage(t,u)||this._addMessageReference(t,u)}removeDescription(t,o,c){if(!o||!this._isElementNode(t))return;const u=Dj(o,c);if(this._isElementDescribedByMessage(t,u)&&this._removeMessageReference(t,u),"string"==typeof o){const m=j2.get(u);m&&0===m.referenceCount&&this._deleteMessageElement(u)}Po&&0===Po.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const t=this._document.querySelectorAll(`[${zA}]`);for(let o=0;o<t.length;o++)this._removeCdkDescribedByReferenceIds(t[o]),t[o].removeAttribute(zA);Po&&this._deleteMessagesContainer(),j2.clear()}_createMessageElement(t,o){const c=this._document.createElement("div");BW(c),c.textContent=t,o&&c.setAttribute("role",o),this._createMessagesContainer(),Po.appendChild(c),j2.set(Dj(t,o),{messageElement:c,referenceCount:0})}_deleteMessageElement(t){var c;const o=j2.get(t);null==(c=null==o?void 0:o.messageElement)||c.remove(),j2.delete(t)}_createMessagesContainer(){if(!Po){const t=this._document.getElementById(PW);null==t||t.remove(),Po=this._document.createElement("div"),Po.id=PW,Po.style.visibility="hidden",Po.classList.add("cdk-visually-hidden"),this._document.body.appendChild(Po)}}_deleteMessagesContainer(){Po&&(Po.remove(),Po=null)}_removeCdkDescribedByReferenceIds(t){const o=TA(t,"aria-describedby").filter(c=>0!=c.indexOf(HW));t.setAttribute("aria-describedby",o.join(" "))}_addMessageReference(t,o){const c=j2.get(o);(function(i,n,t){const o=TA(i,n);o.some(c=>c.trim()==t.trim())||(o.push(t.trim()),i.setAttribute(n,o.join(" ")))})(t,"aria-describedby",c.messageElement.id),t.setAttribute(zA,""),c.referenceCount++}_removeMessageReference(t,o){const c=j2.get(o);c.referenceCount--,function(i,n,t){const c=TA(i,n).filter(u=>u!=t.trim());c.length?i.setAttribute(n,c.join(" ")):i.removeAttribute(n)}(t,"aria-describedby",c.messageElement.id),t.removeAttribute(zA)}_isElementDescribedByMessage(t,o){const c=TA(t,"aria-describedby"),u=j2.get(o),m=u&&u.messageElement.id;return!!m&&-1!=c.indexOf(m)}_canBeDescribed(t,o){if(!this._isElementNode(t))return!1;if(o&&"object"==typeof o)return!0;const c=null==o?"":`${o}`.trim(),u=t.getAttribute("aria-label");return!(!c||u&&u.trim()===c)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return i.\u0275fac=function(t){return new(t||i)(ce(ut))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Dj(i,n){return"string"==typeof i?`${n||""}/${i}`:i}function BW(i){i.id||(i.id=`${HW}-${_oe++}`)}class jW{constructor(n){this._items=n,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new st,this._typeaheadSubscription=Nt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new st,this.change=new st,n instanceof On&&n.changes.subscribe(t=>{if(this._activeItem){const c=t.toArray().indexOf(this._activeItem);c>-1&&c!==this._activeItemIndex&&(this._activeItemIndex=c)}})}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(w3(t=>this._pressedLetters.push(t)),Cj(n),Io(()=>this._pressedLetters.length>0),an(()=>this._pressedLetters.join(""))).subscribe(t=>{const o=this._getItemsArray();for(let c=1;c<o.length+1;c++){const u=(this._activeItemIndex+c)%o.length,m=o[u];if(!this._skipPredicateFn(m)&&0===m.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(u);break}}this._pressedLetters=[]}),this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}setActiveItem(n){const t=this._activeItem;this.updateActiveItem(n),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(n){const t=n.keyCode,c=["altKey","ctrlKey","metaKey","shiftKey"].every(u=>!n[u]||this._allowedModifierKeys.indexOf(u)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&c){this.setNextItemActive();break}return;case 38:if(this._vertical&&c){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&c){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&c){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&c){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&c){this.setLastItemActive();break}return;default:return void((c||Nl(n,"shiftKey"))&&(n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const t=this._getItemsArray(),o="number"==typeof n?n:t.indexOf(n),c=t[o];this._activeItem=null==c?null:c,this._activeItemIndex=o}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const t=this._getItemsArray();for(let o=1;o<=t.length;o++){const c=(this._activeItemIndex+n*o+t.length)%t.length;if(!this._skipPredicateFn(t[c]))return void this.setActiveItem(c)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,t){const o=this._getItemsArray();if(o[n]){for(;this._skipPredicateFn(o[n]);)if(!o[n+=t])return;this.setActiveItem(n)}}_getItemsArray(){return this._items instanceof On?this._items.toArray():this._items}}class boe extends jW{setActiveItem(n){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(n),this.activeItem&&this.activeItem.setActiveStyles()}}class Coe extends jW{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}}function $W(i){return 0===i.offsetX&&0===i.offsetY}function qW(i){const n=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const Soe=new be("cdk-input-modality-detector-options"),Aoe={ignoreKeys:[18,17,224,91,16]},G5=A_({passive:!0,capture:!0});let koe=(()=>{class i{constructor(t,o,c,u){this._platform=t,this._mostRecentTarget=null,this._modality=new As(null),this._lastTouchMs=0,this._onKeydown=m=>{var g,b;(null==(b=null==(g=this._options)?void 0:g.ignoreKeys)?void 0:b.some(x=>x===m.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=H3(m))},this._onMousedown=m=>{Date.now()-this._lastTouchMs<650||(this._modality.next($W(m)?"keyboard":"mouse"),this._mostRecentTarget=H3(m))},this._onTouchstart=m=>{qW(m)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=H3(m))},this._options=Ct(Ct({},Aoe),u),this.modalityDetected=this._modality.pipe(IW(1)),this.modalityChanged=this.modalityDetected.pipe(E3()),t.isBrowser&&o.runOutsideAngular(()=>{c.addEventListener("keydown",this._onKeydown,G5),c.addEventListener("mousedown",this._onMousedown,G5),c.addEventListener("touchstart",this._onTouchstart,G5)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,G5),document.removeEventListener("mousedown",this._onMousedown,G5),document.removeEventListener("touchstart",this._onTouchstart,G5))}}return i.\u0275fac=function(t){return new(t||i)(ce(Xr),ce(Et),ce(ut),ce(Soe,8))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Toe=new be("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Noe=new be("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Ioe=(()=>{class i{constructor(t,o,c,u){this._ngZone=o,this._defaultOptions=u,this._document=c,this._liveElement=t||this._createLiveElement()}announce(t,...o){const c=this._defaultOptions;let u,m;return 1===o.length&&"number"==typeof o[0]?m=o[0]:[u,m]=o,this.clear(),clearTimeout(this._previousTimeout),u||(u=c&&c.politeness?c.politeness:"polite"),null==m&&c&&(m=c.duration),this._liveElement.setAttribute("aria-live",u),this._ngZone.runOutsideAngular(()=>new Promise(g=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,g(),"number"==typeof m&&(this._previousTimeout=setTimeout(()=>this.clear(),m))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t;clearTimeout(this._previousTimeout),null==(t=this._liveElement)||t.remove(),this._liveElement=null}_createLiveElement(){const t="cdk-live-announcer-element",o=this._document.getElementsByClassName(t),c=this._document.createElement("div");for(let u=0;u<o.length;u++)o[u].remove();return c.classList.add(t),c.classList.add("cdk-visually-hidden"),c.setAttribute("aria-atomic","true"),c.setAttribute("aria-live","polite"),this._document.body.appendChild(c),c}}return i.\u0275fac=function(t){return new(t||i)(ce(Toe,8),ce(Et),ce(ut),ce(Noe,8))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Loe=new be("cdk-focus-monitor-default-options"),NA=A_({passive:!0,capture:!0});let B3=(()=>{class i{constructor(t,o,c,u,m){this._ngZone=t,this._platform=o,this._inputModalityDetector=c,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new st,this._rootNodeFocusAndBlurListener=g=>{const b=H3(g),x="focus"===g.type?this._onFocus:this._onBlur;for(let D=b;D;D=D.parentElement)x.call(this,g,D)},this._document=u,this._detectionMode=(null==m?void 0:m.detectionMode)||0}monitor(t,o=!1){const c=Il(t);if(!this._platform.isBrowser||1!==c.nodeType)return wr(null);const u=RW(c)||this._getDocument(),m=this._elementInfo.get(c);if(m)return o&&(m.checkChildren=!0),m.subject;const g={checkChildren:o,subject:new st,rootNode:u};return this._elementInfo.set(c,g),this._registerGlobalListeners(g),g.subject}stopMonitoring(t){const o=Il(t),c=this._elementInfo.get(o);c&&(c.subject.complete(),this._setClasses(o),this._elementInfo.delete(o),this._removeGlobalListeners(c))}focusVia(t,o,c){const u=Il(t);u===this._getDocument().activeElement?this._getClosestElementsInfo(u).forEach(([g,b])=>this._originChanged(g,o,b)):(this._setOrigin(o),"function"==typeof u.focus&&u.focus(c))}ngOnDestroy(){this._elementInfo.forEach((t,o)=>this.stopMonitoring(o))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,o){t.classList.toggle("cdk-focused",!!o),t.classList.toggle("cdk-touch-focused","touch"===o),t.classList.toggle("cdk-keyboard-focused","keyboard"===o),t.classList.toggle("cdk-mouse-focused","mouse"===o),t.classList.toggle("cdk-program-focused","program"===o)}_setOrigin(t,o=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&o,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,o){const c=this._elementInfo.get(o),u=H3(t);!c||!c.checkChildren&&o!==u||this._originChanged(o,this._getFocusOrigin(u),c)}_onBlur(t,o){const c=this._elementInfo.get(o);!c||c.checkChildren&&t.relatedTarget instanceof Node&&o.contains(t.relatedTarget)||(this._setClasses(o),this._emitOrigin(c.subject,null))}_emitOrigin(t,o){this._ngZone.run(()=>t.next(o))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const o=t.rootNode,c=this._rootNodeFocusListenerCount.get(o)||0;c||this._ngZone.runOutsideAngular(()=>{o.addEventListener("focus",this._rootNodeFocusAndBlurListener,NA),o.addEventListener("blur",this._rootNodeFocusAndBlurListener,NA)}),this._rootNodeFocusListenerCount.set(o,c+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Jt(this._stopInputModalityDetector)).subscribe(u=>{this._setOrigin(u,!0)}))}_removeGlobalListeners(t){const o=t.rootNode;if(this._rootNodeFocusListenerCount.has(o)){const c=this._rootNodeFocusListenerCount.get(o);c>1?this._rootNodeFocusListenerCount.set(o,c-1):(o.removeEventListener("focus",this._rootNodeFocusAndBlurListener,NA),o.removeEventListener("blur",this._rootNodeFocusAndBlurListener,NA),this._rootNodeFocusListenerCount.delete(o))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,o,c){this._setClasses(t,o),this._emitOrigin(c.subject,o),this._lastFocusOrigin=o}_getClosestElementsInfo(t){const o=[];return this._elementInfo.forEach((c,u)=>{(u===t||c.checkChildren&&u.contains(t))&&o.push([u,c])}),o}}return i.\u0275fac=function(t){return new(t||i)(ce(Et),ce(Xr),ce(koe),ce(ut,8),ce(Loe,8))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const GW="cdk-high-contrast-black-on-white",XW="cdk-high-contrast-white-on-black",Sj="cdk-high-contrast-active";let YW=(()=>{class i{constructor(t,o){this._platform=t,this._document=o}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const o=this._document.defaultView||window,c=o&&o.getComputedStyle?o.getComputedStyle(t):null,u=(c&&c.backgroundColor||"").replace(/ /g,"");switch(t.remove(),u){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Sj),t.remove(GW),t.remove(XW),this._hasCheckedHighContrastMode=!0;const o=this.getHighContrastMode();1===o?(t.add(Sj),t.add(GW)):2===o&&(t.add(Sj),t.add(XW))}}}return i.\u0275fac=function(t){return new(t||i)(ce(Xr),ce(ut))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Foe=(()=>{class i{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return i.\u0275fac=function(t){return new(t||i)(ce(YW))},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({imports:[[SA,kA]]}),i})();const Roe=new be("cdk-dir-doc",{providedIn:"root",factory:function(){return Pf(ut)}});let k_=(()=>{class i{constructor(t){if(this.value="ltr",this.change=new it,t){const c=t.documentElement?t.documentElement.dir:null,u=(t.body?t.body.dir:null)||c;this.value="ltr"===u||"rtl"===u?u:"ltr"}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(t){return new(t||i)(ce(Roe,8))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),T_=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({}),i})();const ZW=new cs("13.0.2");class KW{}const Ll="*";function X5(i,n){return{type:7,name:i,definitions:n,options:{}}}function j3(i,n=null){return{type:4,styles:n,timings:i}}function QW(i,n=null){return{type:2,steps:i,options:n}}function Ki(i){return{type:6,styles:i,offset:null}}function U2(i,n,t){return{type:0,name:i,styles:n,options:t}}function Poe(i){return{type:5,steps:i}}function U4(i,n,t=null){return{type:1,expr:i,animation:n,options:t}}function Hoe(i=null){return{type:9,options:i}}function Boe(i,n,t=null){return{type:11,selector:i,animation:n,options:t}}function JW(i){Promise.resolve(null).then(i)}class Y5{constructor(n=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){JW(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class eG{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let t=0,o=0,c=0;const u=this.players.length;0==u?JW(()=>this._onFinish()):this.players.forEach(m=>{m.onDone(()=>{++t==u&&this._onFinish()}),m.onDestroy(()=>{++o==u&&this._onDestroy()}),m.onStart(()=>{++c==u&&this._onStart()})}),this.totalTime=this.players.reduce((m,g)=>Math.max(m,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const t=n*this.totalTime;this.players.forEach(o=>{const c=o.totalTime?Math.min(1,t/o.totalTime):1;o.setPosition(c)})}getPosition(){const n=this.players.reduce((t,o)=>null===t||o.totalTime>t.totalTime?o:t,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}function tG(){return"undefined"!=typeof window&&void 0!==window.document}function kj(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function $4(i){switch(i.length){case 0:return new Y5;case 1:return i[0];default:return new eG(i)}}function nG(i,n,t,o,c={},u={}){const m=[],g=[];let b=-1,x=null;if(o.forEach(D=>{const k=D.offset,z=k==b,L=z&&x||{};Object.keys(D).forEach(R=>{let j=R,B=D[R];if("offset"!==R)switch(j=n.normalizePropertyName(j,m),B){case"!":B=c[R];break;case Ll:B=u[R];break;default:B=n.normalizeStyleValue(R,j,B,m)}L[j]=B}),z||g.push(L),x=L,b=k}),m.length){const D="\n - ";throw new Error(`Unable to animate due to the following errors:${D}${m.join(D)}`)}return g}function Tj(i,n,t,o){switch(n){case"start":i.onStart(()=>o(t&&zj(t,"start",i)));break;case"done":i.onDone(()=>o(t&&zj(t,"done",i)));break;case"destroy":i.onDestroy(()=>o(t&&zj(t,"destroy",i)))}}function zj(i,n,t){const o=t.totalTime,u=Nj(i.element,i.triggerName,i.fromState,i.toState,n||i.phaseName,null==o?i.totalTime:o,!!t.disabled),m=i._data;return null!=m&&(u._data=m),u}function Nj(i,n,t,o,c="",u=0,m){return{element:i,triggerName:n,fromState:t,toState:o,phaseName:c,totalTime:u,disabled:!!m}}function Ho(i,n,t){let o;return i instanceof Map?(o=i.get(n),o||i.set(n,o=t)):(o=i[n],o||(o=i[n]=t)),o}function iG(i){const n=i.indexOf(":");return[i.substring(1,n),i.substr(n+1)]}let Ij=(i,n)=>!1,Lj=(i,n)=>!1,rG=(i,n,t)=>[];const oG=kj();(oG||"undefined"!=typeof Element)&&(Ij=tG()?(i,n)=>{for(;n&&n!==document.documentElement;){if(n===i)return!0;n=n.parentNode||n.host}return!1}:(i,n)=>i.contains(n),Lj=(()=>{if(oG||Element.prototype.matches)return(i,n)=>i.matches(n);{const i=Element.prototype,n=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector;return n?(t,o)=>n.apply(t,[o]):Lj}})(),rG=(i,n,t)=>{let o=[];if(t){const c=i.querySelectorAll(n);for(let u=0;u<c.length;u++)o.push(c[u])}else{const c=i.querySelector(n);c&&o.push(c)}return o});let U3=null,aG=!1;function Fj(i){U3||(U3=("undefined"!=typeof document?document.body:null)||{},aG=!!U3.style&&"WebkitAppearance"in U3.style);let n=!0;return U3.style&&!function(i){return"ebkit"==i.substring(1,6)}(i)&&(n=i in U3.style,!n&&aG&&(n="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in U3.style)),n}const Rj=Lj,Vj=Ij,Oj=rG;function sG(i){const n={};return Object.keys(i).forEach(t=>{const o=t.replace(/([a-z])([A-Z])/g,"$1-$2");n[o]=i[t]}),n}let cG=(()=>{class i{validateStyleProperty(t){return Fj(t)}matchesElement(t,o){return Rj(t,o)}containsElement(t,o){return Vj(t,o)}query(t,o,c){return Oj(t,o,c)}computeStyle(t,o,c){return c||""}animate(t,o,c,u,m,g=[],b){return new Y5(c,u)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})(),Pj=(()=>{class i{}return i.NOOP=new cG,i})();const Hj="ng-enter",IA="ng-leave",LA="ng-trigger",FA=".ng-trigger",uG="ng-animating",Bj=".ng-animating";function $3(i){if("number"==typeof i)return i;const n=i.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:jj(parseFloat(n[1]),n[2])}function jj(i,n){return"s"===n?1e3*i:i}function RA(i,n,t){return i.hasOwnProperty("duration")?i:function(i,n,t){let c,u=0,m="";if("string"==typeof i){const g=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return n.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};c=jj(parseFloat(g[1]),g[2]);const b=g[3];null!=b&&(u=jj(parseFloat(b),g[4]));const x=g[5];x&&(m=x)}else c=i;if(!t){let g=!1,b=n.length;c<0&&(n.push("Duration values below 0 are not allowed for this animation step."),g=!0),u<0&&(n.push("Delay values below 0 are not allowed for this animation step."),g=!0),g&&n.splice(b,0,`The provided timing value "${i}" is invalid.`)}return{duration:c,delay:u,easing:m}}(i,n,t)}function Z5(i,n={}){return Object.keys(i).forEach(t=>{n[t]=i[t]}),n}function q4(i,n,t={}){if(n)for(let o in i)t[o]=i[o];else Z5(i,t);return t}function dG(i,n,t){return t?n+":"+t+";":""}function hG(i){let n="";for(let t=0;t<i.style.length;t++){const o=i.style.item(t);n+=dG(0,o,i.style.getPropertyValue(o))}for(const t in i.style)i.style.hasOwnProperty(t)&&!t.startsWith("_")&&(n+=dG(0,Yoe(t),i.style[t]));i.setAttribute("style",n)}function $2(i,n,t){i.style&&(Object.keys(n).forEach(o=>{const c=$j(o);t&&!t.hasOwnProperty(o)&&(t[o]=i.style[c]),i.style[c]=n[o]}),kj()&&hG(i))}function q3(i,n){i.style&&(Object.keys(n).forEach(t=>{const o=$j(t);i.style[o]=""}),kj()&&hG(i))}function z_(i){return Array.isArray(i)?1==i.length?i[0]:QW(i):i}const Uj=new RegExp("{{\\s*(.+?)\\s*}}","g");function mG(i){let n=[];if("string"==typeof i){let t;for(;t=Uj.exec(i);)n.push(t[1]);Uj.lastIndex=0}return n}function VA(i,n,t){const o=i.toString(),c=o.replace(Uj,(u,m)=>{let g=n[m];return n.hasOwnProperty(m)||(t.push(`Please provide a value for the animation param ${m}`),g=""),g.toString()});return c==o?i:c}function OA(i){const n=[];let t=i.next();for(;!t.done;)n.push(t.value),t=i.next();return n}const Xoe=/-+([a-z0-9])/g;function $j(i){return i.replace(Xoe,(...n)=>n[1].toUpperCase())}function Yoe(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function pG(i,n){return 0===i||0===n}function gG(i,n,t){const o=Object.keys(t);if(o.length&&n.length){let u=n[0],m=[];if(o.forEach(g=>{u.hasOwnProperty(g)||m.push(g),u[g]=t[g]}),m.length)for(var c=1;c<n.length;c++){let g=n[c];m.forEach(function(b){g[b]=qj(i,b)})}}return n}function Bo(i,n,t){switch(n.type){case 7:return i.visitTrigger(n,t);case 0:return i.visitState(n,t);case 1:return i.visitTransition(n,t);case 2:return i.visitSequence(n,t);case 3:return i.visitGroup(n,t);case 4:return i.visitAnimate(n,t);case 5:return i.visitKeyframes(n,t);case 6:return i.visitStyle(n,t);case 8:return i.visitReference(n,t);case 9:return i.visitAnimateChild(n,t);case 10:return i.visitAnimateRef(n,t);case 11:return i.visitQuery(n,t);case 12:return i.visitStagger(n,t);default:throw new Error(`Unable to resolve animation metadata node #${n.type}`)}}function qj(i,n){return window.getComputedStyle(i)[n]}function Zoe(i,n){const t=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(o=>function(i,n,t){if(":"==i[0]){const b=function(i,n){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,o)=>parseFloat(o)>parseFloat(t);case":decrement":return(t,o)=>parseFloat(o)<parseFloat(t);default:return n.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,t);if("function"==typeof b)return void n.push(b);i=b}const o=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return t.push(`The provided transition expression "${i}" is not supported`),n;const c=o[1],u=o[2],m=o[3];n.push(vG(c,m));"<"==u[0]&&!("*"==c&&"*"==m)&&n.push(vG(m,c))}(o,t,n)):t.push(i),t}const HA=new Set(["true","1"]),BA=new Set(["false","0"]);function vG(i,n){const t=HA.has(i)||BA.has(i),o=HA.has(n)||BA.has(n);return(c,u)=>{let m="*"==i||i==c,g="*"==n||n==u;return!m&&t&&"boolean"==typeof c&&(m=c?HA.has(i):BA.has(i)),!g&&o&&"boolean"==typeof u&&(g=u?HA.has(n):BA.has(n)),m&&g}}const Joe=new RegExp("s*:selfs*,?","g");function Wj(i,n,t){return new eae(i).build(n,t)}class eae{constructor(n){this._driver=n}build(n,t){const o=new iae(t);return this._resetContextStyleTimingState(o),Bo(this,z_(n),o)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles={},n.collectedStyles[""]={},n.currentTime=0}visitTrigger(n,t){let o=t.queryCount=0,c=t.depCount=0;const u=[],m=[];return"@"==n.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),n.definitions.forEach(g=>{if(this._resetContextStyleTimingState(t),0==g.type){const b=g,x=b.name;x.toString().split(/\s*,\s*/).forEach(D=>{b.name=D,u.push(this.visitState(b,t))}),b.name=x}else if(1==g.type){const b=this.visitTransition(g,t);o+=b.queryCount,c+=b.depCount,m.push(b)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:n.name,states:u,transitions:m,queryCount:o,depCount:c,options:null}}visitState(n,t){const o=this.visitStyle(n.styles,t),c=n.options&&n.options.params||null;if(o.containsDynamicStyles){const u=new Set,m=c||{};if(o.styles.forEach(g=>{if(jA(g)){const b=g;Object.keys(b).forEach(x=>{mG(b[x]).forEach(D=>{m.hasOwnProperty(D)||u.add(D)})})}}),u.size){const g=OA(u.values());t.errors.push(`state("${n.name}", ...) must define default values for all the following style substitutions: ${g.join(", ")}`)}}return{type:0,name:n.name,style:o,options:c?{params:c}:null}}visitTransition(n,t){t.queryCount=0,t.depCount=0;const o=Bo(this,z_(n.animation),t);return{type:1,matchers:Zoe(n.expr,t.errors),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:W3(n.options)}}visitSequence(n,t){return{type:2,steps:n.steps.map(o=>Bo(this,o,t)),options:W3(n.options)}}visitGroup(n,t){const o=t.currentTime;let c=0;const u=n.steps.map(m=>{t.currentTime=o;const g=Bo(this,m,t);return c=Math.max(c,t.currentTime),g});return t.currentTime=c,{type:3,steps:u,options:W3(n.options)}}visitAnimate(n,t){const o=function(i,n){let t=null;if(i.hasOwnProperty("duration"))t=i;else if("number"==typeof i)return Gj(RA(i,n).duration,0,"");const o=i;if(o.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=Gj(0,0,"");return u.dynamic=!0,u.strValue=o,u}return t=t||RA(o,n),Gj(t.duration,t.delay,t.easing)}(n.timings,t.errors);t.currentAnimateTimings=o;let c,u=n.styles?n.styles:Ki({});if(5==u.type)c=this.visitKeyframes(u,t);else{let m=n.styles,g=!1;if(!m){g=!0;const x={};o.easing&&(x.easing=o.easing),m=Ki(x)}t.currentTime+=o.duration+o.delay;const b=this.visitStyle(m,t);b.isEmptyStep=g,c=b}return t.currentAnimateTimings=null,{type:4,timings:o,style:c,options:null}}visitStyle(n,t){const o=this._makeStyleAst(n,t);return this._validateStyleAst(o,t),o}_makeStyleAst(n,t){const o=[];Array.isArray(n.styles)?n.styles.forEach(m=>{"string"==typeof m?m==Ll?o.push(m):t.errors.push(`The provided style string value ${m} is not allowed.`):o.push(m)}):o.push(n.styles);let c=!1,u=null;return o.forEach(m=>{if(jA(m)){const g=m,b=g.easing;if(b&&(u=b,delete g.easing),!c)for(let x in g)if(g[x].toString().indexOf("{{")>=0){c=!0;break}}}),{type:6,styles:o,easing:u,offset:n.offset,containsDynamicStyles:c,options:null}}_validateStyleAst(n,t){const o=t.currentAnimateTimings;let c=t.currentTime,u=t.currentTime;o&&u>0&&(u-=o.duration+o.delay),n.styles.forEach(m=>{"string"!=typeof m&&Object.keys(m).forEach(g=>{if(!this._driver.validateStyleProperty(g))return void t.errors.push(`The provided animation property "${g}" is not a supported CSS property for animations`);const b=t.collectedStyles[t.currentQuerySelector],x=b[g];let D=!0;x&&(u!=c&&u>=x.startTime&&c<=x.endTime&&(t.errors.push(`The CSS property "${g}" that exists between the times of "${x.startTime}ms" and "${x.endTime}ms" is also being animated in a parallel animation between the times of "${u}ms" and "${c}ms"`),D=!1),u=x.startTime),D&&(b[g]={startTime:u,endTime:c}),t.options&&function(i,n,t){const o=n.params||{},c=mG(i);c.length&&c.forEach(u=>{o.hasOwnProperty(u)||t.push(`Unable to resolve the local animation param ${u} in the given list of values`)})}(m[g],t.options,t.errors)})})}visitKeyframes(n,t){const o={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),o;let u=0;const m=[];let g=!1,b=!1,x=0;const D=n.steps.map(Q=>{const K=this._makeStyleAst(Q,t);let de=null!=K.offset?K.offset:function(i){if("string"==typeof i)return null;let n=null;if(Array.isArray(i))i.forEach(t=>{if(jA(t)&&t.hasOwnProperty("offset")){const o=t;n=parseFloat(o.offset),delete o.offset}});else if(jA(i)&&i.hasOwnProperty("offset")){const t=i;n=parseFloat(t.offset),delete t.offset}return n}(K.styles),_e=0;return null!=de&&(u++,_e=K.offset=de),b=b||_e<0||_e>1,g=g||_e<x,x=_e,m.push(_e),K});b&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),g&&t.errors.push("Please ensure that all keyframe offsets are in order");const k=n.steps.length;let z=0;u>0&&u<k?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==u&&(z=1/(k-1));const L=k-1,R=t.currentTime,j=t.currentAnimateTimings,B=j.duration;return D.forEach((Q,K)=>{const de=z>0?K==L?1:z*K:m[K],_e=de*B;t.currentTime=R+j.delay+_e,j.duration=_e,this._validateStyleAst(Q,t),Q.offset=de,o.styles.push(Q)}),o}visitReference(n,t){return{type:8,animation:Bo(this,z_(n.animation),t),options:W3(n.options)}}visitAnimateChild(n,t){return t.depCount++,{type:9,options:W3(n.options)}}visitAnimateRef(n,t){return{type:10,animation:this.visitReference(n.animation,t),options:W3(n.options)}}visitQuery(n,t){const o=t.currentQuerySelector,c=n.options||{};t.queryCount++,t.currentQuery=n;const[u,m]=function(i){const n=!!i.split(/\s*,\s*/).find(t=>":self"==t);return n&&(i=i.replace(Joe,"")),i=i.replace(/@\*/g,FA).replace(/@\w+/g,t=>FA+"-"+t.substr(1)).replace(/:animating/g,Bj),[i,n]}(n.selector);t.currentQuerySelector=o.length?o+" "+u:u,Ho(t.collectedStyles,t.currentQuerySelector,{});const g=Bo(this,z_(n.animation),t);return t.currentQuery=null,t.currentQuerySelector=o,{type:11,selector:u,limit:c.limit||0,optional:!!c.optional,includeSelf:m,animation:g,originalSelector:n.selector,options:W3(n.options)}}visitStagger(n,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const o="full"===n.timings?{duration:0,delay:0,easing:"full"}:RA(n.timings,t.errors,!0);return{type:12,animation:Bo(this,z_(n.animation),t),timings:o,options:null}}}class iae{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function jA(i){return!Array.isArray(i)&&"object"==typeof i}function W3(i){return i?(i=Z5(i)).params&&(i.params=function(i){return i?Z5(i):null}(i.params)):i={},i}function Gj(i,n,t){return{duration:i,delay:n,easing:t}}function Xj(i,n,t,o,c,u,m=null,g=!1){return{type:1,element:i,keyframes:n,preStyleProps:t,postStyleProps:o,duration:c,delay:u,totalTime:c+u,easing:m,subTimeline:g}}class UA{constructor(){this._map=new Map}consume(n){let t=this._map.get(n);return t?this._map.delete(n):t=[],t}append(n,t){let o=this._map.get(n);o||this._map.set(n,o=[]),o.push(...t)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const cae=new RegExp(":enter","g"),uae=new RegExp(":leave","g");function Yj(i,n,t,o,c,u={},m={},g,b,x=[]){return(new fae).buildKeyframes(i,n,t,o,c,u,m,g,b,x)}class fae{buildKeyframes(n,t,o,c,u,m,g,b,x,D=[]){x=x||new UA;const k=new Zj(n,t,x,c,u,D,[]);k.options=b,k.currentTimeline.setStyles([m],null,k.errors,b),Bo(this,o,k);const z=k.timelines.filter(L=>L.containsAnimation());if(z.length&&Object.keys(g).length){const L=z[z.length-1];L.allowOnlyTimelineStyles()||L.setStyles([g],null,k.errors,b)}return z.length?z.map(L=>L.buildKeyframes()):[Xj(t,[],[],[],0,0,"",!1)]}visitTrigger(n,t){}visitState(n,t){}visitTransition(n,t){}visitAnimateChild(n,t){const o=t.subInstructions.consume(t.element);if(o){const c=t.createSubContext(n.options),u=t.currentTimeline.currentTime,m=this._visitSubInstructions(o,c,c.options);u!=m&&t.transformIntoNewTimeline(m)}t.previousNode=n}visitAnimateRef(n,t){const o=t.createSubContext(n.options);o.transformIntoNewTimeline(),this.visitReference(n.animation,o),t.transformIntoNewTimeline(o.currentTimeline.currentTime),t.previousNode=n}_visitSubInstructions(n,t,o){let u=t.currentTimeline.currentTime;const m=null!=o.duration?$3(o.duration):null,g=null!=o.delay?$3(o.delay):null;return 0!==m&&n.forEach(b=>{const x=t.appendInstructionToTimeline(b,m,g);u=Math.max(u,x.duration+x.delay)}),u}visitReference(n,t){t.updateOptions(n.options,!0),Bo(this,n.animation,t),t.previousNode=n}visitSequence(n,t){const o=t.subContextCount;let c=t;const u=n.options;if(u&&(u.params||u.delay)&&(c=t.createSubContext(u),c.transformIntoNewTimeline(),null!=u.delay)){6==c.previousNode.type&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=$A);const m=$3(u.delay);c.delayNextStep(m)}n.steps.length&&(n.steps.forEach(m=>Bo(this,m,c)),c.currentTimeline.applyStylesToKeyframe(),c.subContextCount>o&&c.transformIntoNewTimeline()),t.previousNode=n}visitGroup(n,t){const o=[];let c=t.currentTimeline.currentTime;const u=n.options&&n.options.delay?$3(n.options.delay):0;n.steps.forEach(m=>{const g=t.createSubContext(n.options);u&&g.delayNextStep(u),Bo(this,m,g),c=Math.max(c,g.currentTimeline.currentTime),o.push(g.currentTimeline)}),o.forEach(m=>t.currentTimeline.mergeTimelineCollectedStyles(m)),t.transformIntoNewTimeline(c),t.previousNode=n}_visitTiming(n,t){if(n.dynamic){const o=n.strValue;return RA(t.params?VA(o,t.params,t.errors):o,t.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,t){const o=t.currentAnimateTimings=this._visitTiming(n.timings,t),c=t.currentTimeline;o.delay&&(t.incrementTime(o.delay),c.snapshotCurrentStyles());const u=n.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(o.duration),this.visitStyle(u,t),c.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=n}visitStyle(n,t){const o=t.currentTimeline,c=t.currentAnimateTimings;!c&&o.getCurrentStyleProperties().length&&o.forwardFrame();const u=c&&c.easing||n.easing;n.isEmptyStep?o.applyEmptyStep(u):o.setStyles(n.styles,u,t.errors,t.options),t.previousNode=n}visitKeyframes(n,t){const o=t.currentAnimateTimings,c=t.currentTimeline.duration,u=o.duration,g=t.createSubContext().currentTimeline;g.easing=o.easing,n.styles.forEach(b=>{g.forwardTime((b.offset||0)*u),g.setStyles(b.styles,b.easing,t.errors,t.options),g.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(g),t.transformIntoNewTimeline(c+u),t.previousNode=n}visitQuery(n,t){const o=t.currentTimeline.currentTime,c=n.options||{},u=c.delay?$3(c.delay):0;u&&(6===t.previousNode.type||0==o&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=$A);let m=o;const g=t.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!c.optional,t.errors);t.currentQueryTotal=g.length;let b=null;g.forEach((x,D)=>{t.currentQueryIndex=D;const k=t.createSubContext(n.options,x);u&&k.delayNextStep(u),x===t.element&&(b=k.currentTimeline),Bo(this,n.animation,k),k.currentTimeline.applyStylesToKeyframe(),m=Math.max(m,k.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(m),b&&(t.currentTimeline.mergeTimelineCollectedStyles(b),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=n}visitStagger(n,t){const o=t.parentContext,c=t.currentTimeline,u=n.timings,m=Math.abs(u.duration),g=m*(t.currentQueryTotal-1);let b=m*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":b=g-b;break;case"full":b=o.currentStaggerTime}const D=t.currentTimeline;b&&D.delayNextStep(b);const k=D.currentTime;Bo(this,n.animation,t),t.previousNode=n,o.currentStaggerTime=c.currentTime-k+(c.startTime-o.currentTimeline.startTime)}}const $A={};class Zj{constructor(n,t,o,c,u,m,g,b){this._driver=n,this.element=t,this.subInstructions=o,this._enterClassName=c,this._leaveClassName=u,this.errors=m,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$A,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=b||new qA(this._driver,t,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,t){if(!n)return;const o=n;let c=this.options;null!=o.duration&&(c.duration=$3(o.duration)),null!=o.delay&&(c.delay=$3(o.delay));const u=o.params;if(u){let m=c.params;m||(m=this.options.params={}),Object.keys(u).forEach(g=>{(!t||!m.hasOwnProperty(g))&&(m[g]=VA(u[g],m,this.errors))})}}_copyOptions(){const n={};if(this.options){const t=this.options.params;if(t){const o=n.params={};Object.keys(t).forEach(c=>{o[c]=t[c]})}}return n}createSubContext(n=null,t,o){const c=t||this.element,u=new Zj(this._driver,c,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(c,o||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(n),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(n){return this.previousNode=$A,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,t,o){const c={duration:null!=t?t:n.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+n.delay,easing:""},u=new dae(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,c,n.stretchStartingKeyframe);return this.timelines.push(u),c}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,t,o,c,u,m){let g=[];if(c&&g.push(this.element),n.length>0){n=(n=n.replace(cae,"."+this._enterClassName)).replace(uae,"."+this._leaveClassName);let x=this._driver.query(this.element,n,1!=o);0!==o&&(x=o<0?x.slice(x.length+o,x.length):x.slice(0,o)),g.push(...x)}return!u&&0==g.length&&m.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),g}}class qA{constructor(n,t,o,c){this._driver=n,this.element=t,this.startTime=o,this._elementTimelineStylesLookup=c,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+n),t&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,t){return this.applyStylesToKeyframe(),new qA(this._driver,n,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,t){this._localTimelineStyles[n]=t,this._globalTimelineStyles[n]=t,this._styleSummary[n]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&(this._previousKeyframe.easing=n),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Ll,this._currentKeyframe[t]=Ll}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,t,o,c){t&&(this._previousKeyframe.easing=t);const u=c&&c.params||{},m=function(i,n){const t={};let o;return i.forEach(c=>{"*"===c?(o=o||Object.keys(n),o.forEach(u=>{t[u]=Ll})):q4(c,!1,t)}),t}(n,this._globalTimelineStyles);Object.keys(m).forEach(g=>{const b=VA(m[g],u,o);this._pendingStyles[g]=b,this._localTimelineStyles.hasOwnProperty(g)||(this._backFill[g]=this._globalTimelineStyles.hasOwnProperty(g)?this._globalTimelineStyles[g]:Ll),this._updateStyle(g,b)})}applyStylesToKeyframe(){const n=this._pendingStyles,t=Object.keys(n);0!=t.length&&(this._pendingStyles={},t.forEach(o=>{this._currentKeyframe[o]=n[o]}),Object.keys(this._localTimelineStyles).forEach(o=>{this._currentKeyframe.hasOwnProperty(o)||(this._currentKeyframe[o]=this._localTimelineStyles[o])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(n=>{const t=this._localTimelineStyles[n];this._pendingStyles[n]=t,this._updateStyle(n,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let t in this._currentKeyframe)n.push(t);return n}mergeTimelineCollectedStyles(n){Object.keys(n._styleSummary).forEach(t=>{const o=this._styleSummary[t],c=n._styleSummary[t];(!o||c.time>o.time)&&this._updateStyle(t,c.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,t=new Set,o=1===this._keyframes.size&&0===this.duration;let c=[];this._keyframes.forEach((g,b)=>{const x=q4(g,!0);Object.keys(x).forEach(D=>{const k=x[D];"!"==k?n.add(D):k==Ll&&t.add(D)}),o||(x.offset=b/this.duration),c.push(x)});const u=n.size?OA(n.values()):[],m=t.size?OA(t.values()):[];if(o){const g=c[0],b=Z5(g);g.offset=0,b.offset=1,c=[g,b]}return Xj(this.element,c,u,m,this.duration,this.startTime,this.easing,!1)}}class dae extends qA{constructor(n,t,o,c,u,m,g=!1){super(n,t,m.delay),this.keyframes=o,this.preStyleProps=c,this.postStyleProps=u,this._stretchStartingKeyframe=g,this.timings={duration:m.duration,delay:m.delay,easing:m.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:t,duration:o,easing:c}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],m=o+t,g=t/m,b=q4(n[0],!1);b.offset=0,u.push(b);const x=q4(n[0],!1);x.offset=bG(g),u.push(x);const D=n.length-1;for(let k=1;k<=D;k++){let z=q4(n[k],!1);z.offset=bG((t+z.offset*o)/m),u.push(z)}o=m,t=0,c="",n=u}return Xj(this.element,n,this.preStyleProps,this.postStyleProps,o,t,c,!0)}}function bG(i,n=3){const t=Math.pow(10,n-1);return Math.round(i*t)/t}class Kj{}class mae extends Kj{normalizePropertyName(n,t){return $j(n)}normalizeStyleValue(n,t,o,c){let u="";const m=o.toString().trim();if(pae[t]&&0!==o&&"0"!==o)if("number"==typeof o)u="px";else{const g=o.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&c.push(`Please provide a CSS unit value for ${n}:${o}`)}return m+u}}const pae=(()=>function(i){const n={};return i.forEach(t=>n[t]=!0),n}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function CG(i,n,t,o,c,u,m,g,b,x,D,k,z){return{type:0,element:i,triggerName:n,isRemovalTransition:c,fromState:t,fromStyles:u,toState:o,toStyles:m,timelines:g,queriedElements:b,preStyleProps:x,postStyleProps:D,totalTime:k,errors:z}}const Qj={};class xG{constructor(n,t,o){this._triggerName=n,this.ast=t,this._stateStyles=o}match(n,t,o,c){return function(i,n,t,o,c){return i.some(u=>u(n,t,o,c))}(this.ast.matchers,n,t,o,c)}buildStyles(n,t,o){const c=this._stateStyles["*"],u=this._stateStyles[n],m=c?c.buildStyles(t,o):{};return u?u.buildStyles(t,o):m}build(n,t,o,c,u,m,g,b,x,D){const k=[],z=this.ast.options&&this.ast.options.params||Qj,R=this.buildStyles(o,g&&g.params||Qj,k),j=b&&b.params||Qj,B=this.buildStyles(c,j,k),Q=new Set,K=new Map,de=new Map,_e="void"===c,Ge={params:Ct(Ct({},z),j)},wt=D?[]:Yj(n,t,this.ast.animation,u,m,R,B,Ge,x,k);let Wt=0;if(wt.forEach(Ji=>{Wt=Math.max(Ji.duration+Ji.delay,Wt)}),k.length)return CG(t,this._triggerName,o,c,_e,R,B,[],[],K,de,Wt,k);wt.forEach(Ji=>{const ni=Ji.element,Rl=Ho(K,ni,{});Ji.preStyleProps.forEach(Ts=>Rl[Ts]=!0);const Vl=Ho(de,ni,{});Ji.postStyleProps.forEach(Ts=>Vl[Ts]=!0),ni!==t&&Q.add(ni)});const Sr=OA(Q.values());return CG(t,this._triggerName,o,c,_e,R,B,wt,Sr,K,de,Wt)}}class _ae{constructor(n,t,o){this.styles=n,this.defaultParams=t,this.normalizer=o}buildStyles(n,t){const o={},c=Z5(this.defaultParams);return Object.keys(n).forEach(u=>{const m=n[u];null!=m&&(c[u]=m)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const m=u;Object.keys(m).forEach(g=>{let b=m[g];b.length>1&&(b=VA(b,c,t));const x=this.normalizer.normalizePropertyName(g,t);b=this.normalizer.normalizeStyleValue(g,x,b,t),o[x]=b})}}),o}}class bae{constructor(n,t,o){this.name=n,this.ast=t,this._normalizer=o,this.transitionFactories=[],this.states={},t.states.forEach(c=>{this.states[c.name]=new _ae(c.style,c.options&&c.options.params||{},o)}),MG(this.states,"true","1"),MG(this.states,"false","0"),t.transitions.forEach(c=>{this.transitionFactories.push(new xG(n,c,this.states))}),this.fallbackTransition=function(i,n,t){return new xG(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(m,g)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,t,o,c){return this.transitionFactories.find(m=>m.match(n,t,o,c))||null}matchStyles(n,t,o){return this.fallbackTransition.buildStyles(n,t,o)}}function MG(i,n,t){i.hasOwnProperty(n)?i.hasOwnProperty(t)||(i[t]=i[n]):i.hasOwnProperty(t)&&(i[n]=i[t])}const xae=new UA;class Mae{constructor(n,t,o){this.bodyNode=n,this._driver=t,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(n,t){const o=[],c=Wj(this._driver,t,o);if(o.length)throw new Error(`Unable to build the animation due to the following errors: ${o.join("\n")}`);this._animations[n]=c}_buildPlayer(n,t,o){const c=n.element,u=nG(0,this._normalizer,0,n.keyframes,t,o);return this._driver.animate(c,u,n.duration,n.delay,n.easing,[],!0)}create(n,t,o={}){const c=[],u=this._animations[n];let m;const g=new Map;if(u?(m=Yj(this._driver,t,u,Hj,IA,{},{},o,xae,c),m.forEach(D=>{const k=Ho(g,D.element,{});D.postStyleProps.forEach(z=>k[z]=null)})):(c.push("The requested animation doesn't exist or has already been destroyed"),m=[]),c.length)throw new Error(`Unable to create the animation due to the following errors: ${c.join("\n")}`);g.forEach((D,k)=>{Object.keys(D).forEach(z=>{D[z]=this._driver.computeStyle(k,z,Ll)})});const x=$4(m.map(D=>{const k=g.get(D.element);return this._buildPlayer(D,{},k)}));return this._playersById[n]=x,x.onDestroy(()=>this.destroy(n)),this.players.push(x),x}destroy(n){const t=this._getPlayer(n);t.destroy(),delete this._playersById[n];const o=this.players.indexOf(t);o>=0&&this.players.splice(o,1)}_getPlayer(n){const t=this._playersById[n];if(!t)throw new Error(`Unable to find the timeline player referenced by ${n}`);return t}listen(n,t,o,c){const u=Nj(t,"","","");return Tj(this._getPlayer(n),o,u,c),()=>{}}command(n,t,o,c){if("register"==o)return void this.register(n,c[0]);if("create"==o)return void this.create(n,t,c[0]||{});const u=this._getPlayer(n);switch(o){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(c[0]));break;case"destroy":this.destroy(n)}}}const wG="ng-animate-queued",EG="ng-animate-disabled",DG=".ng-animate-disabled",Sae=[],SG={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Aae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ka="__ng_removed";class Jj{constructor(n,t=""){this.namespaceId=t;const o=n&&n.hasOwnProperty("value");if(this.value=function(i){return null!=i?i:null}(o?n.value:n),o){const u=Z5(n);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(n){const t=n.params;if(t){const o=this.options.params;Object.keys(t).forEach(c=>{null==o[c]&&(o[c]=t[c])})}}}const N_="void",eU=new Jj(N_);class kae{constructor(n,t,o){this.id=n,this.hostElement=t,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Ta(t,this._hostClassName)}listen(n,t,o,c){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${o}" because the animation trigger "${t}" doesn't exist!`);if(null==o||0==o.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(i){return"start"==i||"done"==i}(o))throw new Error(`The provided animation trigger event "${o}" for the animation trigger "${t}" is not supported!`);const u=Ho(this._elementListeners,n,[]),m={name:t,phase:o,callback:c};u.push(m);const g=Ho(this._engine.statesByElement,n,{});return g.hasOwnProperty(t)||(Ta(n,LA),Ta(n,LA+"-"+t),g[t]=eU),()=>{this._engine.afterFlush(()=>{const b=u.indexOf(m);b>=0&&u.splice(b,1),this._triggers[t]||delete g[t]})}}register(n,t){return!this._triggers[n]&&(this._triggers[n]=t,!0)}_getTrigger(n){const t=this._triggers[n];if(!t)throw new Error(`The provided animation trigger "${n}" has not been registered!`);return t}trigger(n,t,o,c=!0){const u=this._getTrigger(t),m=new tU(this.id,t,n);let g=this._engine.statesByElement.get(n);g||(Ta(n,LA),Ta(n,LA+"-"+t),this._engine.statesByElement.set(n,g={}));let b=g[t];const x=new Jj(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&b&&x.absorbOptions(b.options),g[t]=x,b||(b=eU),x.value!==N_&&b.value===x.value){if(!function(i,n){const t=Object.keys(i),o=Object.keys(n);if(t.length!=o.length)return!1;for(let c=0;c<t.length;c++){const u=t[c];if(!n.hasOwnProperty(u)||i[u]!==n[u])return!1}return!0}(b.params,x.params)){const j=[],B=u.matchStyles(b.value,b.params,j),Q=u.matchStyles(x.value,x.params,j);j.length?this._engine.reportError(j):this._engine.afterFlush(()=>{q3(n,B),$2(n,Q)})}return}const z=Ho(this._engine.playersByElement,n,[]);z.forEach(j=>{j.namespaceId==this.id&&j.triggerName==t&&j.queued&&j.destroy()});let L=u.matchTransition(b.value,x.value,n,x.params),R=!1;if(!L){if(!c)return;L=u.fallbackTransition,R=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:t,transition:L,fromState:b,toState:x,player:m,isFallbackTransition:R}),R||(Ta(n,wG),m.onStart(()=>{K5(n,wG)})),m.onDone(()=>{let j=this.players.indexOf(m);j>=0&&this.players.splice(j,1);const B=this._engine.playersByElement.get(n);if(B){let Q=B.indexOf(m);Q>=0&&B.splice(Q,1)}}),this.players.push(m),z.push(m),m}deregister(n){delete this._triggers[n],this._engine.statesByElement.forEach((t,o)=>{delete t[n]}),this._elementListeners.forEach((t,o)=>{this._elementListeners.set(o,t.filter(c=>c.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const t=this._engine.playersByElement.get(n);t&&(t.forEach(o=>o.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,t){const o=this._engine.driver.query(n,FA,!0);o.forEach(c=>{if(c[ka])return;const u=this._engine.fetchNamespacesByElement(c);u.size?u.forEach(m=>m.triggerLeaveAnimation(c,t,!1,!0)):this.clearElementCache(c)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(c=>this.clearElementCache(c)))}triggerLeaveAnimation(n,t,o,c){const u=this._engine.statesByElement.get(n);if(u){const m=[];if(Object.keys(u).forEach(g=>{if(this._triggers[g]){const b=this.trigger(n,g,N_,c);b&&m.push(b)}}),m.length)return this._engine.markElementAsRemoved(this.id,n,!0,t),o&&$4(m).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const t=this._elementListeners.get(n),o=this._engine.statesByElement.get(n);if(t&&o){const c=new Set;t.forEach(u=>{const m=u.name;if(c.has(m))return;c.add(m);const b=this._triggers[m].fallbackTransition,x=o[m]||eU,D=new Jj(N_),k=new tU(this.id,m,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:m,transition:b,fromState:x,toState:D,player:k,isFallbackTransition:!0})})}}removeNode(n,t){const o=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,t),this.triggerLeaveAnimation(n,t,!0))return;let c=!1;if(o.totalAnimations){const u=o.players.length?o.playersByQueriedElement.get(n):[];if(u&&u.length)c=!0;else{let m=n;for(;m=m.parentNode;)if(o.statesByElement.get(m)){c=!0;break}}}if(this.prepareLeaveAnimationListeners(n),c)o.markElementAsRemoved(this.id,n,!1,t);else{const u=n[ka];(!u||u===SG)&&(o.afterFlush(()=>this.clearElementCache(n)),o.destroyInnerAnimations(n),o._onRemovalComplete(n,t))}}insertNode(n,t){Ta(n,this._hostClassName)}drainQueuedTransitions(n){const t=[];return this._queue.forEach(o=>{const c=o.player;if(c.destroyed)return;const u=o.element,m=this._elementListeners.get(u);m&&m.forEach(g=>{if(g.name==o.triggerName){const b=Nj(u,o.triggerName,o.fromState.value,o.toState.value);b._data=n,Tj(o.player,g.phase,b,g.callback)}}),c.markedForDestroy?this._engine.afterFlush(()=>{c.destroy()}):t.push(o)}),this._queue=[],t.sort((o,c)=>{const u=o.transition.ast.depCount,m=c.transition.ast.depCount;return 0==u||0==m?u-m:this._engine.driver.containsElement(o.element,c.element)?1:-1})}destroy(n){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let t=!1;return this._elementListeners.has(n)&&(t=!0),t=!!this._queue.find(o=>o.element===n)||t,t}}class Tae{constructor(n,t,o){this.bodyNode=n,this.driver=t,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(c,u)=>{}}_onRemovalComplete(n,t){this.onRemovalComplete(n,t)}get queuedPlayers(){const n=[];return this._namespaceList.forEach(t=>{t.players.forEach(o=>{o.queued&&n.push(o)})}),n}createNamespace(n,t){const o=new kae(n,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(o,t):(this.newHostElements.set(t,o),this.collectEnterElement(t)),this._namespaceLookup[n]=o}_balanceNamespaceList(n,t){const o=this._namespaceList.length-1;if(o>=0){let c=!1;for(let u=o;u>=0;u--)if(this.driver.containsElement(this._namespaceList[u].hostElement,t)){this._namespaceList.splice(u+1,0,n),c=!0;break}c||this._namespaceList.splice(0,0,n)}else this._namespaceList.push(n);return this.namespacesByHostElement.set(t,n),n}register(n,t){let o=this._namespaceLookup[n];return o||(o=this.createNamespace(n,t)),o}registerTrigger(n,t,o){let c=this._namespaceLookup[n];c&&c.register(t,o)&&this.totalAnimations++}destroy(n,t){if(!n)return;const o=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[n];const c=this._namespaceList.indexOf(o);c>=0&&this._namespaceList.splice(c,1)}),this.afterFlushAnimationsDone(()=>o.destroy(t))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const t=new Set,o=this.statesByElement.get(n);if(o){const c=Object.keys(o);for(let u=0;u<c.length;u++){const m=o[c[u]].namespaceId;if(m){const g=this._fetchNamespace(m);g&&t.add(g)}}}return t}trigger(n,t,o,c){if(WA(t)){const u=this._fetchNamespace(n);if(u)return u.trigger(t,o,c),!0}return!1}insertNode(n,t,o,c){if(!WA(t))return;const u=t[ka];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const m=this.collectedLeaveElements.indexOf(t);m>=0&&this.collectedLeaveElements.splice(m,1)}if(n){const m=this._fetchNamespace(n);m&&m.insertNode(t,o)}c&&this.collectEnterElement(t)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,t){t?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Ta(n,EG)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),K5(n,EG))}removeNode(n,t,o,c){if(WA(t)){const u=n?this._fetchNamespace(n):null;if(u?u.removeNode(t,c):this.markElementAsRemoved(n,t,!1,c),o){const m=this.namespacesByHostElement.get(t);m&&m.id!==n&&m.removeNode(t,c)}}else this._onRemovalComplete(t,c)}markElementAsRemoved(n,t,o,c){this.collectedLeaveElements.push(t),t[ka]={namespaceId:n,setForRemoval:c,hasAnimation:o,removedBeforeQueried:!1}}listen(n,t,o,c,u){return WA(t)?this._fetchNamespace(n).listen(t,o,c,u):()=>{}}_buildInstruction(n,t,o,c,u){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,o,c,n.fromState.options,n.toState.options,t,u)}destroyInnerAnimations(n){let t=this.driver.query(n,FA,!0);t.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(n,Bj,!0),t.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(n){const t=this.playersByElement.get(n);t&&t.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(n){const t=this.playersByQueriedElement.get(n);t&&t.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return $4(this.players).onDone(()=>n());n()})}processLeaveNode(n){const t=n[ka];if(t&&t.setForRemoval){if(n[ka]=SG,t.namespaceId){this.destroyInnerAnimations(n);const o=this._fetchNamespace(t.namespaceId);o&&o.clearElementCache(n)}this._onRemovalComplete(n,t.setForRemoval)}this.driver.matchesElement(n,DG)&&this.markElementAsDisabled(n,!1),this.driver.query(n,DG,!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(n=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,c)=>this._balanceNamespaceList(o,c)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)Ta(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{t=this._flushAnimations(o,n)}finally{for(let c=0;c<o.length;c++)o[c]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],t.length?$4(t).onDone(()=>{o.forEach(c=>c())}):o.forEach(c=>c())}}reportError(n){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${n.join("\n")}`)}_flushAnimations(n,t){const o=new UA,c=[],u=new Map,m=[],g=new Map,b=new Map,x=new Map,D=new Set;this.disabledNodes.forEach(Ae=>{D.add(Ae);const Xe=this.driver.query(Ae,".ng-animate-queued",!0);for(let at=0;at<Xe.length;at++)D.add(Xe[at])});const k=this.bodyNode,z=Array.from(this.statesByElement.keys()),L=TG(z,this.collectedEnterElements),R=new Map;let j=0;L.forEach((Ae,Xe)=>{const at=Hj+j++;R.set(Xe,at),Ae.forEach(jt=>Ta(jt,at))});const B=[],Q=new Set,K=new Set;for(let Ae=0;Ae<this.collectedLeaveElements.length;Ae++){const Xe=this.collectedLeaveElements[Ae],at=Xe[ka];at&&at.setForRemoval&&(B.push(Xe),Q.add(Xe),at.hasAnimation?this.driver.query(Xe,".ng-star-inserted",!0).forEach(jt=>Q.add(jt)):K.add(Xe))}const de=new Map,_e=TG(z,Array.from(Q));_e.forEach((Ae,Xe)=>{const at=IA+j++;de.set(Xe,at),Ae.forEach(jt=>Ta(jt,at))}),n.push(()=>{L.forEach((Ae,Xe)=>{const at=R.get(Xe);Ae.forEach(jt=>K5(jt,at))}),_e.forEach((Ae,Xe)=>{const at=de.get(Xe);Ae.forEach(jt=>K5(jt,at))}),B.forEach(Ae=>{this.processLeaveNode(Ae)})});const Ge=[],wt=[];for(let Ae=this._namespaceList.length-1;Ae>=0;Ae--)this._namespaceList[Ae].drainQueuedTransitions(t).forEach(at=>{const jt=at.player,er=at.element;if(Ge.push(jt),this.collectedEnterElements.length){const G2=er[ka];if(G2&&G2.setForMove)return void jt.destroy()}const W2=!k||!this.driver.containsElement(k,er),jo=de.get(er),K4=R.get(er),Yn=this._buildInstruction(at,o,K4,jo,W2);if(Yn.errors&&Yn.errors.length)wt.push(Yn);else{if(W2)return jt.onStart(()=>q3(er,Yn.fromStyles)),jt.onDestroy(()=>$2(er,Yn.toStyles)),void c.push(jt);if(at.isFallbackTransition)return jt.onStart(()=>q3(er,Yn.fromStyles)),jt.onDestroy(()=>$2(er,Yn.toStyles)),void c.push(jt);Yn.timelines.forEach(G2=>G2.stretchStartingKeyframe=!0),o.append(er,Yn.timelines),m.push({instruction:Yn,player:jt,element:er}),Yn.queriedElements.forEach(G2=>Ho(g,G2,[]).push(jt)),Yn.preStyleProps.forEach((G2,G_)=>{const Ck=Object.keys(G2);if(Ck.length){let K3=b.get(G_);K3||b.set(G_,K3=new Set),Ck.forEach(jU=>K3.add(jU))}}),Yn.postStyleProps.forEach((G2,G_)=>{const Ck=Object.keys(G2);let K3=x.get(G_);K3||x.set(G_,K3=new Set),Ck.forEach(jU=>K3.add(jU))})}});if(wt.length){const Ae=[];wt.forEach(Xe=>{Ae.push(`@${Xe.triggerName} has failed due to:\n`),Xe.errors.forEach(at=>Ae.push(`- ${at}\n`))}),Ge.forEach(Xe=>Xe.destroy()),this.reportError(Ae)}const Wt=new Map,Sr=new Map;m.forEach(Ae=>{const Xe=Ae.element;o.has(Xe)&&(Sr.set(Xe,Xe),this._beforeAnimationBuild(Ae.player.namespaceId,Ae.instruction,Wt))}),c.forEach(Ae=>{const Xe=Ae.element;this._getPreviousPlayers(Xe,!1,Ae.namespaceId,Ae.triggerName,null).forEach(jt=>{Ho(Wt,Xe,[]).push(jt),jt.destroy()})});const Ji=B.filter(Ae=>NG(Ae,b,x)),ni=new Map;kG(ni,this.driver,K,x,Ll).forEach(Ae=>{NG(Ae,b,x)&&Ji.push(Ae)});const Vl=new Map;L.forEach((Ae,Xe)=>{kG(Vl,this.driver,new Set(Ae),b,"!")}),Ji.forEach(Ae=>{const Xe=ni.get(Ae),at=Vl.get(Ae);ni.set(Ae,Ct(Ct({},Xe),at))});const Ts=[],i7=[],r7={};m.forEach(Ae=>{const{element:Xe,player:at,instruction:jt}=Ae;if(o.has(Xe)){if(D.has(Xe))return at.onDestroy(()=>$2(Xe,jt.toStyles)),at.disabled=!0,at.overrideTotalTime(jt.totalTime),void c.push(at);let er=r7;if(Sr.size>1){let jo=Xe;const K4=[];for(;jo=jo.parentNode;){const Yn=Sr.get(jo);if(Yn){er=Yn;break}K4.push(jo)}K4.forEach(Yn=>Sr.set(Yn,er))}const W2=this._buildAnimation(at.namespaceId,jt,Wt,u,Vl,ni);if(at.setRealPlayer(W2),er===r7)Ts.push(at);else{const jo=this.playersByElement.get(er);jo&&jo.length&&(at.parentPlayer=$4(jo)),c.push(at)}}else q3(Xe,jt.fromStyles),at.onDestroy(()=>$2(Xe,jt.toStyles)),i7.push(at),D.has(Xe)&&c.push(at)}),i7.forEach(Ae=>{const Xe=u.get(Ae.element);if(Xe&&Xe.length){const at=$4(Xe);Ae.setRealPlayer(at)}}),c.forEach(Ae=>{Ae.parentPlayer?Ae.syncPlayerEvents(Ae.parentPlayer):Ae.destroy()});for(let Ae=0;Ae<B.length;Ae++){const Xe=B[Ae],at=Xe[ka];if(K5(Xe,IA),at&&at.hasAnimation)continue;let jt=[];if(g.size){let W2=g.get(Xe);W2&&W2.length&&jt.push(...W2);let jo=this.driver.query(Xe,Bj,!0);for(let K4=0;K4<jo.length;K4++){let Yn=g.get(jo[K4]);Yn&&Yn.length&&jt.push(...Yn)}}const er=jt.filter(W2=>!W2.destroyed);er.length?Lae(this,Xe,er):this.processLeaveNode(Xe)}return B.length=0,Ts.forEach(Ae=>{this.players.push(Ae),Ae.onDone(()=>{Ae.destroy();const Xe=this.players.indexOf(Ae);this.players.splice(Xe,1)}),Ae.play()}),Ts}elementContainsData(n,t){let o=!1;const c=t[ka];return c&&c.setForRemoval&&(o=!0),this.playersByElement.has(t)&&(o=!0),this.playersByQueriedElement.has(t)&&(o=!0),this.statesByElement.has(t)&&(o=!0),this._fetchNamespace(n).elementContainsData(t)||o}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,t,o,c,u){let m=[];if(t){const g=this.playersByQueriedElement.get(n);g&&(m=g)}else{const g=this.playersByElement.get(n);if(g){const b=!u||u==N_;g.forEach(x=>{x.queued||!b&&x.triggerName!=c||m.push(x)})}}return(o||c)&&(m=m.filter(g=>!(o&&o!=g.namespaceId||c&&c!=g.triggerName))),m}_beforeAnimationBuild(n,t,o){const u=t.element,m=t.isRemovalTransition?void 0:n,g=t.isRemovalTransition?void 0:t.triggerName;for(const b of t.timelines){const x=b.element,D=x!==u,k=Ho(o,x,[]);this._getPreviousPlayers(x,D,m,g,t.toState).forEach(L=>{const R=L.getRealPlayer();R.beforeDestroy&&R.beforeDestroy(),L.destroy(),k.push(L)})}q3(u,t.fromStyles)}_buildAnimation(n,t,o,c,u,m){const g=t.triggerName,b=t.element,x=[],D=new Set,k=new Set,z=t.timelines.map(R=>{const j=R.element;D.add(j);const B=j[ka];if(B&&B.removedBeforeQueried)return new Y5(R.duration,R.delay);const Q=j!==b,K=function(i){const n=[];return zG(i,n),n}((o.get(j)||Sae).map(Wt=>Wt.getRealPlayer())).filter(Wt=>!!Wt.element&&Wt.element===j),de=u.get(j),_e=m.get(j),Ge=nG(0,this._normalizer,0,R.keyframes,de,_e),wt=this._buildPlayer(R,Ge,K);if(R.subTimeline&&c&&k.add(j),Q){const Wt=new tU(n,g,j);Wt.setRealPlayer(wt),x.push(Wt)}return wt});x.forEach(R=>{Ho(this.playersByQueriedElement,R.element,[]).push(R),R.onDone(()=>function(i,n,t){let o;if(i instanceof Map){if(o=i.get(n),o){if(o.length){const c=o.indexOf(t);o.splice(c,1)}0==o.length&&i.delete(n)}}else if(o=i[n],o){if(o.length){const c=o.indexOf(t);o.splice(c,1)}0==o.length&&delete i[n]}return o}(this.playersByQueriedElement,R.element,R))}),D.forEach(R=>Ta(R,uG));const L=$4(z);return L.onDestroy(()=>{D.forEach(R=>K5(R,uG)),$2(b,t.toStyles)}),k.forEach(R=>{Ho(c,R,[]).push(L)}),L}_buildPlayer(n,t,o){return t.length>0?this.driver.animate(n.element,t,n.duration,n.delay,n.easing,o):new Y5(n.duration,n.delay)}}class tU{constructor(n,t,o){this.namespaceId=n,this.triggerName=t,this.element=o,this._player=new Y5,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(o=>Tj(n,t,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const t=this._player;t.triggerCallback&&n.onStart(()=>t.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,t){Ho(this._queuedCallbacks,n,[]).push(t)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const t=this._player;t.triggerCallback&&t.triggerCallback(n)}}function WA(i){return i&&1===i.nodeType}function AG(i,n){const t=i.style.display;return i.style.display=null!=n?n:"none",t}function kG(i,n,t,o,c){const u=[];t.forEach(b=>u.push(AG(b)));const m=[];o.forEach((b,x)=>{const D={};b.forEach(k=>{const z=D[k]=n.computeStyle(x,k,c);(!z||0==z.length)&&(x[ka]=Aae,m.push(x))}),i.set(x,D)});let g=0;return t.forEach(b=>AG(b,u[g++])),m}function TG(i,n){const t=new Map;if(i.forEach(g=>t.set(g,[])),0==n.length)return t;const c=new Set(n),u=new Map;function m(g){if(!g)return 1;let b=u.get(g);if(b)return b;const x=g.parentNode;return b=t.has(x)?x:c.has(x)?1:m(x),u.set(g,b),b}return n.forEach(g=>{const b=m(g);1!==b&&t.get(b).push(g)}),t}const GA="$$classes";function Ta(i,n){if(i.classList)i.classList.add(n);else{let t=i[GA];t||(t=i[GA]={}),t[n]=!0}}function K5(i,n){if(i.classList)i.classList.remove(n);else{let t=i[GA];t&&delete t[n]}}function Lae(i,n,t){$4(t).onDone(()=>i.processLeaveNode(n))}function zG(i,n){for(let t=0;t<i.length;t++){const o=i[t];o instanceof eG?zG(o.players,n):n.push(o)}}function NG(i,n,t){const o=t.get(i);if(!o)return!1;let c=n.get(i);return c?o.forEach(u=>c.add(u)):n.set(i,o),t.delete(i),!0}class XA{constructor(n,t,o){this.bodyNode=n,this._driver=t,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(c,u)=>{},this._transitionEngine=new Tae(n,t,o),this._timelineEngine=new Mae(n,t,o),this._transitionEngine.onRemovalComplete=(c,u)=>this.onRemovalComplete(c,u)}registerTrigger(n,t,o,c,u){const m=n+"-"+c;let g=this._triggerCache[m];if(!g){const b=[],x=Wj(this._driver,u,b);if(b.length)throw new Error(`The animation trigger "${c}" has failed to build due to the following errors:\n - ${b.join("\n - ")}`);g=function(i,n,t){return new bae(i,n,t)}(c,x,this._normalizer),this._triggerCache[m]=g}this._transitionEngine.registerTrigger(t,c,g)}register(n,t){this._transitionEngine.register(n,t)}destroy(n,t){this._transitionEngine.destroy(n,t)}onInsert(n,t,o,c){this._transitionEngine.insertNode(n,t,o,c)}onRemove(n,t,o,c){this._transitionEngine.removeNode(n,t,c||!1,o)}disableAnimations(n,t){this._transitionEngine.markElementAsDisabled(n,t)}process(n,t,o,c){if("@"==o.charAt(0)){const[u,m]=iG(o);this._timelineEngine.command(u,t,m,c)}else this._transitionEngine.trigger(n,t,o,c)}listen(n,t,o,c,u){if("@"==o.charAt(0)){const[m,g]=iG(o);return this._timelineEngine.listen(m,t,g,u)}return this._transitionEngine.listen(n,t,o,c,u)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function IG(i,n){let t=null,o=null;return Array.isArray(n)&&n.length?(t=nU(n[0]),n.length>1&&(o=nU(n[n.length-1]))):n&&(t=nU(n)),t||o?new Vae(i,t,o):null}let Vae=(()=>{class i{constructor(t,o,c){this._element=t,this._startStyles=o,this._endStyles=c,this._state=0;let u=i.initialStylesByElement.get(t);u||i.initialStylesByElement.set(t,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&$2(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($2(this._element,this._initialStyles),this._endStyles&&($2(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(q3(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(q3(this._element,this._endStyles),this._endStyles=null),$2(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function nU(i){let n=null;const t=Object.keys(i);for(let o=0;o<t.length;o++){const c=t[o];Oae(c)&&(n=n||{},n[c]=i[c])}return n}function Oae(i){return"display"===i||"position"===i}const LG="animation",FG="animationend";class Bae{constructor(n,t,o,c,u,m,g){this._element=n,this._name=t,this._duration=o,this._delay=c,this._easing=u,this._fillMode=m,this._onDoneFn=g,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=b=>this._handleCallback(b)}apply(){(function(i,n){const t=rU(i,"").trim();let o=0;t.length&&(function(i,n){let t=0;for(let o=0;o<i.length;o++)","===i.charAt(o)&&t++;return t}(t)+1,n=`${t}, ${n}`),YA(i,"",n)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),OG(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){RG(this._element,this._name,"paused")}resume(){RG(this._element,this._name,"running")}setPosition(n){const t=VG(this._element,this._name);this._position=n*this._duration,YA(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(n){const t=n._ngTestManualTimestamp||Date.now(),o=1e3*parseFloat(n.elapsedTime.toFixed(3));n.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&o>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),OG(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(i,n){const o=rU(i,"").split(","),c=iU(o,n);c>=0&&(o.splice(c,1),YA(i,"",o.join(",")))}(this._element,this._name))}}function RG(i,n,t){YA(i,"PlayState",t,VG(i,n))}function VG(i,n){const t=rU(i,"");return t.indexOf(",")>0?iU(t.split(","),n):iU([t],n)}function iU(i,n){for(let t=0;t<i.length;t++)if(i[t].indexOf(n)>=0)return t;return-1}function OG(i,n,t){t?i.removeEventListener(FG,n):i.addEventListener(FG,n)}function YA(i,n,t,o){const c=LG+n;if(null!=o){const u=i.style[c];if(u.length){const m=u.split(",");m[o]=t,t=m.join(",")}}i.style[c]=t}function rU(i,n){return i.style[LG+n]||""}class PG{constructor(n,t,o,c,u,m,g,b){this.element=n,this.keyframes=t,this.animationName=o,this._duration=c,this._delay=u,this._finalStyles=g,this._specialStyles=b,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=m||"linear",this.totalTime=c+u,this._buildStyler()}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(n=>n()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(n){this._styler.setPosition(n)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Bae(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}beforeDestroy(){this.init();const n={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(o=>{"offset"!=o&&(n[o]=t?this._finalStyles[o]:qj(this.element,o))})}this.currentSnapshot=n}}class Gae extends Y5{constructor(n,t){super(),this.element=n,this._startingStyles={},this.__initialized=!1,this._styles=sG(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(n=>{this._startingStyles[n]=this.element.style[n]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(n=>this.element.style.setProperty(n,this._styles[n])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(n=>{const t=this._startingStyles[n];t?this.element.style.setProperty(n,t):this.element.style.removeProperty(n)}),this._startingStyles=null,super.destroy())}}class BG{constructor(){this._count=0}validateStyleProperty(n){return Fj(n)}matchesElement(n,t){return Rj(n,t)}containsElement(n,t){return Vj(n,t)}query(n,t,o){return Oj(n,t,o)}computeStyle(n,t,o){return window.getComputedStyle(n)[t]}buildKeyframeElement(n,t,o){o=o.map(g=>sG(g));let c=`@keyframes ${t} {\n`,u="";o.forEach(g=>{u=" ";const b=parseFloat(g.offset);c+=`${u}${100*b}% {\n`,u+=" ",Object.keys(g).forEach(x=>{const D=g[x];switch(x){case"offset":return;case"easing":return void(D&&(c+=`${u}animation-timing-function: ${D};\n`));default:return void(c+=`${u}${x}: ${D};\n`)}}),c+=`${u}}\n`}),c+="}\n";const m=document.createElement("style");return m.textContent=c,m}animate(n,t,o,c,u,m=[],g){const b=m.filter(B=>B instanceof PG),x={};pG(o,c)&&b.forEach(B=>{let Q=B.currentSnapshot;Object.keys(Q).forEach(K=>x[K]=Q[K])});const D=function(i){let n={};return i&&(Array.isArray(i)?i:[i]).forEach(o=>{Object.keys(o).forEach(c=>{"offset"==c||"easing"==c||(n[c]=o[c])})}),n}(t=gG(n,t,x));if(0==o)return new Gae(n,D);const k="gen_css_kf_"+this._count++,z=this.buildKeyframeElement(n,k,t);(function(i){var t;const n=null==(t=i.getRootNode)?void 0:t.call(i);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(n).appendChild(z);const R=IG(n,t),j=new PG(n,t,k,o,c,u,D,R);return j.onDestroy(()=>function(i){i.parentNode.removeChild(i)}(z)),j}}class UG{constructor(n,t,o,c){this.element=n,this.keyframes=t,this.options=o,this._specialStyles=c,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(n,t,o){return n.animate(t,o)}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(n[t]=this._finished?this._finalKeyframe[t]:qj(this.element,t))}),this.currentSnapshot=n}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class Qae{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test($G().toString()),this._cssKeyframesDriver=new BG}validateStyleProperty(n){return Fj(n)}matchesElement(n,t){return Rj(n,t)}containsElement(n,t){return Vj(n,t)}query(n,t,o){return Oj(n,t,o)}computeStyle(n,t,o){return window.getComputedStyle(n)[t]}overrideWebAnimationsSupport(n){this._isNativeImpl=n}animate(n,t,o,c,u,m=[],g){if(!g&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(n,t,o,c,u,m);const D={duration:o,delay:c,fill:0==c?"both":"forwards"};u&&(D.easing=u);const k={},z=m.filter(R=>R instanceof UG);pG(o,c)&&z.forEach(R=>{let j=R.currentSnapshot;Object.keys(j).forEach(B=>k[B]=j[B])});const L=IG(n,t=gG(n,t=t.map(R=>q4(R,!1)),k));return new UG(n,t,D,L)}}function $G(){return tG()&&Element.prototype.animate||{}}let ese=(()=>{class i extends KW{constructor(t,o){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(o.body,{id:"0",encapsulation:Lr.None,styles:[],data:{animation:[]}})}build(t){const o=this._nextAnimationId.toString();this._nextAnimationId++;const c=Array.isArray(t)?QW(t):t;return qG(this._renderer,null,o,"register",[c]),new tse(o,this._renderer)}}return i.\u0275fac=function(t){return new(t||i)(ce(ma),ce(ut))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();class tse extends class{}{constructor(n,t){super(),this._id=n,this._renderer=t}create(n,t){return new nse(this._id,n,t||{},this._renderer)}}class nse{constructor(n,t,o,c){this.id=n,this.element=t,this._renderer=c,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(n,t){return this._renderer.listen(this.element,`@@${this.id}:${n}`,t)}_command(n,...t){return qG(this._renderer,this.element,this.id,n,t)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){var n,t;return null!=(t=null==(n=this._renderer.engine.players[+this.id])?void 0:n.getPosition())?t:0}}function qG(i,n,t,o,c){return i.setProperty(n,`@@${t}:${o}`,c)}const WG="@.disabled";let ise=(()=>{class i{constructor(t,o,c){this.delegate=t,this.engine=o,this._zone=c,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(u,m)=>{const g=null==m?void 0:m.parentNode(u);g&&m.removeChild(g,u)}}createRenderer(t,o){const u=this.delegate.createRenderer(t,o);if(!(t&&o&&o.data&&o.data.animation)){let D=this._rendererCache.get(u);return D||(D=new GG("",u,this.engine),this._rendererCache.set(u,D)),D}const m=o.id,g=o.id+"-"+this._currentId;this._currentId++,this.engine.register(g,t);const b=D=>{Array.isArray(D)?D.forEach(b):this.engine.registerTrigger(m,g,t,D.name,D)};return o.data.animation.forEach(b),new rse(this,g,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,o,c){t>=0&&t<this._microtaskId?this._zone.run(()=>o(c)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[m,g]=u;m(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,c]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(t){return new(t||i)(ce(ma),ce(XA),ce(Et))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();class GG{constructor(n,t,o){this.namespaceId=n,this.delegate=t,this.engine=o,this.destroyNode=this.delegate.destroyNode?c=>t.destroyNode(c):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(n,t){return this.delegate.createElement(n,t)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,t){this.delegate.appendChild(n,t),this.engine.onInsert(this.namespaceId,t,n,!1)}insertBefore(n,t,o,c=!0){this.delegate.insertBefore(n,t,o),this.engine.onInsert(this.namespaceId,t,n,c)}removeChild(n,t,o){this.engine.onRemove(this.namespaceId,t,this.delegate,o)}selectRootElement(n,t){return this.delegate.selectRootElement(n,t)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,t,o,c){this.delegate.setAttribute(n,t,o,c)}removeAttribute(n,t,o){this.delegate.removeAttribute(n,t,o)}addClass(n,t){this.delegate.addClass(n,t)}removeClass(n,t){this.delegate.removeClass(n,t)}setStyle(n,t,o,c){this.delegate.setStyle(n,t,o,c)}removeStyle(n,t,o){this.delegate.removeStyle(n,t,o)}setProperty(n,t,o){"@"==t.charAt(0)&&t==WG?this.disableAnimations(n,!!o):this.delegate.setProperty(n,t,o)}setValue(n,t){this.delegate.setValue(n,t)}listen(n,t,o){return this.delegate.listen(n,t,o)}disableAnimations(n,t){this.engine.disableAnimations(n,t)}}class rse extends GG{constructor(n,t,o,c){super(t,o,c),this.factory=n,this.namespaceId=t}setProperty(n,t,o){"@"==t.charAt(0)?"."==t.charAt(1)&&t==WG?this.disableAnimations(n,o=void 0===o||!!o):this.engine.process(this.namespaceId,n,t.substr(1),o):this.delegate.setProperty(n,t,o)}listen(n,t,o){if("@"==t.charAt(0)){const c=function(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(n);let u=t.substr(1),m="";return"@"!=u.charAt(0)&&([u,m]=function(i){const n=i.indexOf(".");return[i.substring(0,n),i.substr(n+1)]}(u)),this.engine.listen(this.namespaceId,c,u,m,g=>{this.factory.scheduleListenerCallback(g._data||-1,o,g)})}return this.delegate.listen(n,t,o)}}let sse=(()=>{class i extends XA{constructor(t,o,c){super(t.body,o,c)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(t){return new(t||i)(ce(ut),ce(Pj),ce(Kj))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();const za=new be("AnimationModuleType"),XG=[{provide:KW,useClass:ese},{provide:Kj,useFactory:function(){return new mae}},{provide:XA,useClass:sse},{provide:ma,useFactory:function(i,n,t){return new ise(i,n,t)},deps:[b4,XA,Et]}],YG=[{provide:Pj,useFactory:function(){return"function"==typeof $G()?new Qae:new BG}},{provide:za,useValue:"BrowserAnimations"},...XG],fse=[{provide:Pj,useClass:cG},{provide:za,useValue:"NoopAnimations"},...XG];let dse=(()=>{class i{static withConfig(t){return{ngModule:i,providers:t.disableAnimations?fse:YG}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({providers:YG,imports:[Yg]}),i})();function hse(i,n){if(1&i&&He(0,"mat-pseudo-checkbox",4),2&i){const t=ze();pe("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function mse(i,n){if(1&i&&(X(0,"span",5),je(1),$()),2&i){const t=ze();he(1),mr("(",t.group.label,")")}}const pse=["*"],ZG=new cs("13.0.2"),vse=new be("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let tn=(()=>{class i{constructor(t,o,c){this._hasDoneGlobalChecks=!1,this._document=c,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=o,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!Hp()||wj())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const o=getComputedStyle(t);o&&"none"!==o.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.remove()}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&ZG.full!==ZW.full&&console.warn("The Angular Material version ("+ZG.full+") does not match the Angular CDK version ("+ZW.full+").\nPlease ensure the versions of these two packages exactly match.")}}return i.\u0275fac=function(t){return new(t||i)(ce(YW),ce(vse,8),ce(ut))},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({imports:[[T_],T_]}),i})();function KA(i){return class extends i{constructor(...n){super(...n),this._disabled=!1}get disabled(){return this._disabled}set disabled(n){this._disabled=Pt(n)}}}function I_(i,n){return class extends i{constructor(...t){super(...t),this.defaultColor=n,this.color=n}get color(){return this._color}set color(t){const o=t||this.defaultColor;o!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),o&&this._elementRef.nativeElement.classList.add(`mat-${o}`),this._color=o)}}}function G3(i){return class extends i{constructor(...n){super(...n),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=Pt(n)}}}function QA(i,n=0){return class extends i{constructor(...t){super(...t),this._tabIndex=n,this.defaultTabIndex=n}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?q5(t):this.defaultTabIndex}}}function KG(i){return class extends i{constructor(...n){super(...n),this.stateChanges=new st,this.errorState=!1}updateErrorState(){const n=this.errorState,u=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);u!==n&&(this.errorState=u,this.stateChanges.next())}}}let oU=(()=>{class i{isErrorState(t,o){return!!(t&&t.invalid&&(t.touched||o&&o.submitted))}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),yse=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Ee({type:i,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),i})();function L_(i,n,t){i.nativeElement.classList.toggle(n,t)}let QG=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({imports:[[tn],tn]}),i})();class Cse{constructor(n,t,o){this._renderer=n,this.element=t,this.config=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const JG={enterDuration:225,exitDuration:150},aU=A_({passive:!0}),eX=["mousedown","touchstart"],tX=["mouseup","mouseleave","touchend","touchcancel"];class Mse{constructor(n,t,o,c){this._target=n,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,c.isBrowser&&(this._containerElement=Il(o))}fadeInRipple(n,t,o={}){const c=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),u=Ct(Ct({},JG),o.animation);o.centered&&(n=c.left+c.width/2,t=c.top+c.height/2);const m=o.radius||function(i,n,t){const o=Math.max(Math.abs(i-t.left),Math.abs(i-t.right)),c=Math.max(Math.abs(n-t.top),Math.abs(n-t.bottom));return Math.sqrt(o*o+c*c)}(n,t,c),g=n-c.left,b=t-c.top,x=u.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=g-m+"px",D.style.top=b-m+"px",D.style.height=2*m+"px",D.style.width=2*m+"px",null!=o.color&&(D.style.backgroundColor=o.color),D.style.transitionDuration=`${x}ms`,this._containerElement.appendChild(D),function(i){window.getComputedStyle(i).getPropertyValue("opacity")}(D),D.style.transform="scale(1)";const k=new Cse(this,D,o);return k.state=0,this._activeRipples.add(k),o.persistent||(this._mostRecentTransientRipple=k),this._runTimeoutOutsideZone(()=>{const z=k===this._mostRecentTransientRipple;k.state=1,!o.persistent&&(!z||!this._isPointerDown)&&k.fadeOut()},x),k}fadeOutRipple(n){const t=this._activeRipples.delete(n);if(n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const o=n.element,c=Ct(Ct({},JG),n.config.animation);o.style.transitionDuration=`${c.exitDuration}ms`,o.style.opacity="0",n.state=2,this._runTimeoutOutsideZone(()=>{n.state=3,o.remove()},c.exitDuration)}fadeOutAll(){this._activeRipples.forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const t=Il(n);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(eX))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(tX),this._pointerUpEventsRegistered=!0)}_onMousedown(n){const t=$W(n),o=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!o&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!qW(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=n.changedTouches;for(let o=0;o<t.length;o++)this.fadeInRipple(t[o].clientX,t[o].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_runTimeoutOutsideZone(n,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(n,t))}_registerEvents(n){this._ngZone.runOutsideAngular(()=>{n.forEach(t=>{this._triggerElement.addEventListener(t,this,aU)})})}_removeTriggerEvents(){this._triggerElement&&(eX.forEach(n=>{this._triggerElement.removeEventListener(n,this,aU)}),this._pointerUpEventsRegistered&&tX.forEach(n=>{this._triggerElement.removeEventListener(n,this,aU)}))}}const Dse=new be("mat-ripple-global-options");let W4=(()=>{class i{constructor(t,o,c,u,m){this._elementRef=t,this._animationMode=m,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=u||{},this._rippleRenderer=new Mse(this,o,t,c)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Ct(Ct(Ct({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,o=0,c){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,o,Ct(Ct({},this.rippleConfig),c)):this._rippleRenderer.fadeInRipple(0,0,Ct(Ct({},this.rippleConfig),t))}}return i.\u0275fac=function(t){return new(t||i)(U(mt),U(Et),U(Xr),U(Dse,8),U(za,8))},i.\u0275dir=Ee({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,o){2&t&&on("mat-ripple-unbounded",o.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),i})(),Q5=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({imports:[[tn,SA],tn]}),i})(),nX=(()=>{class i{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return i.\u0275fac=function(t){return new(t||i)(U(za,8))},i.\u0275cmp=sn({type:i,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,o){2&t&&on("mat-pseudo-checkbox-indeterminate","indeterminate"===o.state)("mat-pseudo-checkbox-checked","checked"===o.state)("mat-pseudo-checkbox-disabled",o.disabled)("_mat-animation-noopable","NoopAnimations"===o._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,o){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),i})(),sU=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({imports:[[tn]]}),i})();const iX=new be("MAT_OPTION_PARENT_COMPONENT"),rX=new be("MatOptgroup");let Sse=0;class Ase{constructor(n,t=!1){this.source=n,this.isUserInput=t}}let kse=(()=>{class i{constructor(t,o,c,u){this._element=t,this._changeDetectorRef=o,this._parent=c,this.group=u,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Sse++,this.onSelectionChange=new it,this._stateChanges=new st}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Pt(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,o){const c=this._getHostElement();"function"==typeof c.focus&&c.focus(o)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!Nl(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new Ase(this,t))}}return i.\u0275fac=function(t){Z8()},i.\u0275dir=Ee({type:i,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),i})(),oX=(()=>{class i extends kse{constructor(t,o,c,u){super(t,o,c,u)}}return i.\u0275fac=function(t){return new(t||i)(U(mt),U(Bt),U(iX,8),U(rX,8))},i.\u0275cmp=sn({type:i,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,o){1&t&&Me("click",function(){return o._selectViaInteraction()})("keydown",function(u){return o._handleKeydown(u)}),2&t&&(_2("id",o.id),dt("tabindex",o._getTabIndex())("aria-selected",o._getAriaSelected())("aria-disabled",o.disabled.toString()),on("mat-selected",o.selected)("mat-option-multiple",o.multiple)("mat-active",o.active)("mat-option-disabled",o.disabled))},exportAs:["matOption"],features:[Ze],ngContentSelectors:pse,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,o){1&t&&(Hi(),ot(0,hse,1,2,"mat-pseudo-checkbox",0),X(1,"span",1),rn(2),$(),ot(3,mse,2,1,"span",2),He(4,"div",3)),2&t&&(pe("ngIf",o.multiple),he(3),pe("ngIf",o.group&&o.group._inert),he(1),pe("matRippleTrigger",o._getHostElement())("matRippleDisabled",o.disabled||o.disableRipple))},directives:[N2,W4,nX],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),i})();function aX(i,n,t){if(t.length){let o=n.toArray(),c=t.toArray(),u=0;for(let m=0;m<i+1;m++)o[m].group&&o[m].group===c[u]&&u++;return u}return 0}let sX=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({imports:[[Q5,L2,tn,sU]]}),i})();function zse(i,n){if(1&i&&(Pa(),He(0,"circle",3)),2&i){const t=ze();Pr("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),dt("r",t._getCircleRadius())}}function Nse(i,n){if(1&i&&(Pa(),He(0,"circle",3)),2&i){const t=ze();Pr("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),dt("r",t._getCircleRadius())}}function Ise(i,n){if(1&i&&(Pa(),He(0,"circle",3)),2&i){const t=ze();Pr("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),dt("r",t._getCircleRadius())}}function Lse(i,n){if(1&i&&(Pa(),He(0,"circle",3)),2&i){const t=ze();Pr("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),dt("r",t._getCircleRadius())}}const Vse=I_(class{constructor(i){this._elementRef=i}},"primary"),cX=new be("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class Fl extends Vse{constructor(n,t,o,c,u){super(n),this._document=o,this._diameter=100,this._value=0,this.mode="determinate";const m=Fl._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),m.has(o.head)||m.set(o.head,new Set([100])),this._noopAnimations="NoopAnimations"===c&&!!u&&!u._forceAnimations,u&&(u.diameter&&(this.diameter=u.diameter),u.strokeWidth&&(this.strokeWidth=u.strokeWidth))}get diameter(){return this._diameter}set diameter(n){this._diameter=q5(n),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(n){this._strokeWidth=q5(n)}get value(){return"determinate"===this.mode?this._value:0}set value(n){this._value=Math.max(0,Math.min(100,q5(n)))}ngOnInit(){const n=this._elementRef.nativeElement;this._styleRoot=RW(n)||this._document.head,this._attachStyleNode(),n.classList.add("mat-progress-spinner-indeterminate-animation")}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const n=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${n} ${n}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const n=this._styleRoot,t=this._diameter,o=Fl._diameters;let c=o.get(n);if(!c||!c.has(t)){const u=this._document.createElement("style");u.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),u.textContent=this._getAnimationText(),n.appendChild(u),c||(c=new Set,o.set(n,c)),c.add(t)}}_getAnimationText(){const n=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*n).replace(/END_VALUE/g,""+.2*n).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Fl._diameters=new WeakMap,Fl.\u0275fac=function(n){return new(n||Fl)(U(mt),U(Xr),U(ut,8),U(za,8),U(cX))},Fl.\u0275cmp=sn({type:Fl,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(n,t){2&n&&(dt("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),Pr("width",t.diameter,"px")("height",t.diameter,"px"),on("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[Ze],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(n,t){1&n&&(Pa(),X(0,"svg",0),ot(1,zse,1,9,"circle",1),ot(2,Nse,1,7,"circle",2),$()),2&n&&(Pr("width",t.diameter,"px")("height",t.diameter,"px"),pe("ngSwitch","indeterminate"===t.mode),dt("viewBox",t._getViewBox()),he(1),pe("ngSwitchCase",!0),he(1),pe("ngSwitchCase",!1))},directives:[hl,ml],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let Hse=(()=>{class i extends Fl{constructor(t,o,c,u,m){super(t,o,c,u,m),this.mode="indeterminate"}}return i.\u0275fac=function(t){return new(t||i)(U(mt),U(Xr),U(ut,8),U(za,8),U(cX))},i.\u0275cmp=sn({type:i,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(t,o){2&t&&(Pr("width",o.diameter,"px")("height",o.diameter,"px"),on("_mat-animation-noopable",o._noopAnimations))},inputs:{color:"color"},features:[Ze],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,o){1&t&&(Pa(),X(0,"svg",0),ot(1,Ise,1,9,"circle",1),ot(2,Lse,1,7,"circle",2),$()),2&t&&(Pr("width",o.diameter,"px")("height",o.diameter,"px"),pe("ngSwitch","indeterminate"===o.mode),dt("viewBox",o._getViewBox()),he(1),pe("ngSwitchCase",!0),he(1),pe("ngSwitchCase",!1))},directives:[hl,ml],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0}),i})(),lX=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({imports:[[tn,L2],tn]}),i})();function Bse(i,n){1&i&&He(0,"mat-spinner",9)}function jse(i,n){if(1&i&&(X(0,"div",4),X(1,"div",5),He(2,"app-side-nav"),$(),X(3,"div",6),X(4,"div",7),ot(5,Bse,1,0,"mat-spinner",8),$(),$(),$()),2&i){const t=ze();he(5),pe("ngIf",t.initialLoad)}}function Use(i,n){1&i&&(X(0,"div",4),He(1,"div",10),$())}let F_=(()=>{class i{constructor(t){this.ngProgress=t,this.sideNAVHidden=!1,this.containmentSelect=!1,this.sideNavContainer1Expanded=!0,this.sideNavContainer2Expanded=!0,this.sideNavContainer3Expanded=!0,this.sideNavContainer4Expanded=!0,this.initialLoad=!0,this.modes=[],this.appearance=[],this.containerStrings=[],this.selectedContainer="All Container",this.selectedRotation="0 Degree",this.initializeModes(),this.initializeAppearance()}updateContainer(){this.containerStrings=this.controller.currentMode.calculateContainerStrings()}ngOnInit(){}onResize(t){null!=this.controller&&this.controller.properties.initialize()}handleKeyboardEvent(t){switch(t.key){case"ArrowUp":{let o=document.getElementById("drawing").scrollHeight/12;document.getElementById("drawing").scrollTop-=o;break}case"ArrowDown":{let o=document.getElementById("drawing").scrollHeight/12;document.getElementById("drawing").scrollTop+=o;break}case"ArrowLeft":{let o=document.getElementById("drawing").scrollWidth/12;document.getElementById("drawing").scrollLeft-=o;break}case"ArrowRight":{let o=document.getElementById("drawing").scrollWidth/12;document.getElementById("drawing").scrollLeft+=o;break}}}ngAfterViewInit(){this.promiseFrameworkLoaded=Be.e(2).then(Be.bind(Be,2)).then(t=>{this.controller=new t.GraphController(this),this.controller.graphs[this.controller.currentOrgan].readyPromise.then(()=>{this.updateContainer(),this.initialLoad=!1,this.controller.render(!0,[],[])})}).then()}initializeAppearance(){this.appearance.push({id:"A1",label:"Draw Labels",sel:!0}),this.appearance.push({id:"A2",label:"Show Tooltips",sel:!1}),this.appearance.push({id:"A3",label:"Dark Theme",sel:!1})}initializeModes(){this.modes.push({id:"M1",label:"Complete Graph",sel:!0}),this.modes.push({id:"M2",label:"Partial Graph",sel:!1}),this.modes.push({id:"M3",label:"Exploration",sel:!1}),this.modes.push({id:"M4",label:"Unmodified Graph",sel:!1})}}return i.\u0275fac=function(t){return new(t||i)(U(lX))},i.\u0275cmp=sn({type:i,selectors:[["app-visualization"]],hostBindings:function(t,o){1&t&&Me("resize",function(u){return o.onResize(u)},!1,Fb)("keydown",function(u){return o.handleKeyboardEvent(u)},!1,e8)},decls:5,vars:2,consts:[["role","main","id","main",1,"flex-container",2,"display","flex","flex-direction","column"],["id","header",1,"flex-container","flex-row",2,"display","flex"],[1,"w-100","h-100"],["class","flex-container d-flex","id","content",4,"ngIf"],["id","content",1,"flex-container","d-flex"],[1,"h-100",2,"width","15%"],["id","drawing",1,"h-100",2,"width","85%","overflow","scroll"],[1,"d-flex","align-items-center","w-100","h-100"],["class","custom-spinner","style","margin: 0 auto;","diameter","300","strokeWidth","10",4,"ngIf"],["diameter","300","strokeWidth","10",1,"custom-spinner",2,"margin","0 auto"],["id","drawing",1,"h-100","w-100",2,"overflow","scroll"]],template:function(t,o){1&t&&(X(0,"div",0),X(1,"div",1),He(2,"app-top-nav",2),$(),ot(3,jse,6,1,"div",3),ot(4,Use,2,0,"div",3),$()),2&t&&(he(3),pe("ngIf",!o.sideNAVHidden),he(1),pe("ngIf",o.sideNAVHidden))},styles:["#main[_ngcontent-%COMP%]{height:100vh}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:content-box}#header[_ngcontent-%COMP%]{height:10%;background-color:#262626;color:#fff}#content[_ngcontent-%COMP%]{height:90%}[_nghost-%COMP%]     .custom-spinner circle{stroke:#000}.vega-container[_ngcontent-%COMP%], .vega-container[_ngcontent-%COMP%]:after, .vega-container[_ngcontent-%COMP%]:before{box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;-ms-box-sizing:border-box}.vega-container[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center}"]}),i})();const $se=["addListener","removeListener"],qse=["addEventListener","removeEventListener"],Wse=["on","off"];function JA(i,n,t,o){if(Pe(t)&&(o=t,t=void 0),o)return JA(i,n,t).pipe(M3(o));const[c,u]=function(i){return Pe(i.addEventListener)&&Pe(i.removeEventListener)}(i)?qse.map(m=>g=>i[m](n,g,t)):function(i){return Pe(i.addListener)&&Pe(i.removeListener)}(i)?$se.map(uX(i,n)):function(i){return Pe(i.on)&&Pe(i.off)}(i)?Wse.map(uX(i,n)):[];if(!c&&K2(i))return Fs(m=>JA(m,n,t))(yi(i));if(!c)throw new TypeError("Invalid event target");return new Lt(m=>{const g=(...b)=>m.next(1<b.length?b:b[0]);return c(g),()=>u(g)})}function uX(i,n){return t=>o=>i[t](n,o)}const Zse=["connectionContainer"],Kse=["inputContainer"],Qse=["label"];function Jse(i,n){1&i&&(K8(0),X(1,"div",14),He(2,"div",15),He(3,"div",16),He(4,"div",17),$(),X(5,"div",18),He(6,"div",15),He(7,"div",16),He(8,"div",17),$(),h2())}function e2e(i,n){if(1&i){const t=$n();X(0,"div",19),Me("cdkObserveContent",function(){return yn(t),ze().updateOutlineGap()}),rn(1,1),$()}2&i&&pe("cdkObserveContentDisabled","outline"!=ze().appearance)}function t2e(i,n){if(1&i&&(K8(0),rn(1,2),X(2,"span"),je(3),$(),h2()),2&i){const t=ze(2);he(3),V1(t._control.placeholder)}}function n2e(i,n){1&i&&rn(0,3,["*ngSwitchCase","true"])}function i2e(i,n){1&i&&(X(0,"span",23),je(1," *"),$())}function r2e(i,n){if(1&i){const t=$n();X(0,"label",20,21),Me("cdkObserveContent",function(){return yn(t),ze().updateOutlineGap()}),ot(2,t2e,4,1,"ng-container",12),ot(3,n2e,1,0,"ng-content",12),ot(4,i2e,2,0,"span",22),$()}if(2&i){const t=ze();on("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),pe("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),dt("for",t._control.id)("aria-owns",t._control.id),he(2),pe("ngSwitchCase",!1),he(1),pe("ngSwitchCase",!0),he(1),pe("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function o2e(i,n){1&i&&(X(0,"div",24),rn(1,4),$())}function a2e(i,n){if(1&i&&(X(0,"div",25),He(1,"span",26),$()),2&i){const t=ze();he(1),on("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function s2e(i,n){1&i&&(X(0,"div"),rn(1,5),$()),2&i&&pe("@transitionMessages",ze()._subscriptAnimationState)}function c2e(i,n){if(1&i&&(X(0,"div",30),je(1),$()),2&i){const t=ze(2);pe("id",t._hintLabelId),he(1),V1(t.hintLabel)}}function l2e(i,n){if(1&i&&(X(0,"div",27),ot(1,c2e,2,2,"div",28),rn(2,6),He(3,"div",29),rn(4,7),$()),2&i){const t=ze();pe("@transitionMessages",t._subscriptAnimationState),he(1),pe("ngIf",t.hintLabel)}}const u2e=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],f2e=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],d2e=new be("MatError"),h2e={transitionMessages:X5("transitionMessages",[U2("enter",Ki({opacity:1,transform:"translateY(0%)"})),U4("void => enter",[Ki({opacity:0,transform:"translateY(-5px)"}),j3("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ek=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Ee({type:i}),i})();const m2e=new be("MatHint");let lU=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Ee({type:i,selectors:[["mat-label"]]}),i})(),p2e=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Ee({type:i,selectors:[["mat-placeholder"]]}),i})();const g2e=new be("MatPrefix"),fX=new be("MatSuffix");let v2e=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Ee({type:i,selectors:[["","matSuffix",""]],features:[Ye([{provide:fX,useExisting:i}])]}),i})(),dX=0;const y2e=I_(class{constructor(i){this._elementRef=i}},"primary"),b2e=new be("MAT_FORM_FIELD_DEFAULT_OPTIONS"),uU=new be("MatFormField");let mX=(()=>{class i extends y2e{constructor(t,o,c,u,m,g,b){super(t),this._changeDetectorRef=o,this._dir=c,this._defaults=u,this._platform=m,this._ngZone=g,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new st,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+dX++,this._labelId="mat-form-field-label-"+dX++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==b,this.appearance=u&&u.appearance?u.appearance:"legacy",this._hideRequiredMarker=!(!u||null==u.hideRequiredMarker)&&u.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const o=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&o!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Pt(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(No(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Jt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Jt(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),ic(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(No(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(No(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Jt(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const o=this._control?this._control.ngControl:null;return o&&o[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,JA(this._label.nativeElement,"transitionend").pipe(Xo(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const o=this._hintChildren?this._hintChildren.find(u=>"start"===u.align):null,c=this._hintChildren?this._hintChildren.find(u=>"end"===u.align):null;o?t.push(o.id):this._hintLabel&&t.push(this._hintLabelId),c&&t.push(c.id)}else this._errorChildren&&t.push(...this._errorChildren.map(o=>o.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let o=0,c=0;const u=this._connectionContainerRef.nativeElement,m=u.querySelectorAll(".mat-form-field-outline-start"),g=u.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const b=u.getBoundingClientRect();if(0===b.width&&0===b.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const x=this._getStartEnd(b),D=t.children,k=this._getStartEnd(D[0].getBoundingClientRect());let z=0;for(let L=0;L<D.length;L++)z+=D[L].offsetWidth;o=Math.abs(k-x)-5,c=z>0?.75*z+10:0}for(let b=0;b<m.length;b++)m[b].style.width=`${o}px`;for(let b=0;b<g.length;b++)g[b].style.width=`${c}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const o=t.getRootNode();return o&&o!==t}return document.documentElement.contains(t)}}return i.\u0275fac=function(t){return new(t||i)(U(mt),U(Bt),U(k_,8),U(b2e,8),U(Xr),U(Et),U(za,8))},i.\u0275cmp=sn({type:i,selectors:[["mat-form-field"]],contentQueries:function(t,o,c){if(1&t&&(Jn(c,ek,5),Jn(c,ek,7),Jn(c,lU,5),Jn(c,lU,7),Jn(c,p2e,5),Jn(c,d2e,5),Jn(c,m2e,5),Jn(c,g2e,5),Jn(c,fX,5)),2&t){let u;vt(u=_t())&&(o._controlNonStatic=u.first),vt(u=_t())&&(o._controlStatic=u.first),vt(u=_t())&&(o._labelChildNonStatic=u.first),vt(u=_t())&&(o._labelChildStatic=u.first),vt(u=_t())&&(o._placeholderChild=u.first),vt(u=_t())&&(o._errorChildren=u),vt(u=_t())&&(o._hintChildren=u),vt(u=_t())&&(o._prefixChildren=u),vt(u=_t())&&(o._suffixChildren=u)}},viewQuery:function(t,o){if(1&t&&(Pn(Zse,7),Pn(Kse,5),Pn(Qse,5)),2&t){let c;vt(c=_t())&&(o._connectionContainerRef=c.first),vt(c=_t())&&(o._inputContainerRef=c.first),vt(c=_t())&&(o._label=c.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,o){2&t&&on("mat-form-field-appearance-standard","standard"==o.appearance)("mat-form-field-appearance-fill","fill"==o.appearance)("mat-form-field-appearance-outline","outline"==o.appearance)("mat-form-field-appearance-legacy","legacy"==o.appearance)("mat-form-field-invalid",o._control.errorState)("mat-form-field-can-float",o._canLabelFloat())("mat-form-field-should-float",o._shouldLabelFloat())("mat-form-field-has-label",o._hasFloatingLabel())("mat-form-field-hide-placeholder",o._hideControlPlaceholder())("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-focused",o._control.focused)("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))("_mat-animation-noopable",!o._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[Ye([{provide:uU,useExisting:i}]),Ze],ngContentSelectors:f2e,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,o){1&t&&(Hi(u2e),X(0,"div",0),X(1,"div",1,2),Me("click",function(u){return o._control.onContainerClick&&o._control.onContainerClick(u)}),ot(3,Jse,9,0,"ng-container",3),ot(4,e2e,2,1,"div",4),X(5,"div",5,6),rn(7),X(8,"span",7),ot(9,r2e,5,16,"label",8),$(),$(),ot(10,o2e,2,0,"div",9),$(),ot(11,a2e,2,4,"div",10),X(12,"div",11),ot(13,s2e,2,1,"div",12),ot(14,l2e,5,2,"div",13),$(),$()),2&t&&(he(3),pe("ngIf","outline"==o.appearance),he(1),pe("ngIf",o._prefixChildren.length),he(5),pe("ngIf",o._hasFloatingLabel()),he(1),pe("ngIf",o._suffixChildren.length),he(1),pe("ngIf","outline"!=o.appearance),he(1),pe("ngSwitch",o._getDisplayedMessages()),he(1),pe("ngSwitchCase","error"),he(1),pe("ngSwitchCase","hint"))},directives:[N2,hl,ml,Ej],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[h2e.transitionMessages]},changeDetection:0}),i})(),fU=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({imports:[[L2,tn,kA],tn]}),i})();const pX=A_({passive:!0});let C2e=(()=>{class i{constructor(t,o){this._platform=t,this._ngZone=o,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return $l;const o=Il(t),c=this._monitoredElements.get(o);if(c)return c.subject;const u=new st,m="cdk-text-field-autofilled",g=b=>{"cdk-text-field-autofill-start"!==b.animationName||o.classList.contains(m)?"cdk-text-field-autofill-end"===b.animationName&&o.classList.contains(m)&&(o.classList.remove(m),this._ngZone.run(()=>u.next({target:b.target,isAutofilled:!1}))):(o.classList.add(m),this._ngZone.run(()=>u.next({target:b.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{o.addEventListener("animationstart",g,pX),o.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(o,{subject:u,unlisten:()=>{o.removeEventListener("animationstart",g,pX)}}),u}stopMonitoring(t){const o=Il(t),c=this._monitoredElements.get(o);c&&(c.unlisten(),c.subject.complete(),o.classList.remove("cdk-text-field-autofill-monitored"),o.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(o))}ngOnDestroy(){this._monitoredElements.forEach((t,o)=>this.stopMonitoring(o))}}return i.\u0275fac=function(t){return new(t||i)(ce(Xr),ce(Et))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),gX=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({imports:[[SA]]}),i})();let _X=(()=>{class i{constructor(t,o){this._renderer=t,this._elementRef=o,this.onChange=c=>{},this.onTouched=()=>{}}setProperty(t,o){this._renderer.setProperty(this._elementRef.nativeElement,t,o)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return i.\u0275fac=function(t){return new(t||i)(U(x2),U(mt))},i.\u0275dir=Ee({type:i}),i})(),X3=(()=>{class i extends _X{}return i.\u0275fac=function(){let n;return function(o){return(n||(n=xi(i)))(o||i)}}(),i.\u0275dir=Ee({type:i,features:[Ze]}),i})();const Z1=new be("NgValueAccessor"),M2e={provide:Z1,useExisting:kt(()=>tk),multi:!0},E2e=new be("CompositionEventMode");let tk=(()=>{class i extends _X{constructor(t,o,c){super(t,o),this._compositionMode=c,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=So()?So().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return i.\u0275fac=function(t){return new(t||i)(U(x2),U(mt),U(E2e,8))},i.\u0275dir=Ee({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,o){1&t&&Me("input",function(u){return o._handleInput(u.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(u){return o._compositionEnd(u.target.value)})},features:[Ye([M2e]),Ze]}),i})();function G4(i){return null==i||0===i.length}function bX(i){return null!=i&&"number"==typeof i.length}const Qi=new be("NgValidators"),X4=new be("NgAsyncValidators"),D2e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class CX{static min(n){return function(i){return n=>{if(G4(n.value)||G4(i))return null;const t=parseFloat(n.value);return!isNaN(t)&&t<i?{min:{min:i,actual:n.value}}:null}}(n)}static max(n){return function(i){return n=>{if(G4(n.value)||G4(i))return null;const t=parseFloat(n.value);return!isNaN(t)&&t>i?{max:{max:i,actual:n.value}}:null}}(n)}static required(n){return function(i){return G4(i.value)?{required:!0}:null}(n)}static requiredTrue(n){return function(i){return!0===i.value?null:{required:!0}}(n)}static email(n){return function(i){return G4(i.value)||D2e.test(i.value)?null:{email:!0}}(n)}static minLength(n){return function(i){return n=>G4(n.value)||!bX(n.value)?null:n.value.length<i?{minlength:{requiredLength:i,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function(i){return n=>bX(n.value)&&n.value.length>i?{maxlength:{requiredLength:i,actualLength:n.value.length}}:null}(n)}static pattern(n){return function(i){if(!i)return R_;let n,t;return"string"==typeof i?(t="","^"!==i.charAt(0)&&(t+="^"),t+=i,"$"!==i.charAt(i.length-1)&&(t+="$"),n=new RegExp(t)):(t=i.toString(),n=i),o=>{if(G4(o.value))return null;const c=o.value;return n.test(c)?null:{pattern:{requiredPattern:t,actualValue:c}}}}(n)}static nullValidator(n){return null}static compose(n){return FX(n)}static composeAsync(n){return RX(n)}}function R_(i){return null}function TX(i){return null!=i}function zX(i){const n=Q8(i)?nc(i):i;return R1(n),n}function NX(i){let n={};return i.forEach(t=>{n=null!=t?Ct(Ct({},n),t):n}),0===Object.keys(n).length?null:n}function IX(i,n){return n.map(t=>t(i))}function LX(i){return i.map(n=>function(i){return!i.validate}(n)?n:t=>n.validate(t))}function FX(i){if(!i)return null;const n=i.filter(TX);return 0==n.length?null:function(t){return NX(IX(t,n))}}function dU(i){return null!=i?FX(LX(i)):null}function RX(i){if(!i)return null;const n=i.filter(TX);return 0==n.length?null:function(t){return function(...i){const n=ne(i),{args:t,keys:o}=OD(i),c=new Lt(u=>{const{length:m}=t;if(!m)return void u.complete();const g=new Array(m);let b=m,x=m;for(let D=0;D<m;D++){let k=!1;yi(t[D]).subscribe(new Gt(u,z=>{k||(k=!0,x--),g[D]=z},()=>b--,void 0,()=>{(!b||!k)&&(x||u.next(o?zv(o,g):g),u.complete())}))}});return n?c.pipe(M3(n)):c}(IX(t,n).map(zX)).pipe(an(NX))}}function hU(i){return null!=i?RX(LX(i)):null}function VX(i,n){return null===i?[n]:Array.isArray(i)?[...i,n]:[i,n]}function OX(i){return i._rawValidators}function PX(i){return i._rawAsyncValidators}function mU(i){return i?Array.isArray(i)?i:[i]:[]}function nk(i,n){return Array.isArray(i)?i.includes(n):i===n}function HX(i,n){const t=mU(n);return mU(i).forEach(c=>{nk(t,c)||t.push(c)}),t}function BX(i,n){return mU(n).filter(t=>!nk(i,t))}class jX{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=dU(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=hU(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class C1 extends jX{get formDirective(){return null}get path(){return null}}class q2 extends jX{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let $X=(()=>{class i extends class{constructor(n){this._cd=n}is(n){var t,o,c;return"submitted"===n?!!(null==(t=this._cd)?void 0:t.submitted):!!(null==(c=null==(o=this._cd)?void 0:o.control)?void 0:c[n])}}{constructor(t){super(t)}}return i.\u0275fac=function(t){return new(t||i)(U(q2,2))},i.\u0275dir=Ee({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,o){2&t&&on("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[Ze]}),i})();function V_(i,n){vU(i,n),n.valueAccessor.writeValue(i.value),function(i,n){n.valueAccessor.registerOnChange(t=>{i._pendingValue=t,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&qX(i,n)})}(i,n),function(i,n){const t=(o,c)=>{n.valueAccessor.writeValue(o),c&&n.viewToModelUpdate(o)};i.registerOnChange(t),n._registerOnDestroy(()=>{i._unregisterOnChange(t)})}(i,n),function(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&qX(i,n),"submit"!==i.updateOn&&i.markAsTouched()})}(i,n),function(i,n){if(n.valueAccessor.setDisabledState){const t=o=>{n.valueAccessor.setDisabledState(o)};i.registerOnDisabledChange(t),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(t)})}}(i,n)}function ok(i,n,t=!0){const o=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(o),n.valueAccessor.registerOnTouched(o)),sk(i,n),i&&(n._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function ak(i,n){i.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function vU(i,n){const t=OX(i);null!==n.validator?i.setValidators(VX(t,n.validator)):"function"==typeof t&&i.setValidators([t]);const o=PX(i);null!==n.asyncValidator?i.setAsyncValidators(VX(o,n.asyncValidator)):"function"==typeof o&&i.setAsyncValidators([o]);const c=()=>i.updateValueAndValidity();ak(n._rawValidators,c),ak(n._rawAsyncValidators,c)}function sk(i,n){let t=!1;if(null!==i){if(null!==n.validator){const c=OX(i);if(Array.isArray(c)&&c.length>0){const u=c.filter(m=>m!==n.validator);u.length!==c.length&&(t=!0,i.setValidators(u))}}if(null!==n.asyncValidator){const c=PX(i);if(Array.isArray(c)&&c.length>0){const u=c.filter(m=>m!==n.asyncValidator);u.length!==c.length&&(t=!0,i.setAsyncValidators(u))}}}const o=()=>{};return ak(n._rawValidators,o),ak(n._rawAsyncValidators,o),t}function qX(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function WX(i,n){vU(i,n)}function GX(i,n){i._syncPendingControls(),n.forEach(t=>{const o=t.control;"submit"===o.updateOn&&o._pendingChange&&(t.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}function ck(i,n){const t=i.indexOf(n);t>-1&&i.splice(t,1)}const O_="VALID",lk="INVALID",J5="PENDING",P_="DISABLED";function bU(i){return(xU(i)?i.validators:i)||null}function XX(i){return Array.isArray(i)?dU(i):i||null}function CU(i,n){return(xU(n)?n.asyncValidators:i)||null}function YX(i){return Array.isArray(i)?hU(i):i||null}function xU(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class MU{constructor(n,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=t,this._composedValidatorFn=XX(this._rawValidators),this._composedAsyncValidatorFn=YX(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===O_}get invalid(){return this.status===lk}get pending(){return this.status==J5}get disabled(){return this.status===P_}get enabled(){return this.status!==P_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=XX(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=YX(n)}addValidators(n){this.setValidators(HX(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(HX(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(BX(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(BX(n,this._rawAsyncValidators))}hasValidator(n){return nk(this._rawValidators,n)}hasAsyncValidator(n){return nk(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=J5,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=P_,this.errors=null,this._forEachChild(o=>{o.disable(Q3(Ct({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Q3(Ct({},n),{skipPristineCheck:t})),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=O_,this._forEachChild(o=>{o.enable(Q3(Ct({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Q3(Ct({},n),{skipPristineCheck:t})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===O_||this.status===J5)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?P_:O_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=J5,this._hasOwnPendingAsyncValidator=!0;const t=zX(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){return function(i,n,t){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let o=i;return n.forEach(c=>{o=o instanceof wU?o.controls.hasOwnProperty(c)?o.controls[c]:null:o instanceof H2e&&o.at(c)||null}),o}(this,n)}getError(n,t){const o=t?this.get(t):this;return o&&o.errors?o.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new it,this.statusChanges=new it}_calculateStatus(){return this._allControlsDisabled()?P_:this.errors?lk:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(J5)?J5:this._anyControlsHaveStatus(lk)?lk:O_}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){xU(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class uk extends MU{constructor(n=null,t,o){super(bU(t),CU(o,t)),this._onChange=[],this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=null,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){ck(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){ck(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class wU extends MU{constructor(n,t,o){super(bU(t),CU(o,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,o={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,o={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(n[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(n[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((o,c)=>{o.reset(n[c],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,o)=>(n[o]=t instanceof uk?t.value:t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,o)=>!!o._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const o=this.controls[t];o&&n(o,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const t of Object.keys(this.controls)){const o=this.controls[t];if(this.contains(t)&&n(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,t,o)=>((t.enabled||this.disabled)&&(n[o]=t.value),n))}_reduceChildren(n,t){let o=n;return this._forEachChild((c,u)=>{o=t(o,c,u)}),o}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((t,o)=>{if(void 0===n[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class H2e extends MU{constructor(n,t,o){super(bU(t),CU(o,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,o={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,o={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),t&&(this.controls.splice(n,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){this._checkAllValuesPresent(n),n.forEach((o,c)=>{this._throwIfControlMissing(c),this.at(c).setValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(n.forEach((o,c)=>{this.at(c)&&this.at(c).patchValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((o,c)=>{o.reset(n[c],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n instanceof uk?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((t,o)=>!!o._syncPendingControls()||t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((t,o)=>{n(t,o)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((t,o)=>{if(void 0===n[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const B2e={provide:C1,useExisting:kt(()=>B_)},H_=(()=>Promise.resolve(null))();let B_=(()=>{class i extends C1{constructor(t,o){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new it,this.form=new wU({},dU(t),hU(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){H_.then(()=>{const o=this._findContainer(t.path);t.control=o.registerControl(t.name,t.control),V_(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){H_.then(()=>{const o=this._findContainer(t.path);o&&o.removeControl(t.name),ck(this._directives,t)})}addFormGroup(t){H_.then(()=>{const o=this._findContainer(t.path),c=new wU({});WX(c,t),o.registerControl(t.name,c),c.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){H_.then(()=>{const o=this._findContainer(t.path);o&&o.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,o){H_.then(()=>{this.form.get(t.path).setValue(o)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,GX(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return i.\u0275fac=function(t){return new(t||i)(U(Qi,10),U(X4,10))},i.\u0275dir=Ee({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,o){1&t&&Me("submit",function(u){return o.onSubmit(u)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ye([B2e]),Ze]}),i})();const U2e={provide:q2,useExisting:kt(()=>EU)},QX=(()=>Promise.resolve(null))();let EU=(()=>{class i extends q2{constructor(t,o,c,u){super(),this.control=new uk,this._registered=!1,this.update=new it,this._parent=t,this._setValidators(o),this._setAsyncValidators(c),this.valueAccessor=function(i,n){if(!n)return null;let t,o,c;return Array.isArray(n),n.forEach(u=>{u.constructor===tk?t=u:function(i){return Object.getPrototypeOf(i.constructor)===X3}(u)?o=u:c=u}),c||o||t||null}(0,u)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(i,n){if(!i.hasOwnProperty("model"))return!1;const t=i.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(i,n){return[...n.path,i]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){V_(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){QX.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const o=t.isDisabled.currentValue,c=""===o||o&&"false"!==o;QX.then(()=>{c&&!this.control.disabled?this.control.disable():!c&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(t){return new(t||i)(U(C1,9),U(Qi,10),U(X4,10),U(Z1,10))},i.\u0275dir=Ee({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ye([U2e]),Ze,Rn]}),i})(),eY=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({}),i})();const DU=new be("NgModelWithFormControlWarning"),Z2e={provide:C1,useExisting:kt(()=>j_)};let j_=(()=>{class i extends C1{constructor(t,o){super(),this.validators=t,this.asyncValidators=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new it,this._setValidators(t),this._setAsyncValidators(o)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(sk(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const o=this.form.get(t.path);return V_(o,t),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),o}getControl(t){return this.form.get(t.path)}removeControl(t){ok(t.control||null,t,!1),ck(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,o){this.form.get(t.path).setValue(o)}onSubmit(t){return this.submitted=!0,GX(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const o=t.control,c=this.form.get(t.path);o!==c&&(ok(o||null,t),c instanceof uk&&(V_(c,t),t.control=c))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const o=this.form.get(t.path);WX(o,t),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const o=this.form.get(t.path);o&&function(i,n){return sk(i,n)}(o,t)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){vU(this.form,this),this._oldForm&&sk(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(t){return new(t||i)(U(Qi,10),U(X4,10))},i.\u0275dir=Ee({type:i,selectors:[["","formGroup",""]],hostBindings:function(t,o){1&t&&Me("submit",function(u){return o.onSubmit(u)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ye([Z2e]),Ze,Rn]}),i})(),gY=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({imports:[[eY]]}),i})(),mce=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({imports:[gY]}),i})(),pce=(()=>{class i{static withConfig(t){return{ngModule:i,providers:[{provide:DU,useValue:t.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({imports:[gY]}),i})();const gce=new be("MAT_INPUT_VALUE_ACCESSOR"),vce=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let _ce=0;const yce=KG(class{constructor(i,n,t,o){this._defaultErrorStateMatcher=i,this._parentForm=n,this._parentFormGroup=t,this.ngControl=o}});let bce=(()=>{class i extends yce{constructor(t,o,c,u,m,g,b,x,D,k){super(g,u,m,c),this._elementRef=t,this._platform=o,this._autofillMonitor=x,this._formField=k,this._uid="mat-input-"+_ce++,this.focused=!1,this.stateChanges=new st,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(R=>FW().has(R));const z=this._elementRef.nativeElement,L=z.nodeName.toLowerCase();this._inputValueAccessor=b||z,this._previousNativeValue=this.value,this.id=this.id,o.IOS&&D.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",R=>{const j=R.target;!j.value&&0===j.selectionStart&&0===j.selectionEnd&&(j.setSelectionRange(1,1),j.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===L,this._isTextarea="textarea"===L,this._isInFormField=!!k,this._isNativeSelect&&(this.controlType=z.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Pt(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,o,c,u;return null!=(u=null!=(c=this._required)?c:null==(o=null==(t=this.ngControl)?void 0:t.control)?void 0:o.hasValidator(CX.required))&&u}set required(t){this._required=Pt(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&FW().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Pt(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var o,c;const t=(null==(c=null==(o=this._formField)?void 0:o._hideControlPlaceholder)?void 0:c.call(o))?null:this.placeholder;if(t!==this._previousPlaceholder){const u=this._elementRef.nativeElement;this._previousPlaceholder=t,t?u.setAttribute("placeholder",t):u.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){vce.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,o=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&o&&o.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return i.\u0275fac=function(t){return new(t||i)(U(mt),U(Xr),U(q2,10),U(B_,8),U(j_,8),U(oU),U(gce,10),U(C2e),U(Et),U(uU,8))},i.\u0275dir=Ee({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(t,o){1&t&&Me("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),2&t&&(_2("disabled",o.disabled)("required",o.required),dt("id",o.id)("data-placeholder",o.placeholder)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required),on("mat-input-server",o._isServer)("mat-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Ye([{provide:ek,useExisting:i}]),Ze,Rn]}),i})(),Cce=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({providers:[oU],imports:[[gX,fU,tn],gX,fU]}),i})();const xce=["mat-button",""],Mce=["*"],Ece=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Dce=I_(KA(G3(class{constructor(i){this._elementRef=i}})));let Sce=(()=>{class i extends Dce{constructor(t,o,c){super(t),this._focusMonitor=o,this._animationMode=c,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const u of Ece)this._hasHostAttributes(u)&&this._getHostElement().classList.add(u);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,o){t?this._focusMonitor.focusVia(this._getHostElement(),t,o):this._getHostElement().focus(o)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(o=>this._getHostElement().hasAttribute(o))}}return i.\u0275fac=function(t){return new(t||i)(U(mt),U(B3),U(za,8))},i.\u0275cmp=sn({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,o){if(1&t&&Pn(W4,5),2&t){let c;vt(c=_t())&&(o.ripple=c.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,o){2&t&&(dt("disabled",o.disabled||null),on("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-button-disabled",o.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Ze],attrs:xce,ngContentSelectors:Mce,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,o){1&t&&(Hi(),X(0,"span",0),rn(1),$(),He(2,"span",1),He(3,"span",2)),2&t&&(he(2),on("mat-button-ripple-round",o.isRoundButton||o.isIconButton),pe("matRippleDisabled",o._isRippleDisabled())("matRippleCentered",o.isIconButton)("matRippleTrigger",o._getHostElement()))},directives:[W4],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),i})(),Ace=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({imports:[[Q5,tn],tn]}),i})();const U_={schedule(i){let n=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:o}=U_;o&&(n=o.requestAnimationFrame,t=o.cancelAnimationFrame);const c=n(u=>{t=void 0,i(u)});return new Nt(()=>null==t?void 0:t(c))},requestAnimationFrame(...i){const{delegate:n}=U_;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:n}=U_;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame)(...i)},delegate:void 0};new class extends bj{flush(n){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let o,c=-1;n=n||t.shift();const u=t.length;do{if(o=n.execute(n.state,n.delay))break}while(++c<u&&(n=t.shift()));if(this._active=!1,o){for(;++c<u&&(n=t.shift());)n.unsubscribe();throw o}}}(class extends yj{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}requestAsyncId(n,t,o=0){return null!==o&&o>0?super.requestAsyncId(n,t,o):(n.actions.push(this),n._scheduled||(n._scheduled=U_.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,t,o=0){if(null!=o&&o>0||null==o&&this.delay>0)return super.recycleAsyncId(n,t,o);0===n.actions.length&&(U_.cancelAnimationFrame(t),n._scheduled=void 0)}});let NU,Nce=1;const hk={};function vY(i){return i in hk&&(delete hk[i],!0)}const Ice={setImmediate(i){const n=Nce++;return hk[n]=!0,NU||(NU=Promise.resolve()),NU.then(()=>vY(n)&&i()),n},clearImmediate(i){vY(i)}},{setImmediate:Lce,clearImmediate:Fce}=Ice,mk={setImmediate(...i){const{delegate:n}=mk;return((null==n?void 0:n.setImmediate)||Lce)(...i)},clearImmediate(i){const{delegate:n}=mk;return((null==n?void 0:n.clearImmediate)||Fce)(i)},delegate:void 0};new class extends bj{flush(n){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let o,c=-1;n=n||t.shift();const u=t.length;do{if(o=n.execute(n.state,n.delay))break}while(++c<u&&(n=t.shift()));if(this._active=!1,o){for(;++c<u&&(n=t.shift());)n.unsubscribe();throw o}}}(class extends yj{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}requestAsyncId(n,t,o=0){return null!==o&&o>0?super.requestAsyncId(n,t,o):(n.actions.push(this),n._scheduled||(n._scheduled=mk.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,t,o=0){if(null!=o&&o>0||null==o&&this.delay>0)return super.recycleAsyncId(n,t,o);0===n.actions.length&&(mk.clearImmediate(t),n._scheduled=void 0)}});function _Y(i,n=NW){return function(i){return nn((n,t)=>{let o=!1,c=null,u=null,m=!1;const g=()=>{if(null==u||u.unsubscribe(),u=null,o){o=!1;const x=c;c=null,t.next(x)}m&&t.complete()},b=()=>{u=null,m&&t.complete()};n.subscribe(new Gt(t,x=>{o=!0,c=x,u||yi(i()).subscribe(u=new Gt(t,g,b))},()=>{m=!0,(!o||!u||u.closed)&&t.complete()}))})}(()=>function(i=0,n,t=NW){let o=-1;return null!=n&&(Z(n)?t=n:o=n),new Lt(c=>{let u=function(i){return i instanceof Date&&!isNaN(i)}(i)?+i-t.now():i;u<0&&(u=0);let m=0;return t.schedule(function(){c.closed||(c.next(m++),0<=o?this.schedule(void 0,o):c.complete())},u)})}(i,n))}let yY=(()=>{class i{constructor(t,o,c){this._ngZone=t,this._platform=o,this._scrolled=new st,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=c}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const o=this.scrollContainers.get(t);o&&(o.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Lt(o=>{this._globalSubscription||this._addGlobalListener();const c=t>0?this._scrolled.pipe(_Y(t)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{c.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):wr()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(t,o){const c=this.getAncestorScrollContainers(t);return this.scrolled(o).pipe(Io(u=>!u||c.indexOf(u)>-1))}getAncestorScrollContainers(t){const o=[];return this.scrollContainers.forEach((c,u)=>{this._scrollableContainsElement(u,t)&&o.push(u)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,o){let c=Il(o),u=t.getElementRef().nativeElement;do{if(c==u)return!0}while(c=c.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>JA(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(t){return new(t||i)(ce(Et),ce(Xr),ce(ut,8))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),IU=(()=>{class i{constructor(t,o,c){this._platform=t,this._change=new st,this._changeListener=u=>{this._change.next(u)},this._document=c,o.runOutsideAngular(()=>{if(t.isBrowser){const u=this._getWindow();u.addEventListener("resize",this._changeListener),u.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:o,height:c}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+c,right:t.left+o,height:c,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,o=this._getWindow(),c=t.documentElement,u=c.getBoundingClientRect();return{top:-u.top||t.body.scrollTop||o.scrollY||c.scrollTop||0,left:-u.left||t.body.scrollLeft||o.scrollX||c.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(_Y(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(t){return new(t||i)(ce(Xr),ce(Et),ce(ut,8))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),pk=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({}),i})(),bY=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({imports:[[T_,SA,pk],T_,pk]}),i})();class LU{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class CY extends LU{constructor(n,t,o,c){super(),this.component=n,this.viewContainerRef=t,this.injector=o,this.componentFactoryResolver=c}}class FU extends LU{constructor(n,t,o){super(),this.templateRef=n,this.viewContainerRef=t,this.context=o}get origin(){return this.templateRef.elementRef}attach(n,t=this.context){return this.context=t,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class $ce extends LU{constructor(n){super(),this.element=n instanceof mt?n.nativeElement:n}}class xY{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof CY?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof FU?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof $ce?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class qce extends xY{constructor(n,t,o,c,u){super(),this.outletElement=n,this._componentFactoryResolver=t,this._appRef=o,this._defaultInjector=c,this.attachDomPortal=m=>{const g=m.element,b=this._document.createComment("dom-portal");g.parentNode.insertBefore(b,g),this.outletElement.appendChild(g),this._attachedPortal=m,super.setDisposeFn(()=>{b.parentNode&&b.parentNode.replaceChild(g,b)})},this._document=u}attachComponentPortal(n){const o=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let c;return n.viewContainerRef?(c=n.viewContainerRef.createComponent(o,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector),this.setDisposeFn(()=>c.destroy())):(c=o.create(n.injector||this._defaultInjector),this._appRef.attachView(c.hostView),this.setDisposeFn(()=>{this._appRef.detachView(c.hostView),c.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(c)),this._attachedPortal=n,c}attachTemplatePortal(n){let t=n.viewContainerRef,o=t.createEmbeddedView(n.templateRef,n.context);return o.rootNodes.forEach(c=>this.outletElement.appendChild(c)),o.detectChanges(),this.setDisposeFn(()=>{let c=t.indexOf(o);-1!==c&&t.remove(c)}),this._attachedPortal=n,o}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let Wce=(()=>{class i extends xY{constructor(t,o,c){super(),this._componentFactoryResolver=t,this._viewContainerRef=o,this._isInitialized=!1,this.attached=new it,this.attachDomPortal=u=>{const m=u.element,g=this._document.createComment("dom-portal");u.setAttachedHost(this),m.parentNode.insertBefore(g,m),this._getRootNode().appendChild(m),this._attachedPortal=u,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(m,g)})},this._document=c}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const o=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,u=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),m=o.createComponent(u,o.length,t.injector||o.injector);return o!==this._viewContainerRef&&this._getRootNode().appendChild(m.hostView.rootNodes[0]),super.setDisposeFn(()=>m.destroy()),this._attachedPortal=t,this._attachedRef=m,this.attached.emit(m),m}attachTemplatePortal(t){t.setAttachedHost(this);const o=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return i.\u0275fac=function(t){return new(t||i)(U(ji),U(gr),U(ut))},i.\u0275dir=Ee({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ze]}),i})(),MY=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({}),i})();const wY=hoe();class Xce{constructor(n,t){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=gi(-this._previousScrollPosition.left),n.style.top=gi(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,o=n.style,c=this._document.body.style,u=o.scrollBehavior||"",m=c.scrollBehavior||"";this._isEnabled=!1,o.left=this._previousHTMLStyles.left,o.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),wY&&(o.scrollBehavior=c.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),wY&&(o.scrollBehavior=u,c.scrollBehavior=m)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,o=this._viewportRuler.getViewportSize();return t.scrollHeight>o.height||t.scrollWidth>o.width}}class Yce{constructor(n,t,o,c){this._scrollDispatcher=n,this._ngZone=t,this._viewportRuler=o,this._config=c,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class EY{enable(){}disable(){}attach(){}}function RU(i,n){return n.some(t=>i.bottom<t.top||i.top>t.bottom||i.right<t.left||i.left>t.right)}function DY(i,n){return n.some(t=>i.top<t.top||i.bottom>t.bottom||i.left<t.left||i.right>t.right)}class Zce{constructor(n,t,o,c){this._scrollDispatcher=n,this._viewportRuler=t,this._ngZone=o,this._config=c,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:o,height:c}=this._viewportRuler.getViewportSize();RU(t,[{width:o,height:c,bottom:c,right:o,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Kce=(()=>{class i{constructor(t,o,c,u){this._scrollDispatcher=t,this._viewportRuler=o,this._ngZone=c,this.noop=()=>new EY,this.close=m=>new Yce(this._scrollDispatcher,this._ngZone,this._viewportRuler,m),this.block=()=>new Xce(this._viewportRuler,this._document),this.reposition=m=>new Zce(this._scrollDispatcher,this._viewportRuler,this._ngZone,m),this._document=u}}return i.\u0275fac=function(t){return new(t||i)(ce(yY),ce(IU),ce(Et),ce(ut))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class SY{constructor(n){if(this.scrollStrategy=new EY,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const t=Object.keys(n);for(const o of t)void 0!==n[o]&&(this[o]=n[o])}}}class Qce{constructor(n,t){this.connectionPair=n,this.scrollableViewProperties=t}}let AY=(()=>{class i{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const o=this._attachedOverlays.indexOf(t);o>-1&&this._attachedOverlays.splice(o,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(t){return new(t||i)(ce(ut))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Jce=(()=>{class i extends AY{constructor(t){super(t),this._keydownListener=o=>{const c=this._attachedOverlays;for(let u=c.length-1;u>-1;u--)if(c[u]._keydownEvents.observers.length>0){c[u]._keydownEvents.next(o);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(t){return new(t||i)(ce(ut))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ele=(()=>{class i extends AY{constructor(t,o){super(t),this._platform=o,this._cursorStyleIsSet=!1,this._pointerDownListener=c=>{this._pointerDownEventTarget=H3(c)},this._clickListener=c=>{const u=H3(c),m="click"===c.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let b=g.length-1;b>-1;b--){const x=g[b];if(!(x._outsidePointerEvents.observers.length<1)&&x.hasAttached()){if(x.overlayElement.contains(u)||x.overlayElement.contains(m))break;x._outsidePointerEvents.next(c)}}}}add(t){if(super.add(t),!this._isAttached){const o=this._document.body;o.addEventListener("pointerdown",this._pointerDownListener,!0),o.addEventListener("click",this._clickListener,!0),o.addEventListener("auxclick",this._clickListener,!0),o.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=o.style.cursor,o.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return i.\u0275fac=function(t){return new(t||i)(ce(ut),ce(Xr))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),kY=(()=>{class i{constructor(t,o){this._platform=o,this._document=t}ngOnDestroy(){var t;null==(t=this._containerElement)||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||wj()){const c=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let u=0;u<c.length;u++)c[u].remove()}const o=this._document.createElement("div");o.classList.add(t),wj()?o.setAttribute("platform","test"):this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._containerElement=o}}return i.\u0275fac=function(t){return new(t||i)(ce(ut),ce(Xr))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class tle{constructor(n,t,o,c,u,m,g,b,x){this._portalOutlet=n,this._host=t,this._pane=o,this._config=c,this._ngZone=u,this._keyboardDispatcher=m,this._document=g,this._location=b,this._outsideClickDispatcher=x,this._backdropElement=null,this._backdropClick=new st,this._attachments=new st,this._detachments=new st,this._locationChanges=Nt.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._keydownEvents=new st,this._outsidePointerEvents=new st,c.scrollStrategy&&(this._scrollStrategy=c.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=c.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){let t=this._portalOutlet.attach(n);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Xo(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){var t;const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null==(t=this._host)||t.remove(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config=Ct(Ct({},this._config),n),this._updateElementSize()}setDirection(n){this._config=Q3(Ct({},this._config),{direction:n}),this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=gi(this._config.width),n.height=gi(this._config.height),n.minWidth=gi(this._config.minWidth),n.minHeight=gi(this._config.minHeight),n.maxWidth=gi(this._config.maxWidth),n.maxHeight=gi(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;if(!n)return;let t;const o=()=>{n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",o),this._disposeBackdrop(n)),this._config.backdropClass&&this._toggleClasses(n,this._config.backdropClass,!1),clearTimeout(t)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",o)}),n.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(o,500))}_toggleClasses(n,t,o){const c=DA(t||[]).filter(u=>!!u);c.length&&(o?n.classList.add(...c):n.classList.remove(...c))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe(Jt(ic(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.remove(),this._backdropElement===n&&(this._backdropElement=null))}}const TY="cdk-overlay-connected-position-bounding-box",nle=/([A-Za-z%]+)$/;class ile{constructor(n,t,o,c,u){this._viewportRuler=t,this._document=o,this._platform=c,this._overlayContainer=u,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new st,this._resizeSubscription=Nt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}get positions(){return this._preferredPositions}attach(n){this._validatePositions(),n.hostElement.classList.add(TY),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const n=this._originRect,t=this._overlayRect,o=this._viewportRect,c=[];let u;for(let m of this._preferredPositions){let g=this._getOriginPoint(n,m),b=this._getOverlayPoint(g,t,m),x=this._getOverlayFit(b,t,o,m);if(x.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(m,g);this._canFitWithFlexibleDimensions(x,b,o)?c.push({position:m,origin:g,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(g,m)}):(!u||u.overlayFit.visibleArea<x.visibleArea)&&(u={overlayFit:x,overlayPoint:b,originPoint:g,position:m,overlayRect:t})}if(c.length){let m=null,g=-1;for(const b of c){const x=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);x>g&&(g=x,m=b)}return this._isPushed=!1,void this._applyPosition(m.position,m.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Y3(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(TY),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const n=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,n);this._applyPosition(n,t)}}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,t){let o,c;if("center"==t.originX)o=n.left+n.width/2;else{const u=this._isRtl()?n.right:n.left,m=this._isRtl()?n.left:n.right;o="start"==t.originX?u:m}return c="center"==t.originY?n.top+n.height/2:"top"==t.originY?n.top:n.bottom,{x:o,y:c}}_getOverlayPoint(n,t,o){let c,u;return c="center"==o.overlayX?-t.width/2:"start"===o.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,u="center"==o.overlayY?-t.height/2:"top"==o.overlayY?0:-t.height,{x:n.x+c,y:n.y+u}}_getOverlayFit(n,t,o,c){const u=NY(t);let{x:m,y:g}=n,b=this._getOffset(c,"x"),x=this._getOffset(c,"y");b&&(m+=b),x&&(g+=x);let z=0-g,L=g+u.height-o.height,R=this._subtractOverflows(u.width,0-m,m+u.width-o.width),j=this._subtractOverflows(u.height,z,L),B=R*j;return{visibleArea:B,isCompletelyWithinViewport:u.width*u.height===B,fitsInViewportVertically:j===u.height,fitsInViewportHorizontally:R==u.width}}_canFitWithFlexibleDimensions(n,t,o){if(this._hasFlexibleDimensions){const c=o.bottom-t.y,u=o.right-t.x,m=zY(this._overlayRef.getConfig().minHeight),g=zY(this._overlayRef.getConfig().minWidth),x=n.fitsInViewportHorizontally||null!=g&&g<=u;return(n.fitsInViewportVertically||null!=m&&m<=c)&&x}return!1}_pushOverlayOnScreen(n,t,o){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const c=NY(t),u=this._viewportRect,m=Math.max(n.x+c.width-u.width,0),g=Math.max(n.y+c.height-u.height,0),b=Math.max(u.top-o.top-n.y,0),x=Math.max(u.left-o.left-n.x,0);let D=0,k=0;return D=c.width<=u.width?x||-m:n.x<this._viewportMargin?u.left-o.left-n.x:0,k=c.height<=u.height?b||-g:n.y<this._viewportMargin?u.top-o.top-n.y:0,this._previousPushAmount={x:D,y:k},{x:n.x+D,y:n.y+k}}_applyPosition(n,t){if(this._setTransformOrigin(n),this._setOverlayElementStyles(t,n),this._setBoundingBoxStyles(t,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._lastPosition=n,this._positionChanges.observers.length){const o=this._getScrollVisibility(),c=new Qce(n,o);this._positionChanges.next(c)}this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let o,c=n.overlayY;o="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let u=0;u<t.length;u++)t[u].style.transformOrigin=`${o} ${c}`}_calculateBoundingBoxRect(n,t){const o=this._viewportRect,c=this._isRtl();let u,m,g,D,k,z;if("top"===t.overlayY)m=n.y,u=o.height-m+this._viewportMargin;else if("bottom"===t.overlayY)g=o.height-n.y+2*this._viewportMargin,u=o.height-g+this._viewportMargin;else{const L=Math.min(o.bottom-n.y+o.top,n.y),R=this._lastBoundingBoxSize.height;u=2*L,m=n.y-L,u>R&&!this._isInitialRender&&!this._growAfterOpen&&(m=n.y-R/2)}if("end"===t.overlayX&&!c||"start"===t.overlayX&&c)z=o.width-n.x+this._viewportMargin,D=n.x-this._viewportMargin;else if("start"===t.overlayX&&!c||"end"===t.overlayX&&c)k=n.x,D=o.right-n.x;else{const L=Math.min(o.right-n.x+o.left,n.x),R=this._lastBoundingBoxSize.width;D=2*L,k=n.x-L,D>R&&!this._isInitialRender&&!this._growAfterOpen&&(k=n.x-R/2)}return{top:m,left:k,bottom:g,right:z,width:D,height:u}}_setBoundingBoxStyles(n,t){const o=this._calculateBoundingBoxRect(n,t);!this._isInitialRender&&!this._growAfterOpen&&(o.height=Math.min(o.height,this._lastBoundingBoxSize.height),o.width=Math.min(o.width,this._lastBoundingBoxSize.width));const c={};if(this._hasExactPosition())c.top=c.left="0",c.bottom=c.right=c.maxHeight=c.maxWidth="",c.width=c.height="100%";else{const u=this._overlayRef.getConfig().maxHeight,m=this._overlayRef.getConfig().maxWidth;c.height=gi(o.height),c.top=gi(o.top),c.bottom=gi(o.bottom),c.width=gi(o.width),c.left=gi(o.left),c.right=gi(o.right),c.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",c.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",u&&(c.maxHeight=gi(u)),m&&(c.maxWidth=gi(m))}this._lastBoundingBoxSize=o,Y3(this._boundingBox.style,c)}_resetBoundingBoxStyles(){Y3(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Y3(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,t){const o={},c=this._hasExactPosition(),u=this._hasFlexibleDimensions,m=this._overlayRef.getConfig();if(c){const D=this._viewportRuler.getViewportScrollPosition();Y3(o,this._getExactOverlayY(t,n,D)),Y3(o,this._getExactOverlayX(t,n,D))}else o.position="static";let g="",b=this._getOffset(t,"x"),x=this._getOffset(t,"y");b&&(g+=`translateX(${b}px) `),x&&(g+=`translateY(${x}px)`),o.transform=g.trim(),m.maxHeight&&(c?o.maxHeight=gi(m.maxHeight):u&&(o.maxHeight="")),m.maxWidth&&(c?o.maxWidth=gi(m.maxWidth):u&&(o.maxWidth="")),Y3(this._pane.style,o)}_getExactOverlayY(n,t,o){let c={top:"",bottom:""},u=this._getOverlayPoint(t,this._overlayRect,n);this._isPushed&&(u=this._pushOverlayOnScreen(u,this._overlayRect,o));let m=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return u.y-=m,"bottom"===n.overlayY?c.bottom=this._document.documentElement.clientHeight-(u.y+this._overlayRect.height)+"px":c.top=gi(u.y),c}_getExactOverlayX(n,t,o){let m,c={left:"",right:""},u=this._getOverlayPoint(t,this._overlayRect,n);return this._isPushed&&(u=this._pushOverlayOnScreen(u,this._overlayRect,o)),m=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===m?c.right=this._document.documentElement.clientWidth-(u.x+this._overlayRect.width)+"px":c.left=gi(u.x),c}_getScrollVisibility(){const n=this._getOriginRect(),t=this._pane.getBoundingClientRect(),o=this._scrollables.map(c=>c.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:DY(n,o),isOriginOutsideView:RU(n,o),isOverlayClipped:DY(t,o),isOverlayOutsideView:RU(t,o)}}_subtractOverflows(n,...t){return t.reduce((o,c)=>o-Math.max(c,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,o=this._viewportRuler.getViewportScrollPosition();return{top:o.top+this._viewportMargin,left:o.left+this._viewportMargin,right:o.left+n-this._viewportMargin,bottom:o.top+t-this._viewportMargin,width:n-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,t){return"x"===t?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&DA(n).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof mt)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const t=n.width||0,o=n.height||0;return{top:n.y,bottom:n.y+o,left:n.x,right:n.x+t,height:o,width:t}}}function Y3(i,n){for(let t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i}function zY(i){if("number"!=typeof i&&null!=i){const[n,t]=i.split(nle);return t&&"px"!==t?null:parseFloat(n)}return i||null}function NY(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const IY="cdk-global-overlay-wrapper";class rle{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(n){const t=n.getConfig();this._overlayRef=n,this._width&&!t.width&&n.updateSize({width:this._width}),this._height&&!t.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(IY),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._rightOffset="",this._leftOffset=n,this._justifyContent="flex-start",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._leftOffset="",this._rightOffset=n,this._justifyContent="flex-end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._justifyContent="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,o=this._overlayRef.getConfig(),{width:c,height:u,maxWidth:m,maxHeight:g}=o,b=!("100%"!==c&&"100vw"!==c||m&&"100%"!==m&&"100vw"!==m),x=!("100%"!==u&&"100vh"!==u||g&&"100%"!==g&&"100vh"!==g);n.position=this._cssPosition,n.marginLeft=b?"0":this._leftOffset,n.marginTop=x?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=this._rightOffset,b?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=x?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,o=t.style;t.classList.remove(IY),o.justifyContent=o.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let ole=(()=>{class i{constructor(t,o,c,u){this._viewportRuler=t,this._document=o,this._platform=c,this._overlayContainer=u}global(){return new rle}flexibleConnectedTo(t){return new ile(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(t){return new(t||i)(ce(IU),ce(ut),ce(Xr),ce(kY))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ale=0,e7=(()=>{class i{constructor(t,o,c,u,m,g,b,x,D,k,z){this.scrollStrategies=t,this._overlayContainer=o,this._componentFactoryResolver=c,this._positionBuilder=u,this._keyboardDispatcher=m,this._injector=g,this._ngZone=b,this._document=x,this._directionality=D,this._location=k,this._outsideClickDispatcher=z}create(t){const o=this._createHostElement(),c=this._createPaneElement(o),u=this._createPortalOutlet(c),m=new SY(t);return m.direction=m.direction||this._directionality.value,new tle(u,o,c,m,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const o=this._document.createElement("div");return o.id="cdk-overlay-"+ale++,o.classList.add("cdk-overlay-pane"),t.appendChild(o),o}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Le)),new qce(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(t){return new(t||i)(ce(Kce),ce(kY),ce(ji),ce(ole),ce(Jce),ce(Kt),ce(Et),ce(ut),ce(k_),ce(dE),ce(ele))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();const sle=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],LY=new be("cdk-connected-overlay-scroll-strategy");let FY=(()=>{class i{constructor(t){this.elementRef=t}}return i.\u0275fac=function(t){return new(t||i)(U(mt))},i.\u0275dir=Ee({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),i})(),RY=(()=>{class i{constructor(t,o,c,u,m){this._overlay=t,this._dir=m,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Nt.EMPTY,this._attachSubscription=Nt.EMPTY,this._detachSubscription=Nt.EMPTY,this._positionSubscription=Nt.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new it,this.positionChange=new it,this.attach=new it,this.detach=new it,this.overlayKeydown=new it,this.overlayOutsideClick=new it,this._templatePortal=new FU(o,c),this._scrollStrategyFactory=u,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Pt(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Pt(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Pt(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Pt(t)}get push(){return this._push}set push(t){this._push=Pt(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=sle);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(o=>{this.overlayKeydown.next(o),27===o.keyCode&&!this.disableClose&&!Nl(o)&&(o.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(o=>{this.overlayOutsideClick.next(o)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),o=new SY({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(o.width=this.width),(this.height||0===this.height)&&(o.height=this.height),(this.minWidth||0===this.minWidth)&&(o.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(o.minHeight=this.minHeight),this.backdropClass&&(o.backdropClass=this.backdropClass),this.panelClass&&(o.panelClass=this.panelClass),o}_updatePositionStrategy(t){const o=this.positions.map(c=>({originX:c.originX,originY:c.originY,overlayX:c.overlayX,overlayY:c.overlayY,offsetX:c.offsetX||this.offsetX,offsetY:c.offsetY||this.offsetY,panelClass:c.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(o).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof FY?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(i,n=!1){return nn((t,o)=>{let c=0;t.subscribe(new Gt(o,u=>{const m=i(u,c++);(m||n)&&o.next(u),!m&&o.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(U(e7),U(si),U(gr),U(LY),U(k_,8))},i.\u0275dir=Ee({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Rn]}),i})();const lle={provide:LY,deps:[e7],useFactory:function(i){return()=>i.scrollStrategies.reposition()}};let VY=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({providers:[e7,lle],imports:[[T_,MY,bY],bY]}),i})();const OY=new Set;let t7,ule=(()=>{class i{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):dle}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function(i){if(!OY.has(i))try{t7||(t7=document.createElement("style"),t7.setAttribute("type","text/css"),document.head.appendChild(t7)),t7.sheet&&(t7.sheet.insertRule(`@media ${i} {body{ }}`,0),OY.add(i))}catch(n){console.error(n)}}(t),this._matchMedia(t)}}return i.\u0275fac=function(t){return new(t||i)(ce(Xr))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function dle(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let hle=(()=>{class i{constructor(t,o){this._mediaMatcher=t,this._zone=o,this._queries=new Map,this._destroySubject=new st}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return PY(DA(t)).some(c=>this._registerQuery(c).mql.matches)}observe(t){let u=ks(PY(DA(t)).map(m=>this._registerQuery(m).observable));return u=Nv(u.pipe(Xo(1)),u.pipe(IW(1),Cj(0))),u.pipe(an(m=>{const g={matches:!1,breakpoints:{}};return m.forEach(({matches:b,query:x})=>{g.matches=g.matches||b,g.breakpoints[x]=b}),g}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const o=this._mediaMatcher.matchMedia(t),u={observable:new Lt(m=>{const g=b=>this._zone.run(()=>m.next(b));return o.addListener(g),()=>{o.removeListener(g)}}).pipe(No(o),an(({matches:m})=>({query:t,matches:m})),Jt(this._destroySubject)),mql:o};return this._queries.set(t,u),u}}return i.\u0275fac=function(t){return new(t||i)(ce(ule),ce(Et))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function PY(i){return i.map(n=>n.split(",")).reduce((n,t)=>n.concat(t)).map(n=>n.trim())}const ple={tooltipState:X5("state",[U2("initial, void, hidden",Ki({opacity:0,transform:"scale(0)"})),U2("visible",Ki({transform:"scale(1)"})),U4("* => visible",j3("200ms cubic-bezier(0, 0, 0.2, 1)",Poe([Ki({opacity:0,transform:"scale(0)",offset:0}),Ki({opacity:.5,transform:"scale(0.99)",offset:.5}),Ki({opacity:1,transform:"scale(1)",offset:1})]))),U4("* => hidden",j3("100ms cubic-bezier(0, 0, 0.2, 1)",Ki({opacity:0})))])},HY="tooltip-panel",BY=A_({passive:!0}),jY=new be("mat-tooltip-scroll-strategy"),yle={provide:jY,deps:[e7],useFactory:function(i){return()=>i.scrollStrategies.reposition({scrollThrottle:20})}},ble=new be("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let xle=(()=>{class i{constructor(t,o,c,u,m,g,b,x,D,k,z,L){this._overlay=t,this._elementRef=o,this._scrollDispatcher=c,this._viewContainerRef=u,this._ngZone=m,this._platform=g,this._ariaDescriber=b,this._focusMonitor=x,this._dir=k,this._defaultOptions=z,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new st,this._handleKeydown=R=>{this._isTooltipVisible()&&27===R.keyCode&&!Nl(R)&&(R.preventDefault(),R.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=D,this._document=L,z&&(z.position&&(this.position=z.position),z.touchGestures&&(this.touchGestures=z.touchGestures)),k.change.pipe(Jt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),m.runOutsideAngular(()=>{o.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(t){var o;t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),null==(o=this._tooltipInstance)||o.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=Pt(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Jt(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([o,c])=>{t.removeEventListener(o,c,BY)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const o=this._createOverlay();this._detach(),this._portal=this._portal||new CY(this._tooltipComponent,this._viewContainerRef),this._tooltipInstance=o.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Jt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),o=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return o.positionChanges.pipe(Jt(this._destroyed)).subscribe(c=>{this._updateCurrentPositionClass(c.connectionPair),this._tooltipInstance&&c.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${HY}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Jt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Jt(this._destroyed)).subscribe(()=>{var c;return null==(c=this._tooltipInstance)?void 0:c._handleBodyInteraction()}),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const o=t.getConfig().positionStrategy,c=this._getOrigin(),u=this._getOverlayPosition();o.withPositions([this._addOffset(Ct(Ct({},c.main),u.main)),this._addOffset(Ct(Ct({},c.fallback),u.fallback))])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,o=this.position;let c;"above"==o||"below"==o?c={originX:"center",originY:"above"==o?"top":"bottom"}:"before"==o||"left"==o&&t||"right"==o&&!t?c={originX:"start",originY:"center"}:("after"==o||"right"==o&&t||"left"==o&&!t)&&(c={originX:"end",originY:"center"});const{x:u,y:m}=this._invertPosition(c.originX,c.originY);return{main:c,fallback:{originX:u,originY:m}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,o=this.position;let c;"above"==o?c={overlayX:"center",overlayY:"bottom"}:"below"==o?c={overlayX:"center",overlayY:"top"}:"before"==o||"left"==o&&t||"right"==o&&!t?c={overlayX:"end",overlayY:"center"}:("after"==o||"right"==o&&t||"left"==o&&!t)&&(c={overlayX:"start",overlayY:"center"});const{x:u,y:m}=this._invertPosition(c.overlayX,c.overlayY);return{main:c,fallback:{overlayX:u,overlayY:m}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Xo(1),Jt(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,o){return"above"===this.position||"below"===this.position?"top"===o?o="bottom":"bottom"===o&&(o="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:o}}_updateCurrentPositionClass(t){const{overlayY:o,originX:c,originY:u}=t;let m;if(m="center"===o?this._dir&&"rtl"===this._dir.value?"end"===c?"left":"right":"start"===c?"left":"right":"bottom"===o&&"top"===u?"above":"below",m!==this._currentPosition){const g=this._overlayRef;if(g){const b=`${this._cssClassPrefix}-${HY}-`;g.removePanelClass(b+this._currentPosition),g.addPanelClass(b+m)}this._currentPosition=m}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",()=>this.hide()],["wheel",o=>this._wheelListener(o)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const o=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",o],["touchcancel",o])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([o,c])=>{this._elementRef.nativeElement.addEventListener(o,c,BY)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const o=this._document.elementFromPoint(t.clientX,t.clientY),c=this._elementRef.nativeElement;o!==c&&!c.contains(o)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const o=this._elementRef.nativeElement,c=o.style;("on"===t||"INPUT"!==o.nodeName&&"TEXTAREA"!==o.nodeName)&&(c.userSelect=c.msUserSelect=c.webkitUserSelect=c.MozUserSelect="none"),("on"===t||!o.draggable)&&(c.webkitUserDrag="none"),c.touchAction="none",c.webkitTapHighlightColor="transparent"}}}return i.\u0275fac=function(t){Z8()},i.\u0275dir=Ee({type:i,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),i})(),VU=(()=>{class i extends xle{constructor(t,o,c,u,m,g,b,x,D,k,z,L){super(t,o,c,u,m,g,b,x,D,k,z,L),this._tooltipComponent=wle}}return i.\u0275fac=function(t){return new(t||i)(U(e7),U(mt),U(yY),U(gr),U(Et),U(Xr),U(yoe),U(B3),U(jY),U(k_,8),U(ble,8),U(ut))},i.\u0275dir=Ee({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[Ze]}),i})(),Mle=(()=>{class i{constructor(t){this._changeDetectorRef=t,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new st}show(t){clearTimeout(this._hideTimeoutId),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=void 0,this._onShow(),this._markForCheck()},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=void 0,this._markForCheck()},t)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const o=t.toState;"hidden"===o&&!this.isVisible()&&this._onHide.next(),("visible"===o||"hidden"===o)&&(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_onShow(){}}return i.\u0275fac=function(t){return new(t||i)(U(Bt))},i.\u0275dir=Ee({type:i}),i})(),wle=(()=>{class i extends Mle{constructor(t,o){super(t),this._breakpointObserver=o,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}}return i.\u0275fac=function(t){return new(t||i)(U(Bt),U(hle))},i.\u0275cmp=sn({type:i,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,o){2&t&&Pr("zoom","visible"===o._visibility?1:null)},features:[Ze],decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,o){if(1&t&&(X(0,"div",0),Me("@state.start",function(){return o._animationStart()})("@state.done",function(u){return o._animationDone(u)}),function(i,n){const t=St();let o;const c=i+20;t.firstCreatePass?(o=function(i,n){if(n)for(let t=n.length-1;t>=0;t--){const o=n[t];if(i===o.name)return o}throw new Fa("302",`The pipe '${i}' could not be found!`)}(n,t.pipeRegistry),t.data[c]=o,o.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(c,o.onDestroy)):o=t.data[c];const u=o.factory||(o.factory=dc(o.type)),m=Ir(U);try{const g=zf(!1),b=u();zf(g),function(i,n,t,o){t>=i.data.length&&(i.data[t]=null,i.blueprint[t]=null),n[t]=o}(t,le(),c,b)}finally{Ir(m)}}(1,"async"),je(2),$()),2&t){let c;on("mat-tooltip-handset",null==(c=function(i,n,t){const o=i+20,c=le(),u=oo(c,o);return function(i,n){return i[1].data[n].pure}(c,o)?ap(c,sr(),n,u.transform,t,u):u.transform(t)}(1,5,o._isHandset))?null:c.matches),pe("ngClass",o.tooltipClass)("@state",o._visibility),he(2),V1(o.message)}},directives:[Rh],pipes:[SE],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[ple.tooltipState]},changeDetection:0}),i})(),Ele=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({providers:[yle],imports:[[Foe,L2,VY,tn],tn,pk]}),i})();class gk{constructor(n=!1,t,o=!0){this._multiple=n,this._emitChanges=o,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new st,t&&t.length&&(n?t.forEach(c=>this._markSelected(c)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...n){this._verifyValueAssignment(n),n.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...n){this._verifyValueAssignment(n),n.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(n){this.isSelected(n)?this.deselect(n):this.select(n)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(n){return this._selection.has(n)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){this.isSelected(n)||(this._multiple||this._unmarkAll(),this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){}}let UY=(()=>{class i{constructor(){this._listeners=[]}notify(t,o){for(let c of this._listeners)c(t,o)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(o=>t!==o)}}ngOnDestroy(){this._listeners=[]}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Dle=["button"],Sle=["*"],$Y=new be("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),qY=new be("MatButtonToggleGroup"),Ale={provide:Z1,useExisting:kt(()=>XY),multi:!0};let WY=0;class GY{constructor(n,t){this.source=n,this.value=t}}let XY=(()=>{class i{constructor(t,o){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+WY++,this.valueChange=new it,this.change=new it,this.appearance=o&&o.appearance?o.appearance:"standard"}get name(){return this._name}set name(t){this._name=t,this._buttonToggles&&this._buttonToggles.forEach(o=>{o.name=this._name,o._markForCheck()})}get vertical(){return this._vertical}set vertical(t){this._vertical=Pt(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(o=>o.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=Pt(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=Pt(t),this._buttonToggles&&this._buttonToggles.forEach(o=>o._markForCheck())}ngOnInit(){this._selectionModel=new gk(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(){const t=this.selected,o=Array.isArray(t)?t[t.length-1]:t,c=new GY(o,this.value);this._controlValueAccessorChangeFn(c.value),this.change.emit(c)}_syncButtonToggle(t,o,c=!1,u=!1){!this.multiple&&this.selected&&!t.checked&&(this.selected.checked=!1),this._selectionModel?o?this._selectionModel.select(t):this._selectionModel.deselect(t):u=!0,u?Promise.resolve().then(()=>this._updateModelValue(c)):this._updateModelValue(c)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(o=>null!=t.value&&o===t.value):t.value===this._rawValue)}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(o=>this._selectValue(o))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const o=this._buttonToggles.find(c=>null!=c.value&&c.value===t);o&&(o.checked=!0,this._selectionModel.select(o))}_updateModelValue(t){t&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return i.\u0275fac=function(t){return new(t||i)(U(Bt),U($Y,8))},i.\u0275dir=Ee({type:i,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,o,c){if(1&t&&Jn(c,YY,5),2&t){let u;vt(u=_t())&&(o._buttonToggles=u)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,o){2&t&&(dt("aria-disabled",o.disabled),on("mat-button-toggle-vertical",o.vertical)("mat-button-toggle-group-appearance-standard","standard"===o.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[Ye([Ale,{provide:qY,useExisting:i}])]}),i})();const kle=G3(class{});let YY=(()=>{class i extends kle{constructor(t,o,c,u,m,g){super(),this._changeDetectorRef=o,this._elementRef=c,this._focusMonitor=u,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new it;const b=Number(m);this.tabIndex=b||0===b?b:null,this.buttonToggleGroup=t,this.appearance=g&&g.appearance?g.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const o=Pt(t);o!==this._checked&&(this._checked=o,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=Pt(t)}ngOnInit(){const t=this.buttonToggleGroup;this._isSingleSelector=t&&!t.multiple,this.id=this.id||"mat-button-toggle-"+WY++,this._isSingleSelector&&(this.name=t.name),t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new GY(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return i.\u0275fac=function(t){return new(t||i)(U(qY,8),U(Bt),U(mt),U(B3),ta("tabindex"),U($Y,8))},i.\u0275cmp=sn({type:i,selectors:[["mat-button-toggle"]],viewQuery:function(t,o){if(1&t&&Pn(Dle,5),2&t){let c;vt(c=_t())&&(o._buttonElement=c.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(t,o){1&t&&Me("focus",function(){return o.focus()}),2&t&&(dt("aria-label",null)("aria-labelledby",null)("id",o.id)("name",null),on("mat-button-toggle-standalone",!o.buttonToggleGroup)("mat-button-toggle-checked",o.checked)("mat-button-toggle-disabled",o.disabled)("mat-button-toggle-appearance-standard","standard"===o.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[Ze],ngContentSelectors:Sle,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,o){if(1&t&&(Hi(),X(0,"button",0,1),Me("click",function(){return o._onButtonClick()}),X(2,"span",2),rn(3),$(),$(),He(4,"span",3),He(5,"span",4)),2&t){const c=f2(1);pe("id",o.buttonId)("disabled",o.disabled||null),dt("tabindex",o.disabled?-1:o.tabIndex)("aria-pressed",o.checked)("name",o.name||null)("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledby),he(5),pe("matRippleTrigger",c)("matRippleDisabled",o.disableRipple||o.disabled)}},directives:[W4],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),i})(),Tle=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({imports:[[tn,Q5],tn]}),i})(),zle=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({imports:[[tn],tn]}),i})();const Nle=["*"],Lle=["text"];function Fle(i,n){if(1&i&&He(0,"mat-pseudo-checkbox",5),2&i){const t=ze();pe("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const Rle=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],Vle=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"];let Ole=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Ee({type:i,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),i})(),Ple=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Ee({type:i,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),i})();const Hle=G3(class{}),Ble=G3(class{}),jle={provide:Z1,useExisting:kt(()=>vk),multi:!0};class Ule{constructor(n,t,o){this.source=n,this.option=t,this.options=o}}let OU=(()=>{class i extends Ble{constructor(t,o,c){super(),this._element=t,this._changeDetector=o,this.selectionList=c,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.selectedChange=new it,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(t){this._color=t}get value(){return this._value}set value(t){this.selected&&!this.selectionList.compareWith(t,this.value)&&this._inputsInitialized&&(this.selected=!1),this._value=t}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(t){const o=Pt(t);o!==this._disabled&&(this._disabled=o,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(t){const o=Pt(t);o!==this._selected&&(this._setSelected(o),(o||this.selectionList.multiple)&&this.selectionList._reportValueChange())}ngOnInit(){const t=this.selectionList;t._value&&t._value.some(c=>t.compareWith(c,this._value))&&this._setSelected(!0);const o=this._selected;Promise.resolve().then(()=>{(this._selected||o)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){!function(i,n,t="mat"){i.changes.pipe(No(i)).subscribe(({length:o})=>{L_(n,`${t}-2-line`,!1),L_(n,`${t}-3-line`,!1),L_(n,`${t}-multi-line`,!1),2===o||3===o?L_(n,`${t}-${o}-line`,!0):o>3&&L_(n,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const t=this._hasFocus,o=this.selectionList._removeOptionFromList(this);t&&o&&o.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){!this.disabled&&(this.selectionList.multiple||!this.selected)&&(this.toggle(),this.selectionList._emitChangeEvent([this]))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(t){return t!==this._selected&&(this._selected=t,t?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this.selectedChange.emit(t),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return i.\u0275fac=function(t){return new(t||i)(U(mt),U(Bt),U(kt(()=>vk)))},i.\u0275cmp=sn({type:i,selectors:[["mat-list-option"]],contentQueries:function(t,o,c){if(1&t&&(Jn(c,Ole,5),Jn(c,Ple,5),Jn(c,yse,5)),2&t){let u;vt(u=_t())&&(o._avatar=u.first),vt(u=_t())&&(o._icon=u.first),vt(u=_t())&&(o._lines=u)}},viewQuery:function(t,o){if(1&t&&Pn(Lle,5),2&t){let c;vt(c=_t())&&(o._text=c.first)}},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(t,o){1&t&&Me("focus",function(){return o._handleFocus()})("blur",function(){return o._handleBlur()})("click",function(){return o._handleClick()}),2&t&&(dt("aria-selected",o.selected)("aria-disabled",o.disabled)("tabindex",-1),on("mat-list-item-disabled",o.disabled)("mat-list-item-with-avatar",o._avatar||o._icon)("mat-primary","primary"===o.color)("mat-accent","primary"!==o.color&&"warn"!==o.color)("mat-warn","warn"===o.color)("mat-list-single-selected-option",o.selected&&!o.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",disabled:"disabled",selected:"selected"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[Ze],ngContentSelectors:Vle,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(t,o){1&t&&(Hi(Rle),X(0,"div",0),He(1,"div",1),ot(2,Fle,1,2,"mat-pseudo-checkbox",2),X(3,"div",3,4),rn(5),$(),rn(6,1),$()),2&t&&(on("mat-list-item-content-reverse","after"==o.checkboxPosition),he(1),pe("matRippleTrigger",o._getHostElement())("matRippleDisabled",o._isRippleDisabled()),he(1),pe("ngIf",o.selectionList.multiple))},directives:[W4,N2,nX],encapsulation:2,changeDetection:0}),i})(),vk=(()=>{class i extends Hle{constructor(t,o,c,u){super(),this._element=t,this._changeDetector=c,this._focusMonitor=u,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new it,this.tabIndex=0,this.color="accent",this.compareWith=(m,g)=>m===g,this._disabled=!1,this.selectedOptions=new gk(this._multiple),this._tabIndex=-1,this._onChange=m=>{},this._destroyed=new st,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(t){this._disabled=Pt(t),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(t){const o=Pt(t);o!==this._multiple&&(this._multiple=o,this.selectedOptions=new gk(this._multiple,this.selectedOptions.selected))}ngAfterContentInit(){var t;this._contentInitialized=!0,this._keyManager=new Coe(this.options).withWrap().withTypeAhead().withHomeAndEnd().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe(Jt(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe(No(null),Jt(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe(Jt(this._destroyed)).subscribe(o=>{if(o.added)for(let c of o.added)c.selected=!0;if(o.removed)for(let c of o.removed)c.selected=!1}),null==(t=this._focusMonitor)||t.monitor(this._element).pipe(Jt(this._destroyed)).subscribe(o=>{var c;if("keyboard"===o||"program"===o){let u=0;for(let m=0;m<this.options.length;m++)if(null==(c=this.options.get(m))?void 0:c.selected){u=m;break}this._keyManager.setActiveItem(u)}})}ngOnChanges(t){const o=t.disableRipple,c=t.color;(o&&!o.firstChange||c&&!c.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){var t;null==(t=this._focusMonitor)||t.stopMonitoring(this._element),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(t){this._element.nativeElement.focus(t)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_setFocusedOption(t){this._keyManager.updateActiveItem(t)}_removeOptionFromList(t){const o=this._getOptionIndex(t);return o>-1&&this._keyManager.activeItemIndex===o&&(o>0?this._keyManager.updateActiveItem(o-1):0===o&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(o+1,this.options.length-1))),this._keyManager.activeItem}_keydown(t){const o=t.keyCode,c=this._keyManager,u=c.activeItemIndex,m=Nl(t);switch(o){case 32:case 13:!m&&!c.isTyping()&&(this._toggleFocusedOption(),t.preventDefault());break;default:if(65===o&&this.multiple&&Nl(t,"ctrlKey")&&!c.isTyping()){const g=this.options.some(b=>!b.disabled&&!b.selected);this._setAllOptionsSelected(g,!0,!0),t.preventDefault()}else c.onKeydown(t)}this.multiple&&(38===o||40===o)&&t.shiftKey&&c.activeItemIndex!==u&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const t=this._getSelectedOptionValues();this._onChange(t),this._value=t}}_emitChangeEvent(t){this.selectionChange.emit(new Ule(this,t[0],t))}writeValue(t){this._value=t,this.options&&this._setOptionsFromValues(t||[])}setDisabledState(t){this.disabled=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}_setOptionsFromValues(t){this.options.forEach(o=>o._setSelected(!1)),t.forEach(o=>{const c=this.options.find(u=>!u.selected&&this.compareWith(u.value,o));c&&c._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(t=>t.selected).map(t=>t.value)}_toggleFocusedOption(){let t=this._keyManager.activeItemIndex;if(null!=t&&this._isValidIndex(t)){let o=this.options.toArray()[t];o&&!o.disabled&&(this._multiple||!o.selected)&&(o.toggle(),this._emitChangeEvent([o]))}}_setAllOptionsSelected(t,o,c){const u=[];return this.options.forEach(m=>{(!o||!m.disabled)&&m._setSelected(t)&&u.push(m)}),u.length&&(this._reportValueChange(),c&&this._emitChangeEvent(u)),u}_isValidIndex(t){return t>=0&&t<this.options.length}_getOptionIndex(t){return this.options.toArray().indexOf(t)}_markOptionsForCheck(){this.options&&this.options.forEach(t=>t._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return i.\u0275fac=function(t){return new(t||i)(U(mt),ta("tabindex"),U(Bt),U(B3))},i.\u0275cmp=sn({type:i,selectors:[["mat-selection-list"]],contentQueries:function(t,o,c){if(1&t&&Jn(c,OU,5),2&t){let u;vt(u=_t())&&(o.options=u)}},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(t,o){1&t&&Me("keydown",function(u){return o._keydown(u)}),2&t&&dt("aria-multiselectable",o.multiple)("aria-disabled",o.disabled.toString())("tabindex",o._tabIndex)},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[Ye([jle]),Ze,Rn],ngContentSelectors:Nle,decls:1,vars:0,template:function(t,o){1&t&&(Hi(),rn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),i})(),$le=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({imports:[[QG,Q5,tn,sU,L2],QG,tn,sU,zle]}),i})();const qle=["searchModal"],Wle=["selectionList"];function Gle(i,n){if(1&i){const t=$n();X(0,"button",32,33),Me("click",function(){return yn(t),ze(2).clearSearchText()}),He(2,"fa-icon",16),$()}if(2&i){const t=ze(2);he(2),pe("icon",t.faTimes)}}function Xle(i,n){if(1&i){const t=$n();X(0,"mat-list-option",34),Me("click",function(c){return yn(t),ze(2).selectSearchItem(c)}),X(1,"div",35),X(2,"div",36),je(3),$(),X(4,"div",37),X(5,"span"),je(6),$(),$(),$(),$()}if(2&i){const t=n.$implicit;pe("value",t.id)("selected",t.selected),he(3),mr("",t.name," "),he(1),Pr("color",t.color),he(2),mr("",t.groupName," ")}}function Yle(i,n){if(1&i){const t=$n();X(0,"div",6,7),X(2,"div",8),X(3,"div",9),X(4,"div",10),X(5,"mat-form-field",11),X(6,"input",12,13),Me("ngModelChange",function(c){return yn(t),ze().searchValue=c})("input",function(){return yn(t),ze().filterSearchSet()}),$(),ot(8,Gle,3,1,"button",14),X(9,"button",15),Me("click",function(){return yn(t),ze().leaveSearchComponent()}),He(10,"fa-icon",16),$(),$(),$(),X(11,"div",17),X(12,"div",18),X(13,"span",19),je(14,"Show only:"),$(),X(15,"mat-button-toggle-group",20,21),Me("click",function(){return yn(t),ze().toggleSearchSetUpdate()}),X(17,"mat-button-toggle",22),Me("change",function(c){return yn(t),ze().asSelected=c.source.checked}),je(18,"AS"),$(),X(19,"mat-button-toggle",23),Me("change",function(c){return yn(t),ze().ctSelected=c.source.checked}),je(20,"CT"),$(),X(21,"mat-button-toggle",24),Me("change",function(c){return yn(t),ze().bmSelected=c.source.checked}),je(22,"B"),$(),$(),$(),X(23,"div",25),X(24,"button",26),Me("click",function(){return yn(t),ze().clearSelection()}),je(25,"Clear"),$(),X(26,"button",27),Me("click",function(){return yn(t),ze().induce()}),je(27,"Induce"),$(),$(),$(),$(),$(),X(28,"div",28),X(29,"mat-selection-list",29,30),ot(31,Xle,7,6,"mat-list-option",31),$(),$(),$()}if(2&i){const t=ze();he(6),pe("ngModel",t.searchValue),he(2),pe("ngIf",""!=t.searchValue),he(2),pe("icon",t.faAngleUp),he(7),pe("checked",t.asSelected),he(2),pe("checked",t.ctSelected),he(2),pe("checked",t.bmSelected),he(10),pe("ngForOf",t.searchSet)}}let Zle=(()=>{class i{constructor(t){this.visC=t,this.faSearch=CA,this.faAngleDown=XD,this.faAngleUp=YD,this.faTimes=DW,this.searchOpen=!1,this.searchSet=[],this.asSelected=!1,this.ctSelected=!1,this.bmSelected=!1,this.searchValue=""}onGlobalClick(t){null!=this.searchModal&&(this.searchModal.nativeElement.contains(t.target)||this.leaveSearchComponent())}leaveSearchComponent(){this.searchOpen=!1,this.searchSet=[],this.asSelected=!1,this.ctSelected=!1,this.bmSelected=!1,this.searchValue=""}createRectangles(t,o){let c=[];return t.forEach(u=>{let m=this.findObjectByID(u,o);if(null==m)return null;let R,g=o.scale("xscale"),b=o.scale("yscale"),x=o.scale("vertexSizeScale"),D=new xA.S(g(m.x),b(m.y)),k=x(m.vertexSize),z=Math.sqrt(k);R="0 Degree"==this.visC.selectedRotation||"180 Degree"==this.visC.selectedRotation?new vj.A(D.x-1.5*z,D.y-1.6*z,3*z,2.1*z):new vj.A(D.x-1.6*z,D.y-1.5*z,2.1*z,3*z),c.push({x:R.positionX,y:R.positionY,w:R.width,h:R.height})}),c}induce(){let t=[];if(this.selectionList.selectedOptions.selected.forEach(o=>{t.push(o.value)}),t.length>0){let o=t[t.length-1];this.visC.controller.updateMode("Exploration"),this.visC.controller.currentMode.root=o,this.visC.controller.currentMode.lastClick=o,this.visC.controller.currentMode.originalGraph=this.visC.controller.graphs[this.visC.controller.currentOrgan],this.visC.controller.currentMode.firstTime=!1,this.visC.modes.forEach(c=>{c.sel&&(c.sel=!1)}),this.visC.modes[2].sel=!0,this.selectionList.deselectAll(),this.visC.controller.currentMode.renderRestoreGraphContext()}}scrollToPosition(t,o){let c=this.findObjectByID(t,o);if(null!=c){let D,k,u=o.scale("xscale"),m=o.scale("yscale"),g=new xA.S(u(c.x),m(c.y)),b=this.visC.controller.properties,x=b.heightDrawingDIV;D=g.y-x/2>0?g.y-x/2:g.y,k=g.x-b.totalWidth/2>0?g.x-b.totalWidth/2:g.x,document.getElementById("drawing").scrollTop=D,document.getElementById("drawing").scrollLeft=k}}findObjectByID(t,o){let c=o.data("vertices").slice(0),u=null;return null!=c&&c.forEach(m=>{m.id==t&&(u=m)}),u}addRectangles(t,o){if(null!=t){let c=gj._K7();return t.forEach(u=>{c=c.insert(u)}),o.change("rects",c),o.runAsync()}return Promise.reject()}selectSearchItem(t){let o=this.visC.controller;o.currentMode.renderRestoreGraphContext().then(()=>{let c=[];if(this.selectionList.selectedOptions.selected.forEach(u=>{c.push(u.value)}),c.length>0){let u=o.currentMode.currentView;this.scrollToPosition(c[c.length-1],u);let g=this.createRectangles(c,u);this.addRectangles(g,u)}})}clearSelection(){this.visC.controller.currentMode.renderRestoreGraphContext().then(()=>this.selectionList.deselectAll())}filterSearchSet(){if(""!=this.searchValue){this.searchSet=this.asSet.concat(this.ctSet.concat(this.bmSet));let t=this.processLabel(this.searchValue);this.searchSet=this.searchSet.filter(o=>o.name.includes(t)&&this.toggleFilter(o))}else this.processToggle()}clearSearchText(){this.searchValue="",this.processToggle()}toggleFilter(t){return this.asSelected||this.ctSelected||!this.bmSelected?this.asSelected||!this.ctSelected||this.bmSelected?!this.asSelected&&this.ctSelected&&this.bmSelected?"Cell Type"==t.groupName||"Biomarker"==t.groupName:!this.asSelected||this.ctSelected||this.bmSelected?this.asSelected&&!this.ctSelected&&this.bmSelected?"Anatomical Structure"==t.groupName||"Biomarker"==t.groupName:!(this.asSelected&&this.ctSelected&&!this.bmSelected)||"Anatomical Structure"==t.groupName||"Cell Type"==t.groupName:"Anatomical Structure"==t.groupName:"Cell Type"==t.groupName:"Biomarker"==t.groupName}processToggle(){this.asSelected&&this.bmSelected&&this.ctSelected||!this.asSelected&&!this.bmSelected&&!this.ctSelected?this.searchSet=this.asSet.concat(this.ctSet.concat(this.bmSet)):this.asSelected||this.ctSelected||!this.bmSelected?this.asSelected||!this.ctSelected||this.bmSelected?!this.asSelected&&this.ctSelected&&this.bmSelected?this.searchSet=this.ctSet.concat(this.bmSet):!this.asSelected||this.ctSelected||this.bmSelected?this.asSelected&&!this.ctSelected&&this.bmSelected?this.searchSet=this.asSet.concat(this.bmSet):this.asSelected&&this.ctSelected&&!this.bmSelected&&(this.searchSet=this.asSet.concat(this.ctSet)):this.searchSet=this.asSet:this.searchSet=this.ctSet:this.searchSet=this.bmSet}toggleSearchSetUpdate(){""==this.searchValue?this.processToggle():(this.filterSearchSet(),this.asSelected&&this.bmSelected&&this.ctSelected||!this.asSelected&&!this.bmSelected&&!this.ctSelected||(this.asSelected||this.ctSelected||!this.bmSelected?this.asSelected||!this.ctSelected||this.bmSelected?!this.asSelected&&this.ctSelected&&this.bmSelected?this.searchSet=this.searchSet.filter(t=>"Biomarker"==t.groupName||"Cell Type"==t.groupName):!this.asSelected||this.ctSelected||this.bmSelected?this.asSelected&&!this.ctSelected&&this.bmSelected?this.searchSet=this.searchSet.filter(t=>"Biomarker"==t.groupName||"Anatomical Structure"==t.groupName):this.asSelected&&this.ctSelected&&!this.bmSelected&&(this.searchSet=this.searchSet.filter(t=>"Cell Type"==t.groupName||"Anatomical Structure"==t.groupName)):this.searchSet=this.searchSet.filter(t=>"Anatomical Structure"==t.groupName):this.searchSet=this.searchSet.filter(t=>"Cell Type"==t.groupName):this.searchSet=this.searchSet.filter(t=>"Biomarker"==t.groupName)))}processLabel(t){let o=t.split(" "),c=[];for(let u=0;u<o.length;u++)""!=o[u]&&c.push(o[u][0].toUpperCase()+o[u].substring(1));return c.join(" ")}initializeSearchSet(){this.searchSet=[];let t=this.visC.controller.currentMode.currentView;this.asSet=[],this.ctSet=[],this.bmSet=[],t.data("vertices").forEach(o=>{let c;if(c=this.processLabel("string"==typeof o.label?o.label:o.label.join("")),c.length>2)switch(o.vertexType){case"Anatomical Structure":this.asSet.push({id:o.id,name:c,groupName:"Anatomical Structure",color:"#E41A1C",induce:!0,selected:!1});break;case"Cell Type":this.ctSet.push({id:o.id,name:c,groupName:"Cell Type",color:"#377EB8",induce:!0,selected:!1});break;default:this.bmSet.push({id:o.id,name:c,groupName:"Biomarker",color:"#4DAF4A",induce:!1,selected:!1})}}),this.searchSet=this.asSet.concat(this.ctSet.concat(this.bmSet))}openSearchList(){this.initializeSearchSet(),this.searchOpen=!0}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)(U(F_))},i.\u0275cmp=sn({type:i,selectors:[["app-search"]],viewQuery:function(t,o){if(1&t&&(Pn(qle,5),Pn(Wle,5)),2&t){let c;vt(c=_t())&&(o.searchModal=c.first),vt(c=_t())&&(o.selectionList=c.first)}},hostBindings:function(t,o){1&t&&Me("mousedown",function(u){return o.onGlobalClick(u)},!1,e8)},decls:7,vars:3,consts:[[1,"h-100","w-100","d-flex","align-items-center",2,"background-color","white","color","black"],["id","searchLarge",1,"fa-lg",2,"margin-left","1%",3,"icon"],[1,"w-100","d-flex","justify-content-between",2,"background-color","white","color","black","border","white",3,"click"],[1,"",2,"margin-left","1%"],[1,"fa-lg","flex-row","col-md-1",2,"margin-right","1%",3,"icon"],["class","search-modal mat-elevation-z4 card",4,"ngIf"],[1,"search-modal","mat-elevation-z4","card"],["searchModal",""],[1,"h-25","card-header",2,"background-color","white"],[1,"h-100","w-100","d-flex",2,"flex-wrap","wrap"],[1,"w-100","h-50"],["appearance","legacy","floatLabel","never",1,"w-100"],["matInput","","cdkFocusInitial","","placeholder","Search Structures",3,"ngModel","ngModelChange","input"],["searchField",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear Search","matTooltip","Clear Search","style","margin-right: 0.5vw;background-color: white;color: black;border: white",3,"click",4,"ngIf"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Close","matTooltip","Close",2,"background-color","white","color","black","border","white",3,"click"],[1,"fa-lg","flex-row","col-md-1",3,"icon"],[1,"w-100","h-50","d-flex","justify-content-between"],[1,"d-flex","align-items-center","w-50","h-100"],["id","label"],["multiple","","name","searchFilterButtons","aria-label","searchFilterButtons",2,"margin-left","2%",3,"click"],["group","matButtonToggleGroup"],["value","Anatomical Structures","matTooltip","Anatomical Structures",3,"checked","change"],["value","Cell Types","matTooltip","Cell Types",3,"checked","change"],["value","Biomarkers","matTooltip","Biomarkers",3,"checked","change"],[1,"d-flex","align-items-center","justify-content-end","w-50","h-100",2,"gap","1vw"],["mat-raised-button","","aria-label","Clear","matTooltip","Clear the current selection and all displayed rectangles inside the drawing",1,"selectBtn","h-75",2,"background-color","black","color","white","display","flex","white-space","pre-wrap",3,"click"],["mat-raised-button","","aria-label","Induce","matTooltip","Switch to exploration mode and explore the subgraph induced by the last selected vertex",1,"selectBtn","h-75",2,"background-color","black","color","white","display","flex","white-space","pre-wrap",3,"click"],[1,"h-75","card-body"],[1,"h-100",2,"overflow","auto"],["selectionList",""],["checkboxPosition","before","class","",3,"value","selected","click",4,"ngFor","ngForOf"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear Search","matTooltip","Clear Search",2,"margin-right","0.5vw","background-color","white","color","black","border","white",3,"click"],["clearBtn",""],["checkboxPosition","before",1,"",3,"value","selected","click"],[1,"d-flex","justify-content-between","h-100",2,"gap","1vw"],[1,"h-100",2,"white-space","pre-wrap"],[1,"d-flex","align-content-end",2,"white-space","pre-wrap","text-align","end"]],template:function(t,o){1&t&&(X(0,"div",0),He(1,"fa-icon",1),X(2,"button",2),Me("click",function(){return o.openSearchList()}),X(3,"span",3),je(4," Search "),$(),He(5,"fa-icon",4),$(),$(),ot(6,Yle,32,7,"div",5)),2&t&&(he(1),pe("icon",o.faSearch),he(4),pe("icon",o.faAngleDown),he(1),pe("ngIf",o.searchOpen))},directives:[Aa,N2,mX,bce,tk,$X,EU,Sce,v2e,VU,XY,YY,vk,dl,OU],styles:[".search-modal[_ngcontent-%COMP%]{background:white;color:#000;position:absolute;width:30vw;height:50vh;top:0;right:0;z-index:20;border-bottom:.1875rem solid rgba(68,74,101,.063);border-radius:.25rem}"]}),i})();function Kle(i,n){if(1&i){const t=$n();X(0,"button",10),Me("click",function(){const u=yn(t).index,m=ze();return m.buttonHandlers[m.buttonStrings.length-1-u]()}),X(1,"div",11),He(2,"fa-icon",12),$(),X(3,"div",13),He(4,"fa-icon",12),$(),X(5,"div",14),je(6),$(),$()}if(2&i){const t=n.index,o=ze();Ja("matTooltip",o.buttonTooltips[o.buttonStrings.length-1-t]),he(2),pe("icon",o.buttonIcons[o.buttonStrings.length-1-t]),he(2),pe("icon",o.buttonIcons[o.buttonStrings.length-1-t]),he(2),mr(" ",o.buttonStrings[o.buttonStrings.length-1-t],"")}}function Qle(i,n){if(1&i){const t=$n();X(0,"label",15),X(1,"input",16),Me("click",function(c){return yn(t),ze().organClicked(c)}),$(),X(2,"span",17),je(3),$(),$()}if(2&i){const t=n.$implicit,o=n.index;Hc("id","",o,"l"),he(1),Ja("id",o),he(1),Hc("matTooltip","Draw organ ",t,""),he(1),mr(" ",t,"")}}let Jle=(()=>{class i{constructor(t){this.visC=t,this.faGlobe=dA,this.faExpand=Yi,this.faRedo=mj,this.faDownload=u_,this.faServer=pj,this.faCog=a_,this.faSearch=CA,this.searchLogo=CA,this.logo="logo.svg",this.buttonHandlers=[()=>{this.visC.controller.currentMode.renderRestoreGraphContext().then(()=>{this.visC.controller.currentMode.firstTime=!0,this.visC.controller.currentMode.fitContent(this.visC.controller.currentMode.currentView),document.getElementById("drawing").scrollLeft=0,document.getElementById("drawing").scrollTop=0})},()=>{this.visC.controller.currentMode.reset(),this.visC.controller.render()},()=>{this.visC.controller.currentMode.exportImage()},()=>{window.open("https://docs.google.com/spreadsheets/d/1tK916JyG5ZSXW_cXfsyZnzXfjyoN-8B2GXLbYD6_vF0/edit#gid=559906129","_blank")},()=>{this.hideSideNav()}],this.buttonTooltips=["Fit the content of the entire drawing on the screen","Reset view and graph content","Export drawing as scalable vector graphic","Visit the tables which provide the graph data","Toggle the settings navbar"],this.buttonStrings=["Fit Content","Reset","Export","Data Tables","Settings"],this.buttonIcons=[Yi,mj,u_,pj,a_],this.organStrings=["Bone Marrow","Brain","Heart","Kidney","Large Intestine","Lung","Lymph Nodes","Skin","Spleen","Thymus","Vasculature"],this.checked=!1,this.lastID="-1",this.oldRects=[]}ngOnInit(){}ngAfterViewInit(){let t=document.getElementById("3l");null!=t&&(t.style.borderColor="#262626",t.style.backgroundColor="white",t.style.color="#262626",this.lastID="3l")}organClicked(t){if(null!=t){let o=t.target.id+"l",c=document.getElementById(o);if(null!=c){c.style.borderColor="#262626",c.style.backgroundColor="white",c.style.color="#262626";let m=document.getElementById(this.lastID);null!=m&&this.lastID!=o&&(m.style.backgroundColor="#262626",m.style.color="white")}this.lastID=o,this.visC.controller.updateOrgan(t.target.nextSibling.innerText),this.visC.updateContainer(),this.visC.controller.currentMode.reset(),this.visC.controller.render()}}createRectangles(t,o){let c=[];return t.forEach(u=>{let m=this.findObjectByID(u,o),g=o.scale("xscale"),b=o.scale("yscale"),x=o.scale("vertexSizeScale"),D=new xA.S(g(m.x),b(m.y)),k=x(m.vertexSize),z=Math.sqrt(k),L=2.5,R=new vj.A(D.x-L/2*z,D.y-L/1.5*z,L*z,L*z);c.push({x:R.positionX,y:R.positionY,w:R.width,h:R.height})}),c}clearRectangles(t){let o=gj._K7(),c=t.data("rects").slice(0);return null!=c?(c.forEach(u=>{o=o.remove([u])}),t.change("rects",o),t.runAsync().then()):Promise.resolve(t)}addRectangles(t,o){let c=gj._K7();return t.forEach(u=>{c=c.insert(u)}),o.change("rects",c),o.runAsync()}scrollToPosition(t,o){let k,c=this.findObjectByID(t,o),u=o.scale("xscale"),m=o.scale("yscale"),g=new xA.S(u(c.x),m(c.y)),D=(document.getElementById("drawing"),this.visC.controller.properties.heightDrawingDIV);k=g.y-D/2>0?g.y-D/2:g.y,document.getElementById("drawing").scrollTop=k}findObjectByID(t,o){let c=o.data("vertices").slice(0),u=null;return null!=c&&c.forEach(m=>{m.id==t&&(u=m)}),u}hideSideNav(){this.visC.sideNAVHidden=!this.visC.sideNAVHidden,setTimeout(()=>{this.visC.promiseFrameworkLoaded.then(()=>{this.visC.controller.properties.initialize(),this.visC.controller.renderRestore()})})}}return i.\u0275fac=function(t){return new(t||i)(U(F_))},i.\u0275cmp=sn({type:i,selectors:[["app-top-nav"]],decls:11,vars:2,consts:[["id","nav",1,"h-50","w-100","flex-container","d-flex"],[1,"flex-col","h-100","w-50","justify-content-start"],[1,"align-items-center","w-100","h-100",2,"display","flex"],[1,"",2,"margin-left","2%"],[1,"flex-col","h-100","w-50","justify-content-lg-end","justify-content-sm-center"],["id","buttonList",1,"d-flex","align-items-center","w-100"],[1,"h-75","w-25","btn-pad"],["class","d-flex flex-column icon-btn btn-pad",3,"matTooltip","click",4,"ngFor","ngForOf"],["id","organs",1,"flex-container","d-flex","align-items-center","h-50","w-100","btn-group"],["class","btn btn-css h-50 c flex-column",3,"id",4,"ngFor","ngForOf"],[1,"d-flex","flex-column","icon-btn","btn-pad",3,"matTooltip","click"],["id","iconsLarge",1,"fa-lg"],[3,"icon"],["id","iconsSmall",1,"fa-sm"],[2,"text-align","center"],[1,"btn","btn-css","h-50","c","flex-column",3,"id"],["type","radio",1,"btn-color2",2,"display","none",3,"id","click"],[3,"matTooltip"]],template:function(t,o){1&t&&(X(0,"div",0),X(1,"div",1),X(2,"span",2),X(3,"h3",3),je(4," ASCT+B Reporter"),$(),$(),$(),X(5,"div",4),X(6,"div",5),He(7,"app-search",6),ot(8,Kle,7,4,"button",7),$(),$(),$(),X(9,"div",8),ot(10,Qle,4,4,"label",9),$()),2&t&&(he(8),pe("ngForOf",o.buttonStrings),he(2),pe("ngForOf",o.organStrings))},directives:[Zle,dl,VU,Aa],styles:["*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:content-box}.navbar[_ngcontent-%COMP%]{padding-top:0}#iconsSmall[_ngcontent-%COMP%]{display:none}#searchSmall[_ngcontent-%COMP%]{display:none}#searchField[_ngcontent-%COMP%]{margin-left:2%;width:98%;border:none;outline:none;min-width:0}.searchICON[_ngcontent-%COMP%]{border:none;transform:translate(10%,14%);min-width:0}#searchFormGroup[_ngcontent-%COMP%]{padding-top:.2vw;padding-bottom:.2vw;background-color:#fff;color:#000;border:none;white-space:nowrap;min-width:0;margin-right:.5vw;flex-basis:35%}@media (max-height: 700px){#iconsSmall[_ngcontent-%COMP%]{display:block}#iconsLarge[_ngcontent-%COMP%]{display:none}#searchLarge[_ngcontent-%COMP%]{display:none}#searchSmall[_ngcontent-%COMP%]{display:block}}.btn-pad[_ngcontent-%COMP%]{border:none;background:none;margin-right:1vw;line-height:2vh;color:#fff;white-space:nowrap;min-width:0;min-height:0}#buttonList[_ngcontent-%COMP%]{height:100%;justify-content:end;flex-wrap:nowrap;flex-direction:row-reverse}#nav[_ngcontent-%COMP%]{min-height:0}#organs[_ngcontent-%COMP%]{flex-wrap:nowrap;border-top:1px solid white}.c[_ngcontent-%COMP%]{flex-basis:0;min-width:0}#nav[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid white}.btn-css[_ngcontent-%COMP%]{background-color:#262626;color:#fff;white-space:nowrap}"]}),i})();const ZY=new be("CdkAccordion");let e0e=0,t0e=(()=>{class i{constructor(t,o,c){this.accordion=t,this._changeDetectorRef=o,this._expansionDispatcher=c,this._openCloseAllSubscription=Nt.EMPTY,this.closed=new it,this.opened=new it,this.destroyed=new it,this.expandedChange=new it,this.id="cdk-accordion-child-"+e0e++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=c.listen((u,m)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===m&&this.id!==u&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=Pt(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=Pt(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return i.\u0275fac=function(t){return new(t||i)(U(ZY,12),U(Bt),U(UY))},i.\u0275dir=Ee({type:i,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Ye([{provide:ZY,useValue:void 0}])]}),i})(),n0e=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({}),i})();const i0e=["body"];function r0e(i,n){}const o0e=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],a0e=["mat-expansion-panel-header","*","mat-action-row"];function s0e(i,n){1&i&&He(0,"span",2),2&i&&pe("@indicatorRotate",ze()._getExpandedState())}const c0e=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],l0e=["mat-panel-title","mat-panel-description","*"],KY=new be("MAT_ACCORDION"),QY="225ms cubic-bezier(0.4,0.0,0.2,1)",JY={indicatorRotate:X5("indicatorRotate",[U2("collapsed, void",Ki({transform:"rotate(0deg)"})),U2("expanded",Ki({transform:"rotate(180deg)"})),U4("expanded <=> collapsed, void => collapsed",j3(QY))]),bodyExpansion:X5("bodyExpansion",[U2("collapsed, void",Ki({height:"0px",visibility:"hidden"})),U2("expanded",Ki({height:"*",visibility:"visible"})),U4("expanded <=> collapsed, void => collapsed",j3(QY))])};let u0e=(()=>{class i{constructor(t){this._template=t}}return i.\u0275fac=function(t){return new(t||i)(U(si))},i.\u0275dir=Ee({type:i,selectors:[["ng-template","matExpansionPanelContent",""]]}),i})(),f0e=0;const eZ=new be("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let tZ=(()=>{class i extends t0e{constructor(t,o,c,u,m,g,b){super(t,o,c),this._viewContainerRef=u,this._animationMode=g,this._hideToggle=!1,this.afterExpand=new it,this.afterCollapse=new it,this._inputChanges=new st,this._headerId="mat-expansion-panel-header-"+f0e++,this._bodyAnimationDone=new st,this.accordion=t,this._document=m,this._bodyAnimationDone.pipe(E3((x,D)=>x.fromState===D.fromState&&x.toState===D.toState)).subscribe(x=>{"void"!==x.fromState&&("expanded"===x.toState?this.afterExpand.emit():"collapsed"===x.toState&&this.afterCollapse.emit())}),b&&(this.hideToggle=b.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=Pt(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(No(null),Io(()=>this.expanded&&!this._portal),Xo(1)).subscribe(()=>{this._portal=new FU(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,o=this._body.nativeElement;return t===o||o.contains(t)}return!1}}return i.\u0275fac=function(t){return new(t||i)(U(KY,12),U(Bt),U(UY),U(gr),U(ut),U(za,8),U(eZ,8))},i.\u0275cmp=sn({type:i,selectors:[["mat-expansion-panel"]],contentQueries:function(t,o,c){if(1&t&&Jn(c,u0e,5),2&t){let u;vt(u=_t())&&(o._lazyContent=u.first)}},viewQuery:function(t,o){if(1&t&&Pn(i0e,5),2&t){let c;vt(c=_t())&&(o._body=c.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,o){2&t&&on("mat-expanded",o.expanded)("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-expansion-panel-spacing",o._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Ye([{provide:KY,useValue:void 0}]),Ze,Rn],ngContentSelectors:a0e,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,o){1&t&&(Hi(o0e),rn(0),X(1,"div",0,1),Me("@bodyExpansion.done",function(u){return o._bodyAnimationDone.next(u)}),X(3,"div",2),rn(4,1),ot(5,r0e,0,0,"ng-template",3),$(),rn(6,2),$()),2&t&&(he(1),pe("@bodyExpansion",o._getExpandedState())("id",o.id),dt("aria-labelledby",o._headerId),he(4),pe("cdkPortalOutlet",o._portal))},directives:[Wce],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[JY.bodyExpansion]},changeDetection:0}),i})();class d0e{}const h0e=QA(d0e);let m0e=(()=>{class i extends h0e{constructor(t,o,c,u,m,g,b){super(),this.panel=t,this._element=o,this._focusMonitor=c,this._changeDetectorRef=u,this._animationMode=g,this._parentChangeSubscription=Nt.EMPTY;const x=t.accordion?t.accordion._stateChanges.pipe(Io(D=>!(!D.hideToggle&&!D.togglePosition))):$l;this.tabIndex=parseInt(b||"")||0,this._parentChangeSubscription=ic(t.opened,t.closed,x,t._inputChanges.pipe(Io(D=>!!(D.hideToggle||D.disabled||D.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(Io(()=>t._containsFocus())).subscribe(()=>c.focusVia(o,"program")),m&&(this.expandedHeight=m.expandedHeight,this.collapsedHeight=m.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:Nl(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,o){t?this._focusMonitor.focusVia(this._element,t,o):this._element.nativeElement.focus(o)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return i.\u0275fac=function(t){return new(t||i)(U(tZ,1),U(mt),U(B3),U(Bt),U(eZ,8),U(za,8),ta("tabindex"))},i.\u0275cmp=sn({type:i,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,o){1&t&&Me("click",function(){return o._toggle()})("keydown",function(u){return o._keydown(u)}),2&t&&(dt("id",o.panel._headerId)("tabindex",o.tabIndex)("aria-controls",o._getPanelId())("aria-expanded",o._isExpanded())("aria-disabled",o.panel.disabled),Pr("height",o._getHeaderHeight()),on("mat-expanded",o._isExpanded())("mat-expansion-toggle-indicator-after","after"===o._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===o._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===o._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[Ze],ngContentSelectors:l0e,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,o){1&t&&(Hi(c0e),X(0,"span",0),rn(1),rn(2,1),rn(3,2),$(),ot(4,s0e,1,1,"span",1)),2&t&&(he(4),pe("ngIf",o._showToggle()))},directives:[N2],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}\n'],encapsulation:2,data:{animation:[JY.indicatorRotate]},changeDetection:0}),i})(),p0e=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Ee({type:i,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),i})(),g0e=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({imports:[[L2,tn,n0e,MY]]}),i})();const _0e=["trigger"],y0e=["panel"];function b0e(i,n){if(1&i&&(X(0,"span",8),je(1),$()),2&i){const t=ze();he(1),V1(t.placeholder)}}function C0e(i,n){if(1&i&&(X(0,"span",12),je(1),$()),2&i){const t=ze(2);he(1),V1(t.triggerValue)}}function x0e(i,n){1&i&&rn(0,0,["*ngSwitchCase","true"])}function M0e(i,n){1&i&&(X(0,"span",9),ot(1,C0e,2,1,"span",10),ot(2,x0e,1,0,"ng-content",11),$()),2&i&&(pe("ngSwitch",!!ze().customTrigger),he(2),pe("ngSwitchCase",!0))}function w0e(i,n){if(1&i){const t=$n();X(0,"div",13),X(1,"div",14,15),Me("@transformPanel.done",function(c){return yn(t),ze()._panelDoneAnimatingStream.next(c.toState)})("keydown",function(c){return yn(t),ze()._handleKeydown(c)}),rn(3,1),$(),$()}if(2&i){const t=ze();pe("@transformPanelWrap",void 0),he(1),g2("mat-select-panel ",t._getPanelTheme(),""),Pr("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),pe("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),dt("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const E0e=[[["mat-select-trigger"]],"*"],D0e=["mat-select-trigger","*"],nZ={transformPanelWrap:X5("transformPanelWrap",[U4("* => void",Boe("@transformPanel",[Hoe()],{optional:!0}))]),transformPanel:X5("transformPanel",[U2("void",Ki({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),U2("showing",Ki({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),U2("showing-multiple",Ki({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),U4("void => *",j3("120ms cubic-bezier(0, 0, 0.2, 1)")),U4("* => void",j3("100ms 25ms linear",Ki({opacity:0})))])};let iZ=0;const oZ=new be("mat-select-scroll-strategy"),T0e=new be("MAT_SELECT_CONFIG"),z0e={provide:oZ,deps:[e7],useFactory:function(i){return()=>i.scrollStrategies.reposition()}};class N0e{constructor(n,t){this.source=n,this.value=t}}const I0e=G3(QA(KA(KG(class{constructor(i,n,t,o,c){this._elementRef=i,this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=o,this.ngControl=c}})))),L0e=new be("MatSelectTrigger");let F0e=(()=>{class i extends I0e{constructor(t,o,c,u,m,g,b,x,D,k,z,L,R,j){var B,Q,K;super(m,u,b,x,k),this._viewportRuler=t,this._changeDetectorRef=o,this._ngZone=c,this._dir=g,this._parentFormField=D,this._liveAnnouncer=R,this._defaultOptions=j,this._panelOpen=!1,this._compareWith=(de,_e)=>de===_e,this._uid="mat-select-"+iZ++,this._triggerAriaLabelledBy=null,this._destroy=new st,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+iZ++,this._panelDoneAnimatingStream=new st,this._overlayPanelClass=(null==(B=this._defaultOptions)?void 0:B.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!=(K=null==(Q=this._defaultOptions)?void 0:Q.disableOptionCentering)&&K,this.ariaLabel="",this.optionSelectionChanges=function(i){return new Lt(n=>{yi(i()).subscribe(n)})}(()=>{const de=this.options;return de?de.changes.pipe(No(de),Iv(()=>ic(...de.map(_e=>_e.onSelectionChange)))):this._ngZone.onStable.pipe(Xo(1),Iv(()=>this.optionSelectionChanges))}),this.openedChange=new it,this._openedStream=this.openedChange.pipe(Io(de=>de),an(()=>{})),this._closedStream=this.openedChange.pipe(Io(de=>!de),an(()=>{})),this.selectionChange=new it,this.valueChange=new it,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==j?void 0:j.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=j.typeaheadDebounceInterval),this._scrollStrategyFactory=L,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(z)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){var t,o,c,u;return null!=(u=null!=(c=this._required)?c:null==(o=null==(t=this.ngControl)?void 0:t.control)?void 0:o.hasValidator(CX.required))&&u}set required(t){this._required=Pt(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Pt(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Pt(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=q5(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new gk(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(E3(),Jt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Jt(this._destroy)).subscribe(t=>{t.added.forEach(o=>o.select()),t.removed.forEach(o=>o.deselect())}),this.options.changes.pipe(No(null),Jt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const o=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?o.setAttribute("aria-labelledby",t):o.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,o;return this.multiple?(null==(t=this._selectionModel)?void 0:t.selected)||[]:null==(o=this._selectionModel)?void 0:o.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(o=>o.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const o=t.keyCode,c=40===o||38===o||37===o||39===o,u=13===o||32===o,m=this._keyManager;if(!m.isTyping()&&u&&!Nl(t)||(this.multiple||t.altKey)&&c)t.preventDefault(),this.open();else if(!this.multiple){const g=this.selected;m.onKeydown(t);const b=this.selected;b&&g!==b&&this._liveAnnouncer.announce(b.viewValue,1e4)}}_handleOpenKeydown(t){const o=this._keyManager,c=t.keyCode,u=40===c||38===c,m=o.isTyping();if(u&&t.altKey)t.preventDefault(),this.close();else if(m||13!==c&&32!==c||!o.activeItem||Nl(t))if(!m&&this._multiple&&65===c&&t.ctrlKey){t.preventDefault();const g=this.options.some(b=>!b.disabled&&!b.selected);this.options.forEach(b=>{b.disabled||(g?b.select():b.deselect())})}else{const g=o.activeItemIndex;o.onKeydown(t),this._multiple&&u&&t.shiftKey&&o.activeItem&&o.activeItemIndex!==g&&o.activeItem._selectViaInteraction()}else t.preventDefault(),o.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Xo(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(o=>o.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(o=>this._selectValue(o)),this._sortValues();else{const o=this._selectValue(t);o?this._keyManager.updateActiveItem(o):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const o=this.options.find(c=>{if(this._selectionModel.isSelected(c))return!1;try{return null!=c.value&&this._compareWith(c.value,t)}catch(u){return!1}});return o&&this._selectionModel.select(o),o}_initKeyManager(){this._keyManager=new boe(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Jt(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Jt(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=ic(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Jt(t)).subscribe(o=>{this._onSelect(o.source,o.isUserInput),o.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),ic(...this.options.map(o=>o._stateChanges)).pipe(Jt(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,o){const c=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(c!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),o&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),o&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),c!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((o,c)=>this.sortComparator?this.sortComparator(o,c,t):t.indexOf(o)-t.indexOf(c)),this.stateChanges.next()}}_propagateChanges(t){let o=null;o=this.multiple?this.selected.map(c=>c.value):this.selected?this.selected.value:t,this._value=o,this.valueChange.emit(o),this._onChange(o),this.selectionChange.emit(this._getChangeEvent(o)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null==(t=this.options)?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var c;if(this.ariaLabel)return null;const t=null==(c=this._parentFormField)?void 0:c.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var c;if(this.ariaLabel)return null;const t=null==(c=this._parentFormField)?void 0:c.getLabelId();let o=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(o+=" "+this.ariaLabelledby),o}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return i.\u0275fac=function(t){return new(t||i)(U(IU),U(Bt),U(Et),U(oU),U(mt),U(k_,8),U(B_,8),U(j_,8),U(uU,8),U(q2,10),ta("tabindex"),U(oZ),U(Ioe),U(T0e,8))},i.\u0275dir=Ee({type:i,viewQuery:function(t,o){if(1&t&&(Pn(_0e,5),Pn(y0e,5),Pn(RY,5)),2&t){let c;vt(c=_t())&&(o.trigger=c.first),vt(c=_t())&&(o.panel=c.first),vt(c=_t())&&(o._overlayDir=c.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[Ze,Rn]}),i})(),R0e=(()=>{class i extends F0e{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,o,c){const u=this._getItemHeight();return Math.min(Math.max(0,u*t-o+u/2),c)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Jt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Xo(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const o=aX(t,this.options,this.optionGroups),c=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===o?0:function(i,n,t,o){return i<t?i:i+n>t+256?Math.max(0,i-256+n):t}((t+o)*c,c,this.panel.nativeElement.scrollTop)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new N0e(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),o=this._viewportRuler.getViewportSize(),c=this._isRtl(),u=this.multiple?56:32;let m;if(this.multiple)m=40;else if(this.disableOptionCentering)m=16;else{let x=this._selectionModel.selected[0]||this.options.first;m=x&&x.group?32:16}c||(m*=-1);const g=0-(t.left+m-(c?u:0)),b=t.right+m-o.width+(c?0:u);g>0?m+=g+8:b>0&&(m-=b+8),this._overlayDir.offsetX=Math.round(m),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,o,c){const u=this._getItemHeight(),m=(u-this._triggerRect.height)/2,g=Math.floor(256/u);let b;return this.disableOptionCentering?0:(b=0===this._scrollTop?t*u:this._scrollTop===c?(t-(this._getItemCount()-g))*u+(u-(this._getItemCount()*u-256)%u):o-u/2,Math.round(-1*b-m))}_checkOverlayWithinViewport(t){const o=this._getItemHeight(),c=this._viewportRuler.getViewportSize(),u=this._triggerRect.top-8,m=c.height-this._triggerRect.bottom-8,g=Math.abs(this._offsetY),x=Math.min(this._getItemCount()*o,256)-g-this._triggerRect.height;x>m?this._adjustPanelUp(x,m):g>u?this._adjustPanelDown(g,u,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,o){const c=Math.round(t-o);this._scrollTop-=c,this._offsetY-=c,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,o,c){const u=Math.round(t-o);if(this._scrollTop+=u,this._offsetY+=u,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=c)return this._scrollTop=c,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),o=this._getItemCount(),c=Math.min(o*t,256),m=o*t-c;let g;g=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),g+=aX(g,this.options,this.optionGroups);const b=c/2;this._scrollTop=this._calculateOverlayScroll(g,b,m),this._offsetY=this._calculateOverlayOffsetY(g,b,m),this._checkOverlayWithinViewport(m)}_getOriginBasedOnOption(){const t=this._getItemHeight(),o=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-o+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return i.\u0275fac=function(){let n;return function(o){return(n||(n=xi(i)))(o||i)}}(),i.\u0275cmp=sn({type:i,selectors:[["mat-select"]],contentQueries:function(t,o,c){if(1&t&&(Jn(c,L0e,5),Jn(c,oX,5),Jn(c,rX,5)),2&t){let u;vt(u=_t())&&(o.customTrigger=u.first),vt(u=_t())&&(o.options=u),vt(u=_t())&&(o.optionGroups=u)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,o){1&t&&Me("keydown",function(u){return o._handleKeydown(u)})("focus",function(){return o._onFocus()})("blur",function(){return o._onBlur()}),2&t&&(dt("id",o.id)("tabindex",o.tabIndex)("aria-controls",o.panelOpen?o.id+"-panel":null)("aria-expanded",o.panelOpen)("aria-label",o.ariaLabel||null)("aria-required",o.required.toString())("aria-disabled",o.disabled.toString())("aria-invalid",o.errorState)("aria-describedby",o._ariaDescribedby||null)("aria-activedescendant",o._getAriaActiveDescendant()),on("mat-select-disabled",o.disabled)("mat-select-invalid",o.errorState)("mat-select-required",o.required)("mat-select-empty",o.empty)("mat-select-multiple",o.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[Ye([{provide:ek,useExisting:i},{provide:iX,useExisting:i}]),Ze],ngContentSelectors:D0e,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,o){if(1&t&&(Hi(E0e),X(0,"div",0,1),Me("click",function(){return o.toggle()}),X(3,"div",2),ot(4,b0e,2,1,"span",3),ot(5,M0e,3,2,"span",4),$(),X(6,"div",5),He(7,"div",6),$(),$(),ot(8,w0e,4,14,"ng-template",7),Me("backdropClick",function(){return o.close()})("attach",function(){return o._onAttached()})("detach",function(){return o.close()})),2&t){const c=f2(1);dt("aria-owns",o.panelOpen?o.id+"-panel":null),he(3),pe("ngSwitch",o.empty),dt("id",o._valueId),he(1),pe("ngSwitchCase",!0),he(1),pe("ngSwitchCase",!1),he(3),pe("cdkConnectedOverlayPanelClass",o._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",o._scrollStrategy)("cdkConnectedOverlayOrigin",c)("cdkConnectedOverlayOpen",o.panelOpen)("cdkConnectedOverlayPositions",o._positions)("cdkConnectedOverlayMinWidth",null==o._triggerRect?null:o._triggerRect.width)("cdkConnectedOverlayOffsetY",o._offsetY)}},directives:[FY,hl,ml,RY,Oh,Rh],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[nZ.transformPanelWrap,nZ.transformPanel]},changeDetection:0}),i})(),V0e=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({providers:[z0e],imports:[[L2,VY,sX,tn],pk,fU,sX,tn]}),i})();const O0e=["containmentForm"],P0e=["rotationForm"],H0e=function(i){return{"background-color":i}};function B0e(i,n){if(1&i&&(X(0,"div",38),X(1,"div",39),He(2,"div",40),$(),X(3,"span",41),je(4),$(),$()),2&i){const t=n.$implicit;he(2),pe("ngStyle",function(i,n,t,o){return ap(le(),sr(),i,n,t,o)}(2,H0e,t.color)),he(2),V1(t.name)}}function j0e(i,n){if(1&i){const t=$n();X(0,"mat-list-option",42),Me("click",function(){const u=yn(t).index;return ze().modeSelect(u)}),je(1),$()}if(2&i){const t=n.$implicit,o=n.index;Ja("matTooltip",ze().modeTooltip[o]),pe("selected",t.sel),he(1),mr(" ",t.label," ")}}function U0e(i,n){if(1&i){const t=$n();X(0,"mat-option",43),Me("click",function(){return yn(t),ze().handleContainerSelect()}),je(1),$()}if(2&i){const t=n.$implicit;Ja("value",t),he(1),V1(t)}}function $0e(i,n){if(1&i){const t=$n();X(0,"mat-list-option",42),Me("click",function(){const u=yn(t).index;return ze().appearanceSelect(u)}),je(1),$()}if(2&i){const t=n.$implicit,o=n.index;Ja("matTooltip",ze().appearanceTooltip[o]),pe("selected",t.sel),he(1),mr(" ",t.label," ")}}let q0e=(()=>{class i{constructor(t){this.vc=t,this.color="accent",this.appearanceTooltip=["Enable/Disable the rendering of vertex label. The view context will be preserved","Enable/Disable Tooltips for vertices. One can hover over a vertex and a textual description, the corresponding website and ontologyID will be displayed.","Enable/Disable the dark theme where the background is black and edges/rectangles are white"],this.modeTooltip=["Draw the entires graph including anatomical structures, cell types and biomarkers","Draw only anatomical structures and cell types in order to have a more compact representation of the respective organ. Click on a vertex in order to display all reachable biomarkers","The exploration mode is a layered approach where one can see the next 3 layers of the respective root. Click on a vertex in order to select it as root. Navigate backwards by clicking on the parent vertex(black)","This mode shows the unmodified data delivered by the ASCT+B API. No algorithmic improvement in terms of structure or layout is made"],this.legends=[],this.initializeLegend()}onGlobalClick(t){this.containmentForm.close(),this.rotationForm.close()}disableSelectionChange(t){t.selected=!t.selected}performModeChange(t){this.vc.modes.forEach(o=>{o.sel&&(o.sel=!1)}),this.vc.modes[t].sel=!0}modeSelect(t){this.vc.containmentSelect?2==t||3==t?this.openModal():(this.performModeChange(t),this.vc.controller.updateMode("Containment"),this.vc.controller.render()):(this.performModeChange(t),this.vc.controller.updateMode(this.vc.modes[t].label),this.vc.controller.render())}disableSelectionChange2(t){t.selected=!t.selected}containmentSelection(){if(this.vc.modes[2].sel||this.vc.modes[3].sel)this.openModal();else if(this.vc.containmentSelect){this.vc.containmentSelect=!1;let t=null;this.vc.controller.gui.modes.forEach(o=>{o.sel&&(t=o.label)}),this.vc.controller.updateMode(t),this.vc.controller.currentMode.reset(),this.vc.controller.render()}else this.vc.containmentSelect=!0,this.vc.controller.updateMode("Containment"),this.vc.controller.render()}openModal(){document.getElementById("backdrop").style.display="block",document.getElementById("exampleModal").style.display="block",document.getElementById("exampleModal").classList.add("show")}closeModal(){document.getElementById("backdrop").style.display="none",document.getElementById("exampleModal").style.display="none",document.getElementById("exampleModal").classList.remove("show")}handleContainerSelect(){this.vc.containmentSelect&&(this.vc.controller.currentMode.reset(),this.vc.controller.render())}appearanceSelect(t){this.vc.appearance[t].sel=!this.vc.appearance[t].sel,this.vc.controller.renderRestore()}initializeLegend(){this.legends.push({name:"Anatomical Structures",color:"#E41A1C"}),this.legends.push({name:"Cell Types",color:"#377EB8"}),this.legends.push({name:"Gene Biomarkers",color:"#4DAF4A"}),this.legends.push({name:"Protein Biomarkers",color:"#7fff00"})}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)(U(F_))},i.\u0275cmp=sn({type:i,selectors:[["app-side-nav"]],viewQuery:function(t,o){if(1&t&&(Pn(O0e,5),Pn(P0e,5)),2&t){let c;vt(c=_t())&&(o.containmentForm=c.first),vt(c=_t())&&(o.rotationForm=c.first)}},hostBindings:function(t,o){1&t&&Me("mousedown",function(u){return o.onGlobalClick(u)},!1,e8)},decls:76,vars:11,consts:[["id","sideNavID",1,"card","h-100","flex-container","flex-column",2,"background-color","rgba(0, 0, 0, 0.05)"],[1,"card","w-100","cardClass"],[3,"expanded","afterExpand","afterCollapse"],[1,"expansionHeader"],[1,"w-100"],[1,"cardContent",2,"margin-top","5%","margin-left","8%"],["class","d-flex flex-container w-100 navItem",4,"ngFor","ngForOf"],[1,"card","cardClass"],[1,"cardContent"],["multiple","",3,"selectionChange"],["checkboxPosition","before",3,"selected","matTooltip","click",4,"ngFor","ngForOf"],["appearance","fill","matTooltip","Containment is a fixed hierarchical ordering of cell types that supports both expansion and collapse of containers. Collapsed\n                              Container are indicated by a black vertex with a label that counts involved biomarker (Complete Graph) or the number of distinct anatomical structures\n                              (Partial Graph)",3,"selectionChange"],["checkboxPosition","before",3,"selected","click"],["fff",""],["appearance","fill","matTooltip","Select one of the following top-level container in order to have a compact representation of the containment",1,"w-100"],["placeholder","All Container",3,"value","valueChange","keydown"],["containmentForm",""],["value","All Container",3,"click"],[3,"value","click",4,"ngFor","ngForOf"],[1,"cardContent","flex-column","d-flex"],["multiple",""],["appearance","fill","matTooltip","Apply rotation as linear map on the drawing",1,"w-100",3,"keydown"],["placeholder","0 Degree",3,"value","valueChange"],["rotationForm",""],["value","0 Degree",3,"click"],["value","90 Degree",3,"click"],["value","180 Degree",3,"click"],["value","270 Degree",3,"click"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-modal","true","role","dialog",1,"modal","fade",3,"click"],["role","document",1,"modal-dialog","h-100","d-flex","justify-content-center","align-items-center",2,"transform","translateY(-15%)"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"w-100",2,"text-align","center"],[1,"modal-body"],[2,"text-align","center","font-size","2vh"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["id","backdrop",1,"modal-backdrop","fade","show",2,"display","none"],[1,"d-flex","flex-container","w-100","navItem"],[1,"flex-column"],[1,"circle",3,"ngStyle"],[1,"d-flex","legendText","flex-column"],["checkboxPosition","before",3,"selected","matTooltip","click"],[3,"value","click"]],template:function(t,o){1&t&&(X(0,"div",0),X(1,"div",1),X(2,"mat-expansion-panel",2),Me("afterExpand",function(){return o.vc.sideNavContainer1Expanded=!o.vc.sideNavContainer1Expanded})("afterCollapse",function(){return o.vc.sideNavContainer1Expanded=!o.vc.sideNavContainer1Expanded}),X(3,"mat-expansion-panel-header",3),X(4,"mat-panel-title",4),X(5,"div"),X(6,"b"),je(7," Legend "),$(),$(),$(),$(),X(8,"div",5),ot(9,B0e,5,4,"div",6),$(),$(),$(),X(10,"div",7),X(11,"mat-expansion-panel",2),Me("afterExpand",function(){return o.vc.sideNavContainer2Expanded=!o.vc.sideNavContainer2Expanded})("afterCollapse",function(){return o.vc.sideNavContainer2Expanded=!o.vc.sideNavContainer2Expanded}),X(12,"mat-expansion-panel-header",3),X(13,"mat-panel-title",4),X(14,"div"),X(15,"b"),je(16," Modes of Operation: "),$(),$(),$(),$(),X(17,"div",8),X(18,"mat-selection-list",9),Me("selectionChange",function(u){return o.disableSelectionChange(u.option)}),ot(19,j0e,2,3,"mat-list-option",10),$(),$(),$(),$(),X(20,"div",7),X(21,"mat-expansion-panel",2),Me("afterExpand",function(){return o.vc.sideNavContainer3Expanded=!o.vc.sideNavContainer3Expanded})("afterCollapse",function(){return o.vc.sideNavContainer3Expanded=!o.vc.sideNavContainer3Expanded}),X(22,"mat-expansion-panel-header",3),X(23,"mat-panel-title",4),X(24,"div"),X(25,"b"),je(26," Containment "),$(),$(),$(),$(),X(27,"div",8),X(28,"mat-selection-list",11),Me("selectionChange",function(u){return o.disableSelectionChange2(u.option)}),X(29,"mat-list-option",12,13),Me("click",function(){return o.containmentSelection()}),je(31," Enable Containment "),$(),$(),X(32,"mat-form-field",14),X(33,"mat-label"),je(34,"Choose Container:"),$(),X(35,"mat-select",15,16),Me("valueChange",function(u){return o.vc.selectedContainer=u})("keydown",function(u){return u.stopPropagation()}),X(37,"mat-option",17),Me("click",function(){return o.handleContainerSelect()}),je(38,"All Container"),$(),ot(39,U0e,2,2,"mat-option",18),$(),$(),$(),$(),$(),X(40,"div",7),X(41,"mat-expansion-panel",2),Me("afterExpand",function(){return o.vc.sideNavContainer4Expanded=!o.vc.sideNavContainer4Expanded})("afterCollapse",function(){return o.vc.sideNavContainer4Expanded=!o.vc.sideNavContainer4Expanded}),X(42,"mat-expansion-panel-header",3),X(43,"mat-panel-title",4),X(44,"div"),X(45,"b"),je(46," Appearance "),$(),$(),$(),$(),X(47,"div",19),X(48,"mat-selection-list",20),ot(49,$0e,2,3,"mat-list-option",10),$(),X(50,"mat-form-field",21),Me("keydown",function(u){return u.stopPropagation()}),X(51,"mat-label"),je(52,"Apply Rotation:"),$(),X(53,"mat-select",22,23),Me("valueChange",function(u){return o.vc.selectedRotation=u}),X(55,"mat-option",24),Me("click",function(){return o.vc.controller.renderRestore()}),je(56,"0 Degree"),$(),X(57,"mat-option",25),Me("click",function(){return o.vc.controller.renderRestore()}),je(58,"90 Degree"),$(),X(59,"mat-option",26),Me("click",function(){return o.vc.controller.renderRestore()}),je(60,"180 Degree"),$(),X(61,"mat-option",27),Me("click",function(){return o.vc.controller.renderRestore()}),je(62,"270 Degree"),$(),$(),$(),$(),$(),$(),$(),X(63,"div",28),Me("click",function(){return o.closeModal()}),X(64,"div",29),X(65,"div",30),X(66,"div",31),X(67,"h5",32),je(68,"Error"),$(),$(),X(69,"div",33),X(70,"p",34),je(71," This feature is not supported yet "),$(),$(),X(72,"div",35),X(73,"button",36),Me("click",function(){return o.closeModal()}),je(74,"Close"),$(),$(),$(),$(),$(),He(75,"div",37)),2&t&&(he(2),pe("expanded",o.vc.sideNavContainer1Expanded),he(7),pe("ngForOf",o.legends),he(2),pe("expanded",o.vc.sideNavContainer2Expanded),he(8),pe("ngForOf",o.vc.modes),he(2),pe("expanded",o.vc.sideNavContainer3Expanded),he(8),pe("selected",o.vc.containmentSelect),he(6),pe("value",o.vc.selectedContainer),he(4),pe("ngForOf",o.vc.containerStrings),he(2),pe("expanded",o.vc.sideNavContainer4Expanded),he(8),pe("ngForOf",o.vc.appearance),he(4),pe("value",o.vc.selectedRotation))},directives:[tZ,m0e,p0e,dl,vk,VU,OU,mX,lU,R0e,oX,zg],styles:[".circle[_ngcontent-%COMP%]{height:.9375rem;width:.9375rem;border-radius:50%;display:inline-block;transform:translateY(8%)}.cardClass[_ngcontent-%COMP%]{margin-bottom:1%}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]:focus, .mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.mat-slide-toggle.mat-checked[_ngcontent-%COMP%]   .mat-slide-toggle-bar[_ngcontent-%COMP%]{background-color:#000!important}.mat-slide-toggle.mat-checked[_ngcontent-%COMP%]   .mat-slide-toggle-thumb[_ngcontent-%COMP%]{background-color:#000}.expansionHeader[_ngcontent-%COMP%]{background-color:#f5f5f5;height:4vh;white-space:nowrap}.legendText[_ngcontent-%COMP%]{margin-left:5%}.cardContent[_ngcontent-%COMP%]{margin-top:2%}.sliderPAD[_ngcontent-%COMP%]{margin-bottom:1vh}"]}),i})(),aZ=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({}),i})(),o4e=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({imports:[[aZ,Q5,tn,kA],aZ,tn]}),i})(),w4e=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({imports:[[tn],tn]}),i})(),CZ=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({}),i})(),R4e=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Te({imports:[[Q5,tn,kA,CZ],tn,CZ]}),i})(),V4e=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i,bootstrap:[Av]}),i.\u0275inj=Te({providers:[],imports:[[Yg,g0e,o4e,$le,V0e,Ele,lX,mV,qD,dse,w4e,pce,Cce,R4e,Tle,Ace,mce]]}),i})();sc(Av,[N2,OV,F_],[]),sc(F_,[Jle,N2,q0e,Hse],[]),function(){if(ZM)throw new Error("Cannot enable prod mode after platform setup.");YM=!1}(),dR().bootstrapModule(V4e).catch(i=>console.error(i))},239:(Ti,_n,Be)=>{function Pe(zi,vi,Nt,Yr,Ar,Zr,Zn){try{var kr=zi[Zr](Zn),tr=kr.value}catch(x1){return void Nt(x1)}kr.done?vi(tr):Promise.resolve(tr).then(Yr,Ar)}function Uo(zi){return function(){var vi=this,Nt=arguments;return new Promise(function(Yr,Ar){var Zr=zi.apply(vi,Nt);function Zn(tr){Pe(Zr,Yr,Ar,Zn,kr,"next",tr)}function kr(tr){Pe(Zr,Yr,Ar,Zn,kr,"throw",tr)}Zn(void 0)})}}Be.d(_n,{Z:()=>Uo})}},Ti=>{Ti(Ti.s=643)}]);